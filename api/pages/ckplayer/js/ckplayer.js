{"title":"","uid":"1cd19fc71517798e2fa5b7457d1fb06e","text":"/* * 软件名称：ckplayer * 版本:X3 * 版权：www.ckplayer.com * 开源协议：MIT */ (function (global, factory) { typeof exports === 'object' && typeof module !=...","date":"2023-01-16T02:00:17.179Z","updated":"2022-10-11T00:46:49.000Z","comments":true,"path":"api/pages/ckplayer/js/ckplayer.js","covers":null,"excerpt":"","content":"/*\n * 软件名称：ckplayer\n * 版本:X3\n * 版权：www.ckplayer.com\n * 开源协议：MIT\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.ckplayer = factory());\n}(this, function () { 'use strict';\n\t/*\n\t * language\n\t * 功能：静态变量,包含播放器用到的默认语言包\n\t * 引入其它语言js后该变量将被替换成新引入的语言包\n\t */\n\tvar language={\n\t\tplay:'%E6%92%AD%E6%94%BE',\n\t\tpause:'%E6%9A%82%E5%81%9C',\n\t\trefresh:'%E9%87%8D%E6%92%AD',\n\t\tfull:'%E5%85%A8%E5%B1%8F',\n\t\texitFull:'%E9%80%80%E5%87%BA%E5%85%A8%E5%B1%8F',\n\t\twebFull:'%E9%A1%B5%E9%9D%A2%E5%85%A8%E5%B1%8F',\n\t\texitWebFull:'%E9%80%80%E5%87%BA%E9%A1%B5%E9%9D%A2%E5%85%A8%E5%B1%8F',\n\t\ttheatre:'%E5%89%A7%E5%9C%BA%E6%A8%A1%E5%BC%8F',\n\t\texitTheatre:'%E9%80%80%E5%87%BA%E5%89%A7%E5%9C%BA%E6%A8%A1%E5%BC%8F',\n\t\tvolume:'%E9%9F%B3%E9%87%8F%EF%BC%9A',\n\t\tmuted:'%E9%9D%99%E9%9F%B3',\n\t\texitmuted:'%E6%81%A2%E5%A4%8D%E9%9F%B3%E9%87%8F',\n\t\tseek:'seek%EF%BC%9A',\n\t\twaiting:'%E7%BC%93%E5%86%B2',\n\t\tlive:'%E7%9B%B4%E6%92%AD%E4%B8%AD',\n\t\tbackLive:'%E8%BF%94%E5%9B%9E%E7%9B%B4%E6%92%AD',\n\t\tlookBack:'%E5%9B%9E%E7%9C%8B%EF%BC%9A',\n\t\tnext:'%E4%B8%8B%E4%B8%80%E9%9B%86',\n\t\tscreenshot:'%E8%A7%86%E9%A2%91%E6%88%AA%E5%9B%BE',\n\t\tsmallwindows:'%E5%B0%8F%E7%AA%97%E5%8F%A3%E6%92%AD%E6%94%BE%E5%8A%9F%E8%83%BD',\n\t\tplaybackrate:'%E5%80%8D%E9%80%9F',\n\t\tplaybackrateSuffix:'%E5%80%8D',\n\t\ttrack:'%E5%AD%97%E5%B9%95',\n\t\tnoTrack:'%E6%97%A0%E5%AD%97%E5%B9%95',\n\t\tdefinition:'%E6%B8%85%E6%99%B0%E5%BA%A6',\n\t\tswitchTo:'%E5%88%87%E6%8D%A2%E6%88%90%EF%BC%9A',\n\t\tcloseTime:'%7Bseconds%7D%E7%A7%92%E5%90%8E%E5%8F%AF%E5%85%B3%E9%97%AD%E5%B9%BF%E5%91%8A',\n\t\tcloseAd:'%E5%85%B3%E9%97%AD%E5%B9%BF%E5%91%8A',\n\t\tsecond:'%E7%A7%92',\n\t\tdetails:'%E6%9F%A5%E7%9C%8B%E8%AF%A6%E6%83%85',\n\t\tcopy:'%E5%A4%8D%E5%88%B6',\n\t\tcopySucceeded:'%E5%A4%8D%E5%88%B6%E6%88%90%E5%8A%9F%EF%BC%8C%E5%8F%AF%E8%B4%B4%E7%B2%98%EF%BC%81',\n\t\tsmallwindowsOpen:'%E5%B0%8F%E7%AA%97%E5%8F%A3%E5%8A%9F%E8%83%BD%E5%B7%B2%E5%BC%80%E5%90%AF',\n\t\tsmallwindowsClose:'%E5%B0%8F%E7%AA%97%E5%8F%A3%E5%8A%9F%E8%83%BD%E5%B7%B2%E5%85%B3%E9%97%AD',\n\t\tscreenshotStart:'%E6%88%AA%E5%9B%BE%E4%B8%AD%EF%BC%8C%E8%AF%B7%E7%A8%8D%E5%80%99...',\n\t\tscreenshotClose:'%E6%88%AA%E5%9B%BE%E5%8A%9F%E8%83%BD%E5%B7%B2%E5%85%B3%E9%97%AD',\n\t\tloopOpen:'%E5%BE%AA%E7%8E%AF%E6%92%AD%E6%94%BE',\n\t\tloopClose:'%E5%B7%B2%E5%85%B3%E9%97%AD%E5%BE%AA%E7%8E%AF%E6%92%AD%E6%94%BE',\n\t\tclose:'%E5%85%B3%E9%97%AD',\n\t\tdown:'%E4%B8%8B%E8%BD%BD',\n\t\tp50:'50%25',\n\t\tp75:'75%25',\n\t\tp100:'100%25',\n\t\ttimeScheduleAdjust:{\n\t\t\tprohibit:'%E8%A7%86%E9%A2%91%E7%A6%81%E6%AD%A2%E6%8B%96%E5%8A%A8',\n\t\t\tprohibitBackOff:'%E8%A7%86%E9%A2%91%E7%A6%81%E6%AD%A2%E9%87%8D%E5%A4%8D%E8%A7%82%E7%9C%8B',\n\t\t\tprohibitForward:'%E8%A7%86%E9%A2%91%E7%A6%81%E6%AD%A2%E5%BF%AB%E8%BF%9B',\n\t\t\tprohibitLookBack:'%E8%A7%86%E9%A2%91%E7%A6%81%E6%AD%A2%E6%92%AD%E6%94%BE%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9',\n\t\t\tprohibitForwardNotViewed:'%E8%A7%86%E9%A2%91%E7%A6%81%E6%AD%A2%E6%92%AD%E6%94%BE%E6%9C%AA%E8%A7%82%E7%9C%8B%E7%9A%84%E9%83%A8%E5%88%86'\n\t\t},\n\t\terror:{\n\t\t\tnoMessage:'%E6%9C%AA%E7%9F%A5%E9%94%99%E8%AF%AF',\n\t\t\tsupportVideoError:'%E8%AF%A5%E6%B5%8F%E8%A7%88%E5%99%A8%E7%89%88%E6%9C%AC%E5%A4%AA%E4%BD%8E%EF%BC%8C%E5%BB%BA%E8%AE%AE%E6%9B%B4%E6%8D%A2%E6%88%90%E5%85%B6%E5%AE%83%E6%B5%8F%E8%A7%88%E5%99%A8',\n\t\t\tvideoTypeError:'%E8%AF%A5%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8D%E6%94%AF%E6%8C%81%E6%92%AD%E6%94%BE%E8%AF%A5%E8%A7%86%E9%A2%91%EF%BC%8C%E5%BB%BA%E8%AE%AE%E6%9B%B4%E6%8D%A2%E6%88%90%E5%85%B6%E5%AE%83%E6%B5%8F%E8%A7%88%E5%99%A8',\n\t\t\tloadingFailed:'%E5%8A%A0%E8%BD%BD%E5%A4%B1%E8%B4%A5',\n\t\t\temptied:'%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B%E4%B8%AD%E5%87%BA%E7%8E%B0%E9%94%99%E8%AF%AF',\n\t\t\tscreenshot:'%E8%A7%86%E9%A2%91%E6%88%AA%E5%9B%BE%E5%A4%B1%E8%B4%A5',\n\t\t\tajax:'Ajax%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82%E9%94%99%E8%AF%AF',\n\t\t\tnoVideoContainer:'%E6%9C%AA%E6%89%BE%E5%88%B0%E6%94%BE%E7%BD%AE%E8%A7%86%E9%A2%91%E7%9A%84%E5%AE%B9%E5%99%A8'\n\t\t}\n\t};\n\t/*\n\t * videoObjectDefault\n\t * 功能：静态变量,默认播放配置，当外部传递过来的配置有未包含在varsDefault里的，则使用varsDefault里的配置\n\t */\n\tvar videoObjectDefault= {\n\t\tcontainer: '',//视频容器的ID\n\t\tvolume: 0.8,//默认音量，范围0-1\n\t\tposter: '',//封面图片地址\n\t\tautoplay: false,//是否自动播放\n\t\tloop: false,//是否需要循环播放\n\t\tlive: false,//是否是直播\n\t\trotate:0,//视频旋转角度\n\t\tzoom:0,//默认缩放比例\n\t\tad:null,//广告\n\t\tbackLive:false,//显示返回直播按钮\n\t\tseek: 0,//默认需要跳转的秒数\n\t\tnext: null,//下一集按钮动作\n\t\tloaded: '',//加载播放器后调用的函数\n\t\tplug: '',//使用插件\n\t\tduration:0,//视频总时间\n\t\tpreview: null,//预览图片对象\n\t\tprompt: null,//提示点功能\n\t\tcrossOrigin:'',//跨域请求字符\n\t\tvideo: null,//视频地址\n\t\ttype:'',//视频类型\n\t\tplaybackrate: 1,//默认倍速\n\t\tended:null,//结束显示的内容\n\t\twebFull:false,//页面全屏按钮事件\n\t\ttheatre:null,//剧场模式\n\t\tcontrols:false,//是否显示自带控制栏\n\t\trightBar:null,//是否开启右边控制栏\n\t\tsmallWindows:null,//是否启用小窗口模式\n\t\tsmallWindowsDrag:true,//当处于小窗口模式时是否可拖动播放器\n\t\tscreenshot:false,//截图功能是否开启\n\t\ttimeScheduleAdjust:1,//是否可调节播放进度,0不启用，1是启用，2是只能前进（向右拖动），3是只能后退，4是只能前进但能回到第一次拖动时的位置，5是看过的地方可以随意拖动\n\t\tlogo:'',//logo\n\t\tmenu:null,//右键菜单\n\t\tinformation:{//关于\n\t\t\t'Load:':'{loadTime} second',\n\t\t\t'Duration:':'{duration} second',\n\t\t\t'Size:':'{videoWidth}x{videoHeight}',\n\t\t\t'Volume:':'{volume}%',\n\t\t\t'Fps:':'{fps}fps',\n\t\t\t'Sudio decoded:':'{audioDecodedByteCount} Byte',\n\t\t\t'Video decoded:':'{videoDecodedByteCount} Byte'\n\t\t},\n\t\ttrack:null,//字幕\n\t\ttitle:'',//视频标题\n\t\tlanguage:'',//语言包文件\n\t\tbarHideTime:1500,//控制栏隐藏时间\n\t\tplaybackrateOpen:true,//是否开启控制栏倍速选项\n\t\tplaybackrateList:[0.75,1,1.25,1.5,2,4],//倍速配置值\n\t\tcookie:null,//开启cookie功能\n\t\tdomain:null,//指定cookie保存的域\n\t\tcookiePath:'/',//指定cookie保存路径\n\t\tdocumentFocusPause:false,//窗口失去焦点后暂停播放\n\t\tmouseWheelVolume:2,//是否启用鼠标滚轮调节音量功能，0=不启用，1=启用，2=全屏时才启用\n\t\tkeyVolume:2,//是否启用键盘控制音量调节，0=不启用，1=启用，2=全屏时才启用\n\t\terrorShow:true//是否显示错误信息\n\t};\n\tfunction ckplayerEmbed(videoObj){\n\t\t/*\n\t\t * rightMenu\n\t\t * 功能：全局变量,右键内容\n\t\t * 初始化设置menu可替换该变量内容\n\t\t */\n\t\tvar rightMenu=[\n\t\t\t{\n\t\t\t\ttitle:'ckplayer',\n\t\t\t\tlink:'http://www.ckplayer.com'\t\t\t\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle:'version:X3',\n\t\t\t\tunderline:true\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle:'about',\n\t\t\t\tclick:'aboutShow'\n\t\t\t}\n\t\t];\n\t\tvar vars={},varsTemp={};//保存传递过来的videoObject\n\t\tvar video=null;//视频播放器对象\n\t\tvar duration=0;//总时间\n\t\tvar mutedState='';//默认静音状态\n\t\tvar recoveryVolume=false;//是否需要在播放时恢复音量\n\t\tvar waited=true;//是否缓冲结束\n\t\tvar paused=true;//默认暂停状态\n\t\tvar loadTime=0;//已加载部分\n\t\tvar seekTime=0;//需要跳转的时间，初次播放以及切换清晰度后会用该变量记录需要seek的时间\n\t\tvar oldTime=0,playTime=0,firstSeekTime=-1,maxSeeTime=0;//oldTime=记录上次播放时间，playTime=当前播放时间，firstSeekTime=记录第一次拖动的时间,maxSeeTime=看过的最大时间\n\t\tvar isChangeDef=true;//是否需要重置清晰度\n\t\tvar playType='';//播放类别，默认=''，是通过api接口播放，='button'则判定是通过点击按钮播放\n\t\tvar msgSetTime=null,tipSetTime=null,mouseSetTime=null;//用于显示提示后自动隐藏的计时器\n\t\tvar adFrontSetTime=null,adPauseSetTime=null;//贴片广告和暂停广告的计时器\n\t\tvar closeTipFun=null;//关闭提示的函数\n\t\tvar closeTipMouseOut=null;//鼠标离开节点时执行的函数\n\t\tvar waitingMessage=true;//显示缓冲提示\n\t\tvar hidePreviewSetTime=null;//隐藏预览图的计时器\n\t\tvar pSliderMouseDown=false;//判断是否在进度条上的滑块上按下\n\t\tvar playbackTime=0;//记录回放时间\n\t\tvar loadedmetadataNum=0;//记录元数据加载成功次数，记录视频播放数量\n\t\tvar screenshotImg=null;//记录最新一张截图\n\t\tvar ad=null;//广告对象\n\t\tvar frontAdPlay=false,pauseAdPlay=false;//贴片广告是否播放，暂停广告是否播放\n\t\tvar barShow=true,rightBarShow=true;\n\t\tvar EventTarget=null,newEvent=null,eventTargetList=null;//注册监听\n\t\tvar loadedTrack=false;//默认未加载字幕\n\t\tvar C={};//保存播放器界面上的所有节点\n\t\tvar CT=null,CK=null,CM=null,CV=null;//CT=播放器容器，页面中已存的，CT>CK>CM>CV>video\n\t\tvar pugPlayer=null;//插件播放器\n\t\tvar hls=null;//播放hls\n\t\tvar loadMeta=true;//第一次加载到元数据\n\t\tvar app='';//平台类型\n\t\tvar nowRotate=0;//当前视频旋转角度\n\t\tvar nowZoom=100;//当前缩放比例\n\t\tvar smallWindowsState=false;//当前是否处理小窗口状态\n\t\tvar isDrag=false;//是否在播放器上按下并且拖动\n\t\tvar ckplayerCookie='ckplayer-player-cookie';\n\t\tvar cookieName='';//cookie名称\n\t\tvar cookieTime=0;//cookie保存时间，单位：秒\n\t\tvar cookieArray=[];//保存当前所有记录\n\t\tvar focusPause=true;//失去焦点前是否是暂停状态\n\t\tvar existenceObj=false;//是否使用源码里已有的dom\n\t\t/*\n\t\t * into\n\t\t * 功能：初始化，调用播放器则首先调用该函数\n\t\t * @obj=初始化时的配置对象：videoObject\n\t\t*/\n\t\tvar into=function(obj){\n\t\t\t/*\n\t\t\t * 如果未传递初始化配置对象，则为player变量增加一个add函数，功能相当于into\n\t\t\t */\n\t\t\tif(isUndefined(obj)){\n\t\t\t\tplayer.add=player.into=into;\n\t\t\t\treturn player;\n\t\t\t}\n\t\t\t/*\n\t\t\t * 转码默认语言包\n\t\t\t */\n\t\t\tlanguage=decodeURIString(language);\n\t\t\t/*\n\t\t\t * 检查是否在顶部引入了外部语言包文件，如果引入了，则使用外部语言包替换进language变量\n\t\t\t */\n\t\t\tif(!isUndefined(window.ckplayerLanguage)){\n\t\t\t\tlanguage=mergeObj(language,window.ckplayerLanguage);\n\t\t\t}\n\t\t\t/*\n\t\t\t * 初始化注册事件函数，该函数的作用是将所有相关的事件都注册进一个变量newEvent\n\t\t\t * newEvent是提供给播放器外部监听函数使用的，如监听时间player.time(function(t){console.log('已播放：'+t);});\n\t\t\t */\n\t\t\teventTarget();\n\t\t\t/*\n\t\t\t * 监听页面标签状态（判断是否失去焦点）\n\t\t\t */\n\t\t\tdocumentHidden(function(state){\n\t\t\t\teventTarget('visibilityState',state);\n\t\t\t});\n\t\t\t/*\n\t\t\t * 判断平台类型,主要是判断是否是iphone类型的平台\n\t\t\t */\n\t\t\tapp=getApp();\n\t\t\t/*\n\t\t\t * 简单复制一下初始化时的默认配置\n\t\t\t */\n\t\t\tvarsTemp={};\n\t\t\tfor(var key in videoObjectDefault){\n\t\t\t\tvarsTemp[key]=videoObjectDefault[key];\n\t\t\t}\n\t\t\t/*\n\t\t\t * 如果初始化配置是字符串并且是以website:开头或url:开头的，则认为需要请求一个json文件来获取配置\n\t\t\t */\n\t\t\tif(valType(obj)=='string' && (obj.substr(0,8)=='website:' || obj.substr(0,4)=='url:')){\n\t\t\t\tvar ajaxUrl='';\n\t\t\t\tif(obj.substr(0,8)=='website:'){\n\t\t\t\t\tajaxUrl=obj.substring(8);\n\t\t\t\t}\n\t\t\t\tif(obj.substr(0,4)=='url:'){\n\t\t\t\t\tajaxUrl=obj.substring(4);\n\t\t\t\t}\n\t\t\t\tajax({url:ajaxUrl,success:function(data){\n\t\t\t\t\tif(data){\n\t\t\t\t\t\treturn into(data);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tshowWindowsError(language['error']['ajax']+',url:'+ajaxUrl);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}});\n\t\t\t}\n\t\t\t/*\n\t\t\t * 如果初始化配置是一个object，则进行下面的操作\n\t\t\t */\n\t\t\telse if(valType(obj)=='object'){\n\t\t\t\tvarsTemp = standardization(varsTemp, obj);//将obj合并到varsTemp对象里\n\t\t\t\tif(!isUndefined(obj['container']) && obj['container']){\n\t\t\t\t\tCT=$(obj['container']);\n\t\t\t\t\tif(CT){//如果播放容器存在，则调用语言判断函数\n\t\t\t\t\t\treturn loadLanguage(obj);\n\t\t\t\t\t}\n\t\t\t\t\telse{//如果播放容器不存在，则则等页面加载完成后运行\n\t\t\t\t\t\treturn bodyReady(obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{//不存在播放容器配置则等页面加载完成后运行\n\t\t\t\t\treturn bodyReady(obj);\n\t\t\t\t}\t\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\tshowWindowsError(language['error']['noVideoContainer']);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * bodyReady\n\t\t * 功能：页面加载完成后构建播放器\n\t\t * @obj=初始化时的配置对象\n\t\t*/\n\t\tbodyReady=function (obj){\n\t\t\tdocumentReady(function(){\n\t\t\t\tif(!isUndefined(obj['container'])){\n\t\t\t\t\tCT=$(obj['container']);\n\t\t\t\t\tif(CT){//如果播放容器存在，则调用语言判断函数\n\t\t\t\t\t\treturn loadLanguage(obj);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tshowWindowsError(language['error']['noVideoContainer']);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{//不存在播放容器则重新判断\n\t\t\t\t\treturn ajaxWebsite(obj);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn null;\n\t\t},\n\t\t/*\n\t\t * ajaxWebsite\n\t\t * 功能：页面加载完成后重新初始化\n\t\t * @obj=初始化时的配置对象\n\t\t */\n\t\tajaxWebsite=function (obj){\n\t\t\tif(valType(obj['video'])=='string' && (obj['video'].substr(0,8)=='website:' || obj['video'].substr(0,4)=='url:')){\n\t\t\t\tvarsTemp = standardization(varsTemp, obj);\n\t\t\t\tvar ajaxUrl='';\n\t\t\t\tif(obj['video'].substr(0,8)=='website:'){\n\t\t\t\t\tajaxUrl=obj['video'].substring(8);\n\t\t\t\t}\n\t\t\t\tif(obj['video'].substr(0,4)=='url:'){\n\t\t\t\t\tajaxUrl=obj['video'].substring(4);\n\t\t\t\t}\n\t\t\t\tajax({url:ajaxUrl,success:function(data){\n\t\t\t\t\tif(data){\n\t\t\t\t\t\treturn into(data);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tshowWindowsError(language['error']['ajax']+',url:'+ajaxUrl);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tshowWindowsError(language['error']['noVideoContainer']);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * loadLanguage\n\t\t * 功能：加载Language\n\t\t * @obj=初始化时的配置对象\n\t\t*/\n\t\tloadLanguage=function (obj){\n\t\t\tvars = standardization(varsTemp, obj);\n\t\t\tif(vars['language']){\n\t\t\t\tvar path=getPath('language')+vars['language']+'.js';\n\t\t\t\tloadJs(path,function(){\n\t\t\t\t\tif(!isUndefined(window['ckplayerLanguage'])){\n\t\t\t\t\t\tlanguage=mergeObj(language,window['ckplayerLanguage']);\n\t\t\t\t\t}\n\t\t\t\t\treturn embed(obj);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn embed(obj);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * embed\n\t\t * 功能：构建播放器\n\t\t * @obj=初始化时的配置对象\n\t\t*/\n\t\tembed=function (obj){\n\t\t\t/*\n\t\t\t * 判断静音状态\n\t\t\t */\n\t\t\tmutedState=vars['volume']>0?false:true;\n\t\t\tif(!isUndefined(CT) && CT!=null){\n\t\t\t\tif(valType(CT)=='htmlarray'){\n\t\t\t\t\tCT=CT.eq(0);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t/*\n\t\t\t * 注册获取fps的函数\n\t\t\t */\n\t\t\tcalculationFps();\n\t\t\t/*\n\t\t\t * 如果video指向一个已存在的video标签对象\n\t\t\t */\n\t\t\texistenceObj=valType(vars['video'])=='string' && ((vars['video'].substr(0,1)=='.' && vars['video'].indexOf('/')==-1) || vars['video'].substr(0,1)=='#');\n\t\t\t/*\n\t\t\t * 清空容器\n\t\t\t */\n\t\t\tif(existenceObj){\n\t\t\t\tCK=CT.find('.ckplayer-ckplayer')?CT.find('.ckplayer-ckplayer').eq(0):null;\n\t\t\t\tif(CK){\n\t\t\t\t\tCM=CK.find('.ck-main')?CK.find('.ck-main').eq(0):null;\n\t\t\t\t}\n\t\t\t\tif(CM){\n\t\t\t\t\tCV=CM.find('.ck-video')?CM.find('.ck-video').eq(0):null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!CK || !CM || !CV){\n\t\t\t\tCT.htm('');\n\t\t\t\t/*\n\t\t\t\t * 在播放容器里新建一个总的容器\n\t\t\t\t */\n\t\t\t\tCK=createlDiv('ckplayer-ckplayer');\n\t\t\t\tCT.append(CK);\n\t\t\t\t/*\n\t\t\t\t * 在总容器里再新建一个容器\n\t\t\t\t */\n\t\t\t\tCM=createlDiv('ck-main');\n\t\t\t\tCK.append(CM);\n\t\t\t\t/*\n\t\t\t\t * 新建一个放置video标签的容器\n\t\t\t\t */\n\t\t\t\tCV=createlDiv('ck-video');\n\t\t\t\tCM.append(CV);\n\t\t\t}\n\t\t\t/*\n\t\t\t * 如果已存在video.则先设置成空\n\t\t\t */\n\t\t\tif(video){\n\t\t\t\tvideo.remove();\n\t\t\t\tvideo=null;\n\t\t\t}\n\t\t\t/*\n\t\t\t * 如果video指向一个已存在的video标签对象，则直接调用该对象\n\t\t\t */\n\t\t\tif(existenceObj){\n\t\t\t\tvideo=$(vars['video'])?$(vars['video']).eq(0):null;\n\t\t\t}\n\t\t\t/*\n\t\t\t * 新建一个video标签\n\t\t\t */\n\t\t\tif(!video){\n\t\t\t\tvideo = createlVideo();\n\t\t\t\tvideo.attr('width','100%').attr('height','100%');\n\t\t\t\tCV.append(video);\n\t\t\t}\n\t\t\tvideo.volume=vars['volume'];\n\t\t\tif(vars['autoplay']){\n\t\t\t\tplayer.volume(0);\n\t\t\t\tplayer.muted();\n\t\t\t\trecoveryVolume=true;\n\t\t\t\tvideo.attr('autoplay','autoplay');\n\t\t\t\tpaused=false;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvideo.attr('preload','metadata');\n\t\t\t}\n\t\t\tCT.loop=vars['loop'];\n\t\t\tif(CT.loop){\n\t\t\t\tvideo.attr('loop','loop');\n\t\t\t}\n\t\t\tif(vars['controls']){\n\t\t\t\tvideo.controls=true;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvideo.controls=false;\n\t\t\t}\n\t\t\ttry{\n\t\t\t\tif(!existenceObj){\n\t\t\t\t\tvideo.attr('controlslist','nodownload');\n\t\t\t\t\tvideo.attr('x-webkit-airplay','true');\n\t\t\t\t\tvideo.attr('x5-video-orientation','portraint');\n\t\t\t\t\tvideo.attr('playsinline','true');\n\t\t\t\t\tvideo.attr('webkit-playsinline','true');\n\t\t\t\t\tvideo.attr('x5-playsinline','true');\n\t\t\t\t}\n\t\t\t\tif(vars['crossOrigin']){\n\t\t\t\t\tvideo.useCORS=true;//解决跨域\n\t\t     \t\tvideo.crossOrigin=vars['crossOrigin'];//解决跨域\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch(event){}\n\t\t\t/*\n\t\t\t * 默认设置支持小窗口模式\n\t\t\t */\n\t\t\tCT.smallWindows=true;\n\t\t\t/*\n\t\t\t * 默认设置不显示页面全屏按钮\n\t\t\t */\n\t\t\tCT.webFull=false;\n\t\t\t/*\n\t\t\t * 默认设置不显示剧场模式按钮\n\t\t\t */\n\t\t\tCT.theatre=false;\n\t\t\t/*\n\t\t\t * 加载播放器界面\n\t\t\t */\n\t\t\tloadFace();\n\t\t\t/*\n\t\t\t * 判断是否需要默认旋转视频\n\t\t\t */\n\t\t\tif(vars['rotate']>0){\n\t\t\t\tplayer.rotate(vars['rotate']);\n\t\t\t}\n\t\t\t/*\n\t\t\t * 判断是否需要默认缩放视频\n\t\t\t */\n\t\t\tif(vars['zoom']>0){\n\t\t\t\tplayer.zoom(vars['zoom']);\n\t\t\t}\n\t\t\t/*\n\t\t\t * 判断是否支持video标签\n\t\t\t */\n\t\t\tif(isUndefined(video.canPlayType)){\n\t\t\t\tCT.error={code:5,message:language['error']['supportVideoError']};\n\t\t\t\teventTarget('error',CT.error);//注册监听error\n\t\t\t\tshowError();\n\t\t\t\treturn player;\n\t\t\t}\n\t\t\t/*\n\t\t\t * 注册视频播放器内部监听，监听到事件后注册给CT使用\n\t\t\t */\n\t\t\taddAllListener();\n\t\t\t/*\n\t\t\t * 如果需要在视频播放器加载成功后调用相关函数，此时则开始调用\n\t\t\t */\n\t\t\tif(!isUndefined(vars['loaded'])){\n\t\t\t\tif(valType(vars['loaded'])=='function'){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tvars['loaded'](player);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){}\n\t\t\t\t}\n\t\t\t\telse if(valType(vars['loaded'])=='string'){\n\t\t\t\t\ttry{\n\t\t\t\t\t\teval(vars['loaded']+ '(player)');\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){}\n\t\t\t\t}\n\t\t\t}\n\t\t\t/*\n\t\t\t * 播放视频\n\t\t\t */\n\t\t\tif(!existenceObj){\n\t\t\t\tchangeVideo(vars['video']);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tchangeVideo(video.attr('src'));\n\t\t\t}\n\t\t\t/*\n\t\t\t * 返回 播放器\n\t\t\t */\n\t\t\treturn player;\n\t\t},\n\t\t/*\n\t\t * changeVideo\n\t\t * 功能：初始化视频地址或修改视频地址\n\t\t*/\n\t\tchangeVideo=function (vstr){\n\t\t\tvar i=0;\n\t\t\tif(video.attr('src') || video.htm()){\n\t\t\t\tplayer.pause();\n\t\t\t}\n\t\t\tif(video.attr('src') && !existenceObj){\n\t\t\t\tvideo.attr('src','');\n\t\t\t\tvideo.removeAttr('src');\n\t\t\t}\n\t\t\tif(!isUndefined(video.textTracks) && video.textTracks.length>0){\n\t\t\t\tfor(i=video.find('track').length-1;i>-1;i--){\n\t\t\t\t\tvideo.find('track').eq(i).remove();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!existenceObj){\n\t\t\t\tvideo.htm('');\n\t\t\t}\n\t\t\tif(!isUndefined(vars['ad'])){\n\t\t\t\tad=vars['ad'];\n\t\t\t}\n\t\t\tvar source='';\n\t\t\tif(valType(vstr)=='string'){\n\t\t\t\tif(vstr.substr(0,8)=='website:' || vstr.substr(0,4)=='url:'){\n\t\t\t\t\tvar ajaxUrl='';\n\t\t\t\t\tif(vstr.substr(0,8)=='website:'){\n\t\t\t\t\t\tajaxUrl=vstr.substring(8);\n\t\t\t\t\t}\n\t\t\t\t\tif(vstr.substr(0,4)=='url:'){\n\t\t\t\t\t\tajaxUrl=vstr.substring(4);\n\t\t\t\t\t}\n\t\t\t\t\tajax({url:ajaxUrl,success:function(data){\n\t\t\t\t\t\tif(data!=null){\n\t\t\t\t\t\t\tvars = standardization(varsTemp, data);\n\t\t\t\t\t\t\tchangeVideo(vars['video']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tCT.error={code:8,message:language['error']['ajax']};\n\t\t\t\t\t\t\teventTarget('error',CT.error);//注册监听error\n\t\t\t\t\t\t\tshowError();\n\t\t\t\t\t\t}\n\t\t\t\t\t}});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(vars['plug'] && !canPlay(vstr)){\n\t\t\t\t\t\tplugPlayer(vstr);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(!existenceObj){\n\t\t\t\t\t\t\tvideo.attr('src',vstr);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tloadTrack();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(valType(vstr)=='array'){\n\t\t\t\tfor(i=0;i<vstr.length;i++){\n\t\t\t\t\tif(valType(vstr[i])=='array'){\n\t\t\t\t\t\tif(vars['plug'] && !canPlay(vstr[i][0])){\n\t\t\t\t\t\t\tplugPlayer(vstr[i][0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tvar type=' type=\"'+ vstr[i][1]+'\"';\n\t\t\t\t\t\t\tif(vstr[i].length>1){\n\t\t\t\t\t\t\t\tsource += '<source src=\"' + decodeURIComponent(vstr[i][0]) + '\"' +type + '>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(source){\n\t\t\t\t\tvideo.htm(source);\n\t\t\t\t}\n\t\t\t\tloadTrack();\n\t\t\t}\n\t\t\telse if(valType(vstr)=='object'){\n\t\t\t\tif(vars['plug']){\n\t\t\t\t\tplugPlayer(vstr);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tCT.error={code:10,message:language['error']['emptied']};\n\t\t\t\t\teventTarget('error',CT.error);//注册监听error\n\t\t\t\t\tshowError();\n\t\t\t\t}\n\t\t\t\tloadTrack();\n\t\t\t}\n\t\t\tif(!isUndefined(video.find('source')) && video.find('source').length>0){\n\t\t\t\tvideo.find('source').eq(video.find('source').length-1).addListener('error',videoHandler.error);\n\t\t\t}\n\t\t\tcheckBar();\n\t\t\tloadLogo();\n\t\t\tif(isChangeDef){\n\t\t\t\tcheckDefinition();\n\t\t\t}\n\t\t\t/*\n\t\t\t * 对cookie进行相关分析\n\t\t\t*/\n\t\t\tif(vars['cookie']){\n\t\t\t\tif(valType(vars['cookie'])=='array' && vars['cookie'].length>=2){\n\t\t\t\t\tif(vars['cookie'][0] && valType(vars['cookie'][0])=='string'){\n\t\t\t\t\t\tcookieName=vars['cookie'][0];\n\t\t\t\t\t}\n\t\t\t\t\tif(vars['cookie'][1] && valType(vars['cookie'][1])=='number'){\n\t\t\t\t\t\tcookieTime=vars['cookie'][1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(valType(vars['cookie'])=='object' && !isUndefined(vars['cookie']['name'])){\n\t\t\t\t\tcookieName=vars['cookie']['name'];\n\t\t\t\t\tif(!isUndefined(vars['cookie']['hour']) && valType(vars['cookie']['hour'])=='number'){\n\t\t\t\t\t\tcookieTime=vars['cookie']['hour'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(valType(vars['cookie'])=='string'){\n\t\t\t\t\tcookieName=vars['cookie'];\n\t\t\t\t}\n\t\t\t\tif(cookieName){\n\t\t\t\t\tcookieName=cookieName.replace(/[ ]*,[ ]*|[ ]+/g, '').replace(/[ ]*;[ ]*|[ ]+/g, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!isUndefined(vars['seek']) && !seekTime){\n\t\t\t\tif(valType(vars['seek'])=='number' && vars['seek']>0){\n\t\t\t\t\tseekTime=vars['seek'];\n\t\t\t\t}\n\t\t\t\tif(valType(vars['seek'])=='string' && vars['seek']=='cookie' && cookieName){\n\t\t\t\t\tvar cke=player.cookie(cookieName);\n\t\t\t\t\tif(cke){\n\t\t\t\t\t\tseekTime=cke['time'];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * plugPlayer\n\t\t * 功能：使用插件进行播放\n\t\t*/\n\t\tplugPlayer=function (url){\n\t\t\tswitch(vars['plug']){\n\t\t\t\tcase 'hls.js':\n\t\t\t\t\thlsPlayer(url);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'flv.js':\n\t\t\t\t\tflvPlayer(url);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'mpegts.js':\n\t\t\t\t\tmpegtsPlayer(url);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dash.js':\n\t\t\t\t\tdashPlayer(url);\n\t\t\t\t\tbreak;\t\n\t\t\t\tdefault:\n\t\t\t\t\tif(valType(vars['plug'])=='function'){\n\t\t\t\t\t\tvars['plug'](video,url);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tCT.error={code:10,message:language['error']['emptied']};\n\t\t\t\t\t\teventTarget('error',CT.error);//注册监听error\n\t\t\t\t\t\tshowError();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * hlsPlayer\n\t\t * 功能：使用hls.js插件进行播放\n\t\t*/\n\t\thlsPlayer=function (url){\n\t\t\tvar path=getPath('hls.js')+'hls.min.js';\n\t\t\tloadJs(path,function(){\n\t\t\t\tif (!isUndefined(Hls) && Hls.isSupported()) {\n\t\t\t\t\thls = new Hls();\n\t\t\t\t\thls.loadSource(url);\n\t\t\t\t\thls.attachMedia(video);\n\t\t\t\t\thls.on(Hls.Events.ERROR, function(event, data){\n\t\t\t\t\t\tvar code=9;\n\t\t\t\t\t\tvar message=language['error']['loadingFailed'];\n\t\t\t\t\t\tvar fatal=data.fatal;\n\t\t\t\t\t\tif(!isUndefined(data.response)){\n\t\t\t\t\t\t\tif(!isUndefined(data.response.code)){\n\t\t\t\t\t\t\t\tcode=data.response.code;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(!isUndefined(data.response.text) && data.response.text){\n\t\t\t\t\t\t\t\tmessage=data.response.text;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tif(!isUndefined(event)){\n\t\t\t\t\t\t\t\t\tmessage=event;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tCT.error={code:code,message:message};\n\t\t\t\t\t\teventTarget('error',CT.error);//注册监听error\n\t\t\t\t\t\tif(fatal){\n\t\t\t\t\t\t\tshowError();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if(canPlay(url)){\n\t\t\t\t\tvideo.attr('src',url);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * flvPlayer\n\t\t * 功能：使用flv.js插件进行播放\n\t\t*/\n\t\tflvPlayer=function (url){\n\t\t\tvar path=getPath('flv.js')+'flv.min.js';\n\t\t\tloadJs(path,function(){\n\t\t\t\tif (typeof(flvjs)!='undefined' && !isUndefined(flvjs) && flvjs.isSupported()) {\n\t\t\t\t\tvar config={\n\t\t\t            type: 'flv',\n\t\t\t            url: url\n\t\t\t\t\t};\n\t\t\t\t\tif(valType(url)=='object'){\n\t\t\t\t\t\tconfig=url;\n\t\t\t\t\t}\n\t\t\t\t\tif(vars['live']){\n\t\t\t\t\t\tconfig['isLive']=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(pugPlayer){\n\t\t\t\t\t\tpugPlayer.pause();\n\t                    pugPlayer.unload();\n\t                    pugPlayer.detachMediaElement();\n\t                    pugPlayer.destroy();\n\t\t\t\t\t\tpugPlayer=null;\n\t\t\t\t\t}\n\t\t\t        pugPlayer = flvjs.createPlayer(config);\n\t\t\t        pugPlayer.attachMediaElement(video);\n\t\t\t        pugPlayer.load();\n\t\t\t        pugPlayer.on(flvjs.Events.METADATA_ARRIVED, function(res){\n\t\t\t        \tvideoHandler.loadedMetaData();\n\t\t\t        });\n\t\t\t        pugPlayer.on(flvjs.Events.ERROR, function(errorType, errorDetail, errorInfo){\n\t                  \tCT.error={code:errorInfo['code'],message:errorInfo['msg']};\n\t                  \teventTarget('error',CT.error);//注册监听error\n\t\t\t\t\t\tshowError();\n\t\t\t        });\n\t\t\t    }\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * mpegtsPlayer\n\t\t * 功能：使用mpegts.js插件进行播放\n\t\t*/\n\t\tmpegtsPlayer=function (url){\n\t\t\tvar path=getPath('mpegts.js')+'mpegts.js';\n\t\t\tloadJs(path,function(){\n\t\t\t\tif (typeof(mpegts)!='undefined' && !isUndefined(mpegts) && mpegts.getFeatureList().mseLivePlayback) {\n\t\t\t\t\tvar config={\n\t\t\t            type: 'mse',\n\t\t\t            url: url\n\t\t\t\t\t};\n\t\t\t\t\tif(valType(url)=='object'){\n\t\t\t\t\t\tconfig=url;\n\t\t\t\t\t}\n\t\t\t\t\tif(vars['live']){\n\t\t\t\t\t\tconfig['isLive']=true;\n\t\t\t\t\t}\n\t\t\t\t\tif(pugPlayer){\n\t\t\t\t\t\tpugPlayer.pause();\n\t                    pugPlayer.unload();\n\t                    pugPlayer.detachMediaElement();\n\t                    pugPlayer.destroy();\n\t\t\t\t\t\tpugPlayer=null;\n\t\t\t\t\t}\n\t\t\t        pugPlayer = mpegts.createPlayer(config);\n\t\t\t        pugPlayer.attachMediaElement(video);\n\t\t\t        pugPlayer.load();\n\t\t\t        \n\t\t\t        pugPlayer.on(mpegts.Events.METADATA_ARRIVED, function(res){\n\t\t\t        \tvideoHandler.loadedMetaData();\n\t\t\t        });\n\t\t\t        pugPlayer.on(mpegts.Events.ERROR, function(errorType, errorDetail, errorInfo){\n\t                  \tCT.error={code:errorInfo['code'],message:errorInfo['msg']};\n\t                  \teventTarget('error',CT.error);//注册监听error\n\t\t\t\t\t\tshowError();\n\t\t\t        });\n\t\t\t    }\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * canPlay\n\t\t * 功能：判断是否能支持相关视频格式\n\t\t*/\n\t\tcanPlay=function(vStr,num){\n\t\t\tvar vTypeArr=[\n\t\t\t\t{vidType:'video/ogg',codType:'theora, vorbis'},\n\t\t\t\t{vidType:'video/mp4',codType:'avc1.4D401E, mp4a.40.2'},\n\t\t\t\t{vidType:'video/mp4',codType:'avc1'},\n\t\t\t\t{vidType:'video/mp4',codType:'hevc'},\n\t\t\t\t{vidType:'video/webm',codType:'vp8.0, vorbis'},\n\t\t\t\t{vidType:'video/webm',codType:'vp9'},\n\t\t\t\t{vidType:'',codType:'application/x-mpegURL'},\n\t\t\t\t{vidType:'',codType:'application/vnd.apple.mpegurl'}\n\t\t\t];\n\t\t\tvar vType={\n\t\t\t\togg:vTypeArr[0],\n\t\t\t\tmp4:[vTypeArr[1],vTypeArr[2],vTypeArr[3]],\n\t\t\t\twebm:[vTypeArr[4],vTypeArr[5]],\n\t\t\t\tm3u8:[vTypeArr[6],vTypeArr[7]]\n\t\t\t};\n\t\t\tvar arr=[];\n\t\t\tvar k='';\n\t\t\tvar supportType=function(obj){\n\t\t\t\tvar vType=obj['vidType'];\n\t\t\t\tvar str='';\n\t\t\t\tif(vType){\n\t\t\t\t\tstr=vType+'; '+ 'codecs=\"' + obj['codType'] + '\"';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tstr=obj['codType'];\n\t\t\t\t}\n\t\t\t\tvar sup = video.canPlayType(str);\n\t\t\t\tif(sup == '') {\n\t\t\t\t\tsup = 'no';\n\t\t\t\t}\n\t\t\t\treturn sup;\n\t\t\t};\n\t\t\tvar getExtension=function(filepath) {\n\t\t\t\treturn filepath.replace(/.+\\./, '');\n\t\t\t};\n\t\t\tif(isUndefined(num)){\n\t\t\t\tif(valType(vStr)=='string'){\n\t\t\t\t\tif(vars['type']){\n\t\t\t\t\t\tfor(k in vTypeArr){\n\t\t\t\t\t\t\tif(vTypeArr[k]['vidType']==vars['type']){\n\t\t\t\t\t\t\t\tarr.push(vTypeArr[k]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(getExtension(vStr) && getExtension(vStr) in vType){\n\t\t\t\t\t\t\tvar temp=vType[getExtension(vStr)];\n\t\t\t\t\t\t\tif(valType(temp)=='array'){\n\t\t\t\t\t\t\t\tfor(var i=0;i<temp.length;i++){\n\t\t\t\t\t\t\t\t\tarr.push(temp[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tarr.push(temp);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tarr.push(vTypeArr[num]);\n\t\t\t}\n\t\t\tvar is=false;\n\t\t\tif(arr.length>0){\n\t\t\t\tfor(var i=0;i<arr.length;i++){\n\t\t\t\t\tif(supportType(arr[i])!='no'){\n\t\t\t\t\t\tis=true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!is && !vars['plug']){\n\t\t\t\tCT.error={code:6,message:language['error']['videoTypeError']};\n\t\t\t\teventTarget('error',CT.error);//注册监听error\n\t\t\t\tshowError();\n\t\t\t}\n\t\t\treturn is;\n\t\t},\n\t\t/*\n\t\t * loadFace\n\t\t * 功能：加载界面\n\t\t*/\n\t\tloadFace=function(){\n\t\t\t//loading容器\n\t\t\tC['loading']=createlDiv('ck-loading');\n\t\t\tCM.append(C['loading']);\n\t\t\t//默认控制栏容器\n\t\t\tC['bar']=createlDiv('ck-bar');\n\t\t\tCM.append(C['bar']);\n\t\t\t//右侧控制栏容器\n\t\t\tC['rightBar']=createlDiv('ck-right-bar ck-right-bar-hide');\n\t\t\tCM.append(C['rightBar']);\n\t\t\t//顶部容器\n\t\t\tC['topBar']=createlDiv('ck-top-bar ck-top-bar-hide');\n\t\t\tCM.append(C['topBar']);\n\t\t\t//进度栏\n\t\t\tC['bar']['pbox']=createlDiv('ck-bar-progress');\n\t\t\tC['bar']['pbox']['bg']=createlDiv('ck-bar-progress-bg');\n\t\t\tC['bar']['pbox']['load']=createlDiv('ck-bar-progress-load');\n\t\t\tC['bar']['pbox']['bg'].append(C['bar']['pbox']['load']);\n\t\t\tC['bar']['pbox']['play']=createlDiv('ck-bar-progress-play');\n\t\t\tC['bar']['pbox']['bg'].append(C['bar']['pbox']['play']);\n\t\t\tC['bar']['pbox']['mouseLine']=createlDiv('ck-bar-progress-mouseline');\n\t\t\tC['bar']['pbox']['bg'].append(C['bar']['pbox']['mouseLine']);\n\t\t\tC['bar']['pbox']['slider']=createlDiv('ck-bar-progress-slider');\n\t\t\tC['bar']['pbox'].append(C['bar']['pbox']['bg']).append(C['bar']['pbox']['slider']);\n\t\t\tC['bar'].append(C['bar']['pbox']);\n\t\t\tC['bar'].mouseout(barMouseOut).mouseover(barMouseOver);\n\t\t\tif(valType(vars['live'])=='number'){\n\t\t\t\tC['bar']['pbox']['play'].css({'width':'100%'});\n\t\t\t\tC['bar']['pbox']['slider'].css({'left':(100-C['bar']['pbox']['slider'].getWidth()*100/C['bar']['pbox']['bg'].getWidth())+'%'});\n\t\t\t}\n\t\t\t//播放暂停按钮组\n\t\t\tC['bar']['playAndPause']=createlDiv('ck-bar-playandpause');\n\t\t\tC['bar'].append(C['bar']['playAndPause']);\n\t\t\t\n\t\t\tC['bar']['playAndPause']['play']=createlButton('ck-bar-btn ck-btn-play');\n\t\t\tC['bar']['playAndPause']['play'].click(player.play);\n\t\t\tC['bar']['playAndPause']['play'].mouseover(function(){tip(this,language['play']);});\n\t\t\tC['bar']['playAndPause'].append(C['bar']['playAndPause']['play']);\n\t\t\t\n\t\t\tC['bar']['playAndPause']['pause']=createlButton('ck-bar-btn ck-btn-pause');\n\t\t\tC['bar']['playAndPause']['pause'].click(player.pause);\n\t\t\tC['bar']['playAndPause']['pause'].mouseover(function(){tip(this,language['pause']);});\n\t\t\tC['bar']['playAndPause'].append(C['bar']['playAndPause']['pause']);\n\t\t\tC['bar']['playAndPause']['pause'].hide();\n\t\t\tC['bar']['playAndPause']['refresh']=createlButton('ck-bar-btn ck-btn-refresh');\n\t\t\tC['bar']['playAndPause']['refresh'].click(player.play);\n\t\t\tC['bar']['playAndPause']['refresh'].mouseover(function(){tip(this,language['refresh']);});\n\t\t\tC['bar']['playAndPause'].append(C['bar']['playAndPause']['refresh']);\n\t\t\t\n\t\t\t//下一集按钮\n\t\t\tC['bar']['nextEpisode']=createlDiv('ck-bar-btn ck-bar-next');\n\t\t\tC['bar'].append(C['bar']['nextEpisode']);\n\t\t\tC['bar']['nextEpisode'].click(nextClick).mouseover(showNextEpisode).mouseout(function(){\n\t\t\t\tif(!isUndefined(C['next'])){\n\t\t\t\t\tplayer.closeLayer(C['next']);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(isUndefined(vars['next'])){\n\t\t\t\tC['bar']['nextEpisode'].hide();\n\t\t\t}\t\t\n\t\t\t//时间显示框\n\t\t\tvar timeDefault=formatSeconds(player.time())+'/'+formatSeconds(duration);\n\t\t\tif(vars['live']){\n\t\t\t\ttimeDefault=language['live'];\n\t\t\t}\n\t\t\tC['time']=createlDiv('ck-bar-time',timeDefault);\n\t\t\tC['bar'].append(C['time']);\n\t\t\t\n\t\t\t//返回直播按钮\n\t\t\tC['bar']['backLive']=createlButton('ck-btn-backlive',language['backLive']);\n\t\t\tC['bar'].append(C['bar']['backLive']);\n\t\t\tC['bar']['backLive'].mouseover(function(){tip(this,language['backLive']);}).click(function(){\n\t\t\t\teventTarget('backLive');\n\t\t\t});\n\t\t\tC['bar']['backLive'].hide();\n\t\t\t\n\t\t\t//全屏按钮组\t\n\t\t\tC['bar']['fullAndExit']=createlDiv('ck-bar-fullandexit');\n\t\t\tC['bar'].append(C['bar']['fullAndExit']);\n\t\t\t\n\t\t\tC['bar']['fullAndExit']['full']=createlButton('ck-bar-btn ck-btn-full');\n\t\t\tC['bar']['fullAndExit']['full'].click(player.fullOrExit);\n\t\t\tC['bar']['fullAndExit']['full'].mouseover(function(){tip(this,language['full']);});\n\t\t\tC['bar']['fullAndExit'].append(C['bar']['fullAndExit']['full']);\n\t\t\t\t\n\t\t\tC['bar']['fullAndExit']['exitFull']=createlButton('ck-bar-btn ck-btn-exitfull');\n\t\t\tC['bar']['fullAndExit']['exitFull'].click(player.fullOrExit);\n\t\t\tC['bar']['fullAndExit']['exitFull'].mouseover(function(){tip(this,language['exitFull']);});\n\t\t\tC['bar']['fullAndExit'].append(C['bar']['fullAndExit']['exitFull']);\t\n\t\t\t\t\n\t\t\t//网页全屏按钮\t\t\n\t\t\tC['bar']['webFullAndExit']=createlDiv('ck-bar-webfullandexit');\n\t\t\tC['bar'].append(C['bar']['webFullAndExit']);\n\t\t\t\n\t\t\tC['bar']['webFullAndExit']['webFull']=createlButton('ck-bar-btn ck-btn-webfull');\n\t\t\tC['bar']['webFullAndExit']['webFull'].click(player.webFull);\n\t\t\tC['bar']['webFullAndExit']['webFull'].mouseover(function(){tip(this,language['webFull']);});\n\t\t\tC['bar']['webFullAndExit'].append(C['bar']['webFullAndExit']['webFull']);\n\t\t\t\t\n\t\t\tC['bar']['webFullAndExit']['exitWebFull']=createlButton('ck-bar-btn ck-btn-exitwebfull');\n\t\t\tC['bar']['webFullAndExit']['exitWebFull'].click(player.exitWebFull);\n\t\t\tC['bar']['webFullAndExit']['exitWebFull'].mouseover(function(){tip(this,language['exitWebFull']);});\n\t\t\tC['bar']['webFullAndExit'].append(C['bar']['webFullAndExit']['exitWebFull']);\n\t\t\tif(!vars['webFull']){\n\t\t\t\tC['bar']['webFullAndExit'].hide();\n\t\t\t}\n\t\t\t//剧场模式按钮组\n\t\t\tC['bar']['theatreAndExit']=createlDiv('ck-bar-theatreandexit');\n\t\t\tC['bar'].append(C['bar']['theatreAndExit']);\n\t\t\t\n\t\t\tC['bar']['theatreAndExit']['theatre']=createlButton('ck-bar-btn ck-btn-theatre');\n\t\t\tC['bar']['theatreAndExit']['theatre'].click(player.theatre);\n\t\t\tC['bar']['theatreAndExit']['theatre'].mouseover(function(){tip(this,language['theatre']);});\n\t\t\tC['bar']['theatreAndExit'].append(C['bar']['theatreAndExit']['theatre']);\n\t\t\t\t\n\t\t\tC['bar']['theatreAndExit']['exitTheatre']=createlButton('ck-bar-btn ck-btn-exittheatre');\n\t\t\tC['bar']['theatreAndExit']['exitTheatre'].click(player.exitTheatre);\n\t\t\tC['bar']['theatreAndExit']['exitTheatre'].mouseover(function(){tip(this,language['exitTheatre']);});\n\t\t\tC['bar']['theatreAndExit'].append(C['bar']['theatreAndExit']['exitTheatre']);\n\t\t\t\n\t\t\tif(!vars['theatre']){\n\t\t\t\tC['bar']['theatreAndExit'].hide();\n\t\t\t}\n\t\t\t//音量容器\n\t\t\tC['bar']['vbox']=createlDiv('ck-bar-volumebox');\n\t\t\tC['bar'].append(C['bar']['vbox']);\n\t\t\t\n\t\t\tC['bar']['vbox']['muted']=createlButton('ck-bar-btn ck-btn-muted');\n\t\t\tC['bar']['vbox']['muted'].click(player.muted);\n\t\t\tC['bar']['vbox'].append(C['bar']['vbox']['muted']);\n\t\t\t\n\t\t\tC['bar']['vbox']['exitMuted']=createlButton('ck-bar-btn ck-btn-exitmuted');\n\t\t\tC['bar']['vbox']['exitMuted'].click(player.exitMuted);\n\t\t\tC['bar']['vbox'].append(C['bar']['vbox']['exitMuted']);\n\t\t\t\n\t\t\tC['bar']['vbox']['volume']=createlDiv('ck-bar-volume');\n\t\t\tC['bar']['vbox'].append(C['bar']['vbox']['volume']);\n\t\t\tC['bar']['vbox']['volume']['box']=createlDiv('ck-bar-volumex');\n\t\t\tC['bar']['vbox']['volume'].append(C['bar']['vbox']['volume']['box']);\n\t\t\tC['bar']['vbox']['volume']['txt']=createlDiv('ck-bar-volume-txt','0');\n\t\t\tC['bar']['vbox']['volume']['box'].append(C['bar']['vbox']['volume']['txt']);\n\t\t\tC['bar']['vbox']['volume']['bg']=createlDiv('ck-bar-volume-bg');\n\t\t\tC['bar']['vbox']['volume']['box'].append(C['bar']['vbox']['volume']['bg']);\n\t\t\tC['bar']['vbox']['volume']['pp']=createlDiv('ck-bar-volume-pp');\n\t\t\tC['bar']['vbox']['volume']['bg'].append(C['bar']['vbox']['volume']['pp']);\n\t\t\tC['bar']['vbox']['volume']['slider']=createlDiv('ck-bar-volume-slider');\n\t\t\tC['bar']['vbox']['volume']['box'].append(C['bar']['vbox']['volume']['slider']);\n\t\t\tC['bar']['vbox']['mouseDown']=false;\n\t\t\tC['bar']['vbox']['volume'].show();\n\t\t\tchangeVolumeSlider(vars['volume']);\n\t\t\tvolumeDragY();//注册音量调节滑块动作\n\t\t\tC['bar']['vbox']['volume'].attr('style','');\n\t\t\tC['bar']['vbox'].mouseover(function(){changeVolumeSlider(video.muted?0:video.volume);});\n\t\t\t//播速容器\n\t\t\tC['bar']['playbackrate']=createlDiv('ck-bar-playbackrate-box');\n\t\t\tC['bar'].append(C['bar']['playbackrate']);\n\t\t\tC['bar']['playbackrate']['button']=createlDiv('ck-bar-playbackrate',language['playbackrate']);\n\t\t\tC['bar']['playbackrate'].append(C['bar']['playbackrate']['button']);\n\t\t\tC['bar']['playbackrate']['bgbox']=createlDiv('ck-bar-playbackrate-bg-box ck-list-bg-box');\n\t\t\tC['bar']['playbackrate'].append(C['bar']['playbackrate']['bgbox']);\n\t\t\tcheckPlaybackrate();\n\t\t\t//字幕容器\n\t\t\tC['bar']['track']=createlDiv('ck-bar-track-box');\n\t\t\tC['bar'].append(C['bar']['track']);\n\t\t\tC['bar']['track']['button']=createlDiv('ck-bar-track',language['track']);\n\t\t\tC['bar']['track'].append(C['bar']['track']['button']);\n\t\t\tC['bar']['track']['bgbox']=createlDiv('ck-bar-track-bg-box ck-list-bg-box');\n\t\t\tC['bar']['track'].append(C['bar']['track']['bgbox']);\n\t\t\tC['bar']['track'].hide();\n\t\t\t//清晰度容器\n\t\t\tC['bar']['definition']=createlDiv('ck-bar-definition-box');\n\t\t\tC['bar'].append(C['bar']['definition']);\n\t\t\tC['bar']['definition']['button']=createlDiv('ck-bar-definition',language['definition']);\n\t\t\tC['bar']['definition'].append(C['bar']['definition']['button']);\n\t\t\tC['bar']['definition']['bgbox']=createlDiv('ck-bar-definition-bg-box ck-list-bg-box');\n\t\t\tC['bar']['definition'].append(C['bar']['definition']['bgbox']);\n\t\t\tC['bar']['definition'].hide();\n\t\t\t//截图按钮\n\t\t\tC['rightBar']['screenshot']=createlButton('ck-bar-btn ck-btn-screenshot');\n\t\t\tC['rightBar'].append(C['rightBar']['screenshot']);\n\t\t\tC['rightBar']['screenshot'].mouseover(function(){tip(this,language['screenshot'],null,'left');});\t\t\n\t\t\tC['rightBar']['screenshot'].click(player.screenshot);\n\t\t\t\n\t\t\t//小窗口按钮组\n\t\t\tC['rightBar']['smallwindows']=createlDiv('ck-right-bar-smallwindows');\n\t\t\tC['rightBar'].append(C['rightBar']['smallwindows']);\n\t\t\t\n\t\t\tC['rightBar']['smallwindows']['open']=createlButton('ck-bar-btn ck-btn-smallwindows-open');\n\t\t\tC['rightBar']['smallwindows']['open'].click(function(){tip(this,language['smallwindowsClose'],null,'left');player.smallWindows(false);});\n\t\t\tC['rightBar']['smallwindows']['open'].mouseover(function(){tip(this,language['smallwindowsOpen'],null,'left');});\n\t\t\tC['rightBar']['smallwindows'].append(C['rightBar']['smallwindows']['open']);\n\t\t\t\n\t\t\tC['rightBar']['smallwindows']['close']=createlButton('ck-bar-btn ck-btn-smallwindows-close');\n\t\t\tC['rightBar']['smallwindows']['close'].click(function(){tip(this,language['smallwindowsOpen'],null,'left');player.smallWindows(true)});\n\t\t\tC['rightBar']['smallwindows']['close'].mouseover(function(){tip(this,language['smallwindowsClose'],null,'left');});\n\t\t\tC['rightBar']['smallwindows'].append(C['rightBar']['smallwindows']['close']);\n\t\t\t//循环按钮组\n\t\t\tC['rightBar']['loop']=createlDiv('ck-right-bar-loop');\n\t\t\tC['rightBar'].append(C['rightBar']['loop']);\n\t\t\t\n\t\t\tC['rightBar']['loop']['open']=createlButton('ck-bar-btn ck-btn-loop-open');\n\t\t\tC['rightBar']['loop']['open'].click(function(){tip(this,language['loopClose'],null,'left');player.loop(false);});\n\t\t\tC['rightBar']['loop']['open'].mouseover(function(){tip(this,language['loopOpen'],null,'left');});\n\t\t\tC['rightBar']['loop'].append(C['rightBar']['loop']['open']);\n\t\t\t\n\t\t\tC['rightBar']['loop']['close']=createlButton('ck-bar-btn ck-btn-loop-close');\n\t\t\tC['rightBar']['loop']['close'].click(function(){tip(this,language['loopOpen'],null,'left');player.loop(true);});\n\t\t\tC['rightBar']['loop']['close'].mouseover(function(){tip(this,language['loopClose'],null,'left');});\n\t\t\tC['rightBar']['loop'].append(C['rightBar']['loop']['close']);\n\t\t\tC['rightBar'].mouseout(rightBarMouseOut).mouseover(rightBarMouseOver);\n\t\t\t//截图显示容器\n\t\t\tC['screenshot']=createlDiv('ck-screenshot');\n\t\t\tCM.append(C['screenshot']);\n\t\t\tC['screenshot']['img']=createlDiv('ck-screenshot-img');\n\t\t\tC['screenshot'].append(C['screenshot']['img']);\n\t\t\t\n\t\t\tC['screenshot']['bar']=createlDiv('ck-screenshot-bar');\n\t\t\tC['screenshot'].append(C['screenshot']['bar']);\n\t\t\t\n\t\t\tC['screenshot']['bar']['down']=createlA(language['down'],'','ck-screenshot-btn ck-screenshot-down');\n\t\t\tC['screenshot']['bar'].append(C['screenshot']['bar']['down']);\n\t\t\t\n\t\t\tC['screenshot']['bar']['close']=createlButton('ck-screenshot-btn ck-screenshot-close',language['close']);\n\t\t\tC['screenshot']['bar']['close'].click(player.closeScreenshot);\n\t\t\tC['screenshot']['bar'].append(C['screenshot']['bar']['close']);\n\t\t\t//顶部内容\n\t\t\tC['topBar']['zoomEle']=createlDiv('ck-top-bar-zoom');\n\t\t\t\n\t\t\tC['topBar']['zoomEle']['zoom50']=createlDiv('ck-top-bar-zoom-container');\n\t\t\tC['topBar']['zoomEle'].append(C['topBar']['zoomEle']['zoom50']);\n\t\t\tC['topBar']['zoomEle']['zoom50']['left']=createlDiv('ck-top-bar-zoom-left');\n\t\t\tC['topBar']['zoomEle']['zoom50'].append(C['topBar']['zoomEle']['zoom50']['left']);\n\t\t\tC['topBar']['zoomEle']['zoom50']['left']['button']=createlDiv('ck-top-bar-zoom-button-50');\n\t\t\tC['topBar']['zoomEle']['zoom50']['left'].append(C['topBar']['zoomEle']['zoom50']['left']['button']);\n\t\t\tC['topBar']['zoomEle']['zoom50']['right']=createlDiv('ck-top-bar-zoom-right',language['p50']);\n\t\t\tC['topBar']['zoomEle']['zoom50'].append(C['topBar']['zoomEle']['zoom50']['right']);\n\t\t\tC['topBar']['zoomEle']['zoom50'].click(function(){player.zoom(50);});\n\t\t\t\n\t\t\tC['topBar']['zoomEle']['zoom75']=createlDiv('ck-top-bar-zoom-container');\n\t\t\tC['topBar']['zoomEle'].append(C['topBar']['zoomEle']['zoom75']);\n\t\t\tC['topBar']['zoomEle']['zoom75']['left']=createlDiv('ck-top-bar-zoom-left');\n\t\t\tC['topBar']['zoomEle']['zoom75'].append(C['topBar']['zoomEle']['zoom75']['left']);\n\t\t\tC['topBar']['zoomEle']['zoom75']['left']['button']=createlDiv('ck-top-bar-zoom-button-75');\n\t\t\tC['topBar']['zoomEle']['zoom75']['left'].append(C['topBar']['zoomEle']['zoom75']['left']['button']);\n\t\t\tC['topBar']['zoomEle']['zoom75']['right']=createlDiv('ck-top-bar-zoom-right',language['p75']);\n\t\t\tC['topBar']['zoomEle']['zoom75'].append(C['topBar']['zoomEle']['zoom75']['right']);\n\t\t\tC['topBar']['zoomEle']['zoom75'].click(function(){player.zoom(75);});\n\t\t\t\n\t\t\tC['topBar']['zoomEle']['zoom100']=createlDiv('ck-top-bar-zoom-container');\n\t\t\tC['topBar']['zoomEle'].append(C['topBar']['zoomEle']['zoom100']);\n\t\t\tC['topBar']['zoomEle']['zoom100']['left']=createlDiv('ck-top-bar-zoom-left');\n\t\t\tC['topBar']['zoomEle']['zoom100'].append(C['topBar']['zoomEle']['zoom100']['left']);\n\t\t\tC['topBar']['zoomEle']['zoom100']['left']['button']=createlDiv('ck-top-bar-zoom-button-100');\n\t\t\tC['topBar']['zoomEle']['zoom100']['left'].append(C['topBar']['zoomEle']['zoom100']['left']['button']);\n\t\t\tC['topBar']['zoomEle']['zoom100']['right']=createlDiv('ck-top-bar-zoom-right',language['p100']);\n\t\t\tC['topBar']['zoomEle']['zoom100'].append(C['topBar']['zoomEle']['zoom100']['right']);\n\t\t\tC['topBar']['zoomEle']['zoom100'].click(function(){player.zoom(100);});\n\t\t\tC['topBar'].append(C['topBar']['zoomEle']);\n\t\t\tC['topBar']['titleEle']=createlDiv('ck-top-bar-title',vars['title']);\n\t\t\tC['topBar'].append(C['topBar']['titleEle']);\n\t\t\tC['topBar']['timeEle']=createlDiv('ck-top-bar-time');\n\t\t\tC['topBar'].append(C['topBar']['timeEle']);\n\t\t\t//中间播放按钮\n\t\t\tC['centerPlay']=createlDiv('ck-center-play');\n\t\t\tC['centerPlay'].click(player.play);\n\t\t\tCM.append(C['centerPlay']);\n\t\t\t//buff\n\t\t\tC['buffer']=createlDiv('ck-buffer');\n\t\t\tCM.append(C['buffer']);\n\t\t\t//消息提示框\n\t\t\tC['message']=createlDiv('ck-message');\n\t\t\tCM.append(C['message']);\n\t\t\t//消息Tip框\n\t\t\tC['tip']=createlDiv('ck-tip');\n\t\t\tCM.append(C['tip']);\n\t\t\tC['tip']['content']=createlDiv('ck-content ck-content-float-auto');\n\t\t\tC['tip'].append(C['tip']['content']);\n\t\t\tC['tip']['triangle']=createlDiv('ck-triangle ck-triangle-auto');\n\t\t\tC['tip'].append(C['tip']['triangle']);\n\t\t\ttip(video,'ckplayer');//初始化显示，为了获取高度\n\t\t\tC['tip'].minHeight=C['tip'].getHeight();\n\t\t\ttip();\n\t\t\t//贴片广告层\n\t\t\tC['ad']=createlDiv('ck-yytf');\n\t\t\tCM.append(C['ad']);\n\t\t\t\n\t\t\tC['ad']['link']=createlDiv('ck-yytf-front-link');\n\t\t\tC['ad'].append(C['ad']['link']);\n\t\t\tC['ad']['link'].click(frontVideoClickHandler);\n\t\t\t\n\t\t\tC['ad']['picture']=createlDiv('ck-yytf-front-picture');\n\t\t\tC['ad'].append(C['ad']['picture']);\n\t\t\t\n\t\t\tC['ad']['top']=createlDiv('ck-yytf-top');\n\t\t\tC['ad'].append(C['ad']['top']);\n\t\t\t\n\t\t\tC['ad']['top']['countDown']=createlDiv('ck-yytf-countdown');\n\t\t\tC['ad']['top'].append(C['ad']['top']['countDown']);\n\t\t\t\n\t\t\tC['ad']['top']['closeTime']=createlDiv('ck-yytf-closetime');\n\t\t\tC['ad']['top'].append(C['ad']['top']['closeTime']);\n\t\t\t\n\t\t\tC['ad']['top']['closeAd']=createlDiv('ck-yytf-closead',language['closeAd']);\n\t\t\tC['ad']['top'].append(C['ad']['top']['closeAd']);\n\t\t\tC['ad']['top']['closeAd'].click(closeFrontAd);\n\t\t\t\n\t\t\tC['ad']['bottom']=createlDiv('ck-yytf-bottom');\n\t\t\tC['ad'].append(C['ad']['bottom']);\n\t\t\t\n\t\t\tC['ad']['bottom']['fullAndExit']=createlDiv('ck-yytf-fullandexit');\n\t\t\tC['ad']['bottom'].append(C['ad']['bottom']['fullAndExit']);\n\t\t\tC['ad']['bottom']['fullAndExit']['full']=createlButton('ck-yytf-btn ck-yytf-fullandexit-full');\n\t\t\tC['ad']['bottom']['fullAndExit']['full'].click(player.full);\n\t\t\tC['ad']['bottom']['fullAndExit'].append(C['ad']['bottom']['fullAndExit']['full']);\n\t\t\tC['ad']['bottom']['fullAndExit']['exitFull']=createlButton('ck-yytf-btn ck-yytf-fullandexit-exitfull');\n\t\t\tC['ad']['bottom']['fullAndExit'].append(C['ad']['bottom']['fullAndExit']['exitFull']);\n\t\t\tC['ad']['bottom']['fullAndExit']['exitFull'].click(player.exitFull);\n\t\t\t\n\t\t\tC['ad']['bottom']['mutedAndExit']=createlDiv('ck-yytf-mutedandexit');\n\t\t\tC['ad']['bottom'].append(C['ad']['bottom']['mutedAndExit']);\n\t\t\tC['ad']['bottom']['mutedAndExit']['muted']=createlButton('ck-yytf-btn ck-yytf-mutedandexit-muted');\n\t\t\tC['ad']['bottom']['mutedAndExit'].append(C['ad']['bottom']['mutedAndExit']['muted']);\n\t\t\tC['ad']['bottom']['mutedAndExit']['muted'].click(player.muted);\n\t\t\tC['ad']['bottom']['mutedAndExit']['exitMuted']=createlButton('ck-yytf-btn ck-yytf-mutedandexit-exitmuted');\n\t\t\tC['ad']['bottom']['mutedAndExit'].append(C['ad']['bottom']['mutedAndExit']['exitMuted']);\n\t\t\tC['ad']['bottom']['mutedAndExit']['exitMuted'].click(player.exitMuted);\n\t\t\t\n\t\t\tC['ad']['bottom']['details']=createlDiv('ck-yytf-details',language['details']);\n\t\t\tC['ad']['bottom'].append(C['ad']['bottom']['details']);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tC['ad'].hide();\n\t\t\t//暂停广告层\n\t\t\tC['adPause']=createlDiv('ck-pause-yytf');\n\t\t\tCM.append(C['adPause']);\n\t\t\t//关于视频\n\t\t\tC['about']=createlDiv('ck-about');\n\t\t\tCM.append(C['about']);\t\t\n\t\t\tC['about']['bar']=createlDiv('ck-about-bar');\n\t\t\tC['about'].append(C['about']['bar']);\n\t\t\t\n\t\t\tC['about']['bar']['copy']=createlButton('ck-bar-btn ck-btn-about-copy');\n\t\t\tC['about']['bar'].append(C['about']['bar']['copy']);\n\t\t\tC['about']['bar']['copy'].click(aboutCopy);\n\t\t\tC['about']['bar']['copy'].mouseover(function(){tip(this,language['copy'],null,'left');});\n\t\t\t\n\t\t\tC['about']['bar']['close']=createlButton('ck-bar-btn ck-btn-about-close');\n\t\t\tC['about']['bar']['close'].click(aboutHide);\n\t\t\tC['about']['bar']['close'].mouseover(function(){tip(this,language['close'],null,'left');});\n\t\t\tC['about']['bar'].append(C['about']['bar']['close']);\n\t\t\t\n\t\t\tC['tempTime']=createlDiv('ck-tempTime');\n\t\t\tCM.append(C['tempTime']);\n\t\t\tC['bar']['playAndPause']['refresh'].hide();\n\t\t\tif(vars['controls']){\n\t\t\t\tplayer.bar(false);\n\t\t\t\tplayer.rightBar(false);\n\t\t\t\tC['loading'].hide();\n\t\t\t\tC['centerPlay'].hide();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tloadLogo();//加载logo\n\t\t\t\tloadAbout();//构建关于视频相关内容\n\t\t\t\tloadMenu();//构建右键\n\t\t\t}\n\t\t\tif(app=='iphone'){\n\t\t\t\tC['loading'].hide();\n\t\t\t}\n\t\t\tchangeTopTime();//修改顶部时间\n\t\t\tCK.mouseout(function(){\n\t\t\t\tif(!paused){\n\t\t\t\t\thideBar();\n\t\t\t\t}\n\t\t\t}).mouseover(function(){\n\t\t\t\tif(!C['bar'].hasClass('ck-bar-out')){\n\t\t\t\t\tC['bar'].removeClass('ck-bar-out');\n\t\t\t\t\tCM.removeClass('ck-nocursor');\n\t\t\t\t}\n\t\t\t\tif(C['rightBar'].css('display')=='block'){\n\t\t\t\t\tC['rightBar'].removeClass('ck-right-bar-hide');\n\t\t\t\t}\n\t\t\t\tif(C['topBar'].css('display')=='block'){\n\t\t\t\t\tC['topBar'].removeClass('ck-top-bar-hide');\n\t\t\t\t}\n\t\t\t}).mousemove(function(){\n\t\t\t\tif(C['bar'].hasClass('ck-bar-out')){\n\t\t\t\t\tC['bar'].removeClass('ck-bar-out');\n\t\t\t\t\teventTarget('mouseActive',true);\n\t\t\t\t\tCM.removeClass('ck-nocursor');\n\t\t\t\t\thideBar();\n\t\t\t\t}\n\t\t\t\tif(C['rightBar'].css('display')=='block'){\n\t\t\t\t\tC['rightBar'].removeClass('ck-right-bar-hide');\n\t\t\t\t}\n\t\t\t\tif(C['topBar'].css('display')=='block'){\n\t\t\t\t\tC['topBar'].removeClass('ck-top-bar-hide');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * addAllListener\n\t\t * 功能：注册播放器的全部监听\n\t\t*/\n\t\taddAllListener=function(){\n\t\t\tvideo.addListener('stalled',videoHandler.stalled);//在浏览器不论何种原因未能取回媒介数据时运行的脚本\n\t\t\tvideo.addListener('suspend',videoHandler.suspend);//在媒介数据完全加载之前不论何种原因终止取回媒介数据时运行的脚本\n\t\t\tvideo.addListener('loadeddata',videoHandler.loadedData);//监听视频数据已加载\n\t\t\tvideo.addListener('loadstart',videoHandler.loadStart);//在文件开始加载且未实际加载任何数据前运行的脚本\n\t\t\tvideo.addListener('loadedmetadata',videoHandler.loadedMetaData);//监听视频元数据\n\t\t\tvideo.addListener('canplay',videoHandler.canPlay);//当文件就绪可以开始播放时运行的脚本（缓冲已足够开始时）\n\t\t\tvideo.addListener('timeupdate',videoHandler.timeUpDate);//监听视频播放时间\n\t\t\tvideo.addListener('seeking',videoHandler.seeking);//监听视频跳转中\n\t\t\tvideo.addListener('seeked',videoHandler.seeked);//监听视频跳转\n\t\t\tvideo.addListener('waiting',videoHandler.waiting);//监听视频缓冲\n\t\t\tvideo.addListener('play',videoHandler.play);//监听视频播放事件\n\t\t\tvideo.addListener('pause',videoHandler.pause);//监听视频暂停事件\n\t\t\tvideo.addListener('volumechange',videoHandler.volumeChange);//监听音量改变\n\t\t\tvideo.addListener('ended',videoHandler.ended);//监听播放结束\n\t\t\tvideo.addListener('error',videoHandler.error);//监听发生故障并且文件突然不可用时运行的脚本（比如连接意外断开时）\n\t\t\tif(!isUndefined(video.emptied)){\n\t\t\t\tvideo.addListener('emptied',videoHandler.emptied);//监听播放结束\n\t\t\t}\n\t\t\t//CV.singleClick(player.playOrPause);//监听视频单击\n\t\t\tCV.singleClick(function(){\n\t\t\t\tif(!isDrag){\n\t\t\t\t\tplayer.playOrPause();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tisDrag=false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tCM.doubleClick(player.fullOrExit);//监听视频双击\n\t\t\t$(document).addListener('keydown',videoHandler.keydown);//监听键盘按键\n\t\t\taddListener(window, 'resize', videoHandler.resize);//监听窗口尺寸变化\n\t\t\tif(!isUndefined(vars['smallWindows'])){\n\t\t\t\tif(valType(vars['smallWindows'])=='boolean' && vars['smallWindows']){\n\t\t\t\t\taddListener(window, 'scroll', windowScroll);//监听窗口滚动\n\t\t\t\t}\n\t\t\t}\n\t\t\tCT.mouseWheel(videoHandler.mouseWheel);\n\t\t},\n\t\t/*\n\t\t * eventTarget\n\t\t * 功能：注册事件，将事件注册给CT对象供外部监听\n\t\t*/\n\t\teventTarget=function(name,obj){\n\t\t\ttry{\n\t\t\t\tif(EventTarget!=null){\n\t\t\t\t\tif(isUndefined(obj)){\n\t\t\t\t\t\tobj=null;\n\t\t\t\t\t}\n\t\t\t\t\tnewEvent.dispatchEvent(name,obj);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tEventTarget = function() {\n\t\t\t\t\t\tthis.listeners = {};\n\t\t\t\t\t};\n\t\t\t\t\tEventTarget.prototype.listeners = null;\n\t\t\t\t\tEventTarget.prototype.addEventListener = function(type, callback) {\n\t\t\t\t\t\tif(!(type in this.listeners)) {\n\t\t\t\t\t\t\tthis.listeners[type] = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.listeners[type].push(callback);\n\t\t\t\t\t\teventTargetList=this.listeners;\n\t\t\t\t\t};\n\t\t\t\t\tEventTarget.prototype.removeEventListener = function(type, callback) {\n\t\t\t\t\t\tif(!(type in this.listeners)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar stack = this.listeners[type];\n\t\t\t\t\t\tfor(var i = 0, l = stack.length; i < l; i++) {\n\t\t\t\t\t\t\tif(stack[i] === callback) {\n\t\t\t\t\t\t\t\tstack.splice(i, 1);\n\t\t\t\t\t\t\t\treturn this.removeEventListener(type, callback);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\teventTargetList=stack;\n\t\t\t\t\t};\n\t\t\t\t\tEventTarget.prototype.dispatchEvent = function(type,obj) {\n\t\t\t\t\t\tif(!(type in this.listeners)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar stack = this.listeners[type];\n\t\t\t\t\t\tfor(var i = 0, l = stack.length; i < l; i++) {\n\t\t\t\t\t\t\tstack[i].call(this, obj);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tnewEvent = new EventTarget();\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch(event){console.error(event)}\n\t\t},\n\t\t/*\n\t\t * changeCookie\n\t\t * 功能：使用cookie记录时间\n\t\t*/\n\t\tchangeCookie=function(time){\n\t\t\tvar arr=[];\n\t\t\tvar cStr=cookie(ckplayerCookie);\n\t\t\tvar i=0,y=0;\n\t\t\tvar cTime=Math.floor(Date.now()*0.001);\n\t\t\ttime=Math.floor(time*100);\n\t\t\ttime=time*0.01;\n\t\t\tif(!cookieTime){\n\t\t\t\tcookieTime=365*24;\n\t\t\t}\n\t\t\tif(!cStr){\n\t\t\t\tarr.push([cookieName,time,cTime+cookieTime*3600]);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tarr=stringToArray(cStr);\n\t\t\t\tvar have=false;\n\t\t\t\tvar tempArr=[[cookieName,time,cTime+cookieTime*3600]];\n\t\t\t\tfor(i=0;i<arr.length;i++){\n\t\t\t\t\tif(arr[i][2]>cTime && arr[i][0]!=cookieName && y<19){\n\t\t\t\t\t\ttempArr.push(arr[i]);\n\t\t\t\t\t\ty++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tarr=tempArr;\n\t\t\t}\n\t\t\tif(arr.length>0){\n\t\t\t\tcookie(ckplayerCookie,'delete',vars['domain'],vars['cookiePath']);\n\t\t\t\tcookie(ckplayerCookie,arrayToString(arr),vars['domain'],vars['cookiePath']);\n\t\t\t}\n\t\t\tcookieArray=arr;\n\t\t},\n\t\t/*\n\t\t * loadTrack\n\t\t * 功能：加载track\n\t\t*/\n\t\tloadTrack=function(){\n\t\t\tif(isUndefined(video.textTracks)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar i=0;\n\t\t\tif(!isUndefined(vars['track']) && valType(vars['track'])=='array' && !video.find('track')){\n\t\t\t\tvar track='';\n\t\t\t\tvar arr=vars['track'];\n\t\t\t\tC['bar']['track'].show();\n\t\t\t\tfor(i=0;i<arr.length;i++){\n\t\t\t\t\tvar def='';\n\t\t\t\t\tif(!def && !isUndefined(arr[i]['default']) && arr[i]['default']){\n\t\t\t\t\t\tdef=' default';\n\t\t\t\t\t}\n\t\t\t\t\ttrack+='<track src=\"'+arr[i]['src']+'\" srclang=\"'+arr[i]['srclang']+'\" kind=\"'+arr[i]['kind']+'\" label=\"'+arr[i]['label']+'\"'+def+'>';\n\t\t\t\t}\n\t\t\t\tif(video){\n\t\t\t\t\tvar html=video.htm()+track;\n\t\t\t\t\tvideo.htm(html);\n\t\t\t\t}\n\t\t\t\tif(video.find('track') && !loadedTrack){\n\t\t\t\t\tloadedTrack=true;\n\t\t\t\t\tcheckTrack();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * loadedMetaData\n\t\t * 功能：获取元数据后执行的函数\n\t\t*/\n\t\tloadedMetaData=function(){\n\t\t\teventTarget('loadedMetaData',{\n\t\t\t\twidth:CK.getWidth(),\n\t\t\t\theight:CK.getHeight(),\n\t\t\t\tvideoWidth:CT.videoWidth,\n\t\t\t\tvideoHeight:CT.videoHeight,\n\t\t\t\tduration:duration,\n\t\t\t\tvolume:CT.volume\n\t\t\t});\n\t\t\teventTarget('duration',duration);\n\t\t\tif('error' in C){\n\t\t\t\tC['error'].hide();\n\t\t\t}\n\t\t\treplaceInformation('videoWidth',CT.videoWidth);\n\t\t\treplaceInformation('videoHeight',CT.videoHeight);\n\t\t\treplaceInformation('volume',parseInt(CT.volume*100));\n\t\t\treplaceInformation('duration',parseInt(duration));\n\t\t\tdocumentHidden(function(state){\n\t\t\t\tif(vars['documentFocusPause']){\n\t\t\t\t\tif(state=='show'){\n\t\t\t\t\t\tif(!focusPause && paused){\n\t\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tfocusPause=paused;\n\t\t\t\t\t\tplayer.pause();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\t/*\n\t\t * videoHandler\n\t\t * 功能：视频播放对象video注册内部监听调用函数\n\t\t*/\n\t\tvar videoHandler={\n\t\t\tloadStart:function(){\n\t\t\t\tif(!vars['controls'] && app!='iphone'){\n\t\t\t\t\tC['loading'].show();\n\t\t\t\t}\n\t\t\t\tC['centerPlay'].hide();\n\t\t\t\teventTarget('loadstart');\n\t\t\t\t\n\t\t\t},\n\t\t\tcanPlay:function(){\n\t\t\t\tC['loading'].hide();\n\t\t\t\teventTarget('canplay');\n\t\t\t},\n\t\t\tloadedData:function(){\n\t\t\t\teventTarget('loadeddata');\n\t\t\t},\n\t\t\tloadedMetaData:function(){\n\t\t\t\tduration=this.duration;\n\t\t\t\tif(!isUndefined(this.duration) && vars['duration']){\n\t\t\t\t\tduration=vars['duration'];\n\t\t\t\t}\t\t\t\n\t\t\t\tif(!vars['live']){\n\t\t\t\t\tC['time'].htm(formatSeconds(this.currentTime)+'/'+formatSeconds(duration));\n\t\t\t\t\tC['tempTime'].htm(formatSeconds(this.currentTime)+'/'+formatSeconds(duration));\n\t\t\t\t}\n\t\t\t\tC['loading'].hide();\n\t\t\t\tif(vars['poster']){\n\t\t\t\t\tvideo.attr('poster',vars['poster']);\n\t\t\t\t}\n\t\t\t\tif(!vars['autoplay'] && !vars['controls']){\n\t\t\t\t\tC['centerPlay'].show();\n\t\t\t\t\tC['buffer'].hide();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tCT.duration=duration;\n\t\t\t\tCT.videoWidth=this.videoWidth;\n\t\t\t\tCT.videoHeight=this.videoHeight;\n\t\t\t\tCT.volume=this.volume;\n\t\t\t\tif(CT.videoWidth || CT.videoHeight || duration){\n\t\t\t\t\tloadedMetaData();\n\t\t\t\t}\n\t\t\t\tvar len = 0;\n\t\t\t\tif(!isUndefined(this.buffered)){\n\t\t\t\t\tlen=this.buffered.length;\n\t\t\t\t}\n\t\t\t\tif(len>0){\n\t\t\t\t\tchangeLoad();\n\t\t\t\t}\n\t\t\t\tif(!vars['live']){\n\t\t\t\t\tchangePreview(vars['preview']);//修改预览图片\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tchangePreview();//修改预览图片\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(vars['prompt']) && valType(vars['prompt'])=='array' && !vars['live']){\n\t\t\t\t\tchangePrompt();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tdeletePrompt();\n\t\t\t\t}\n\t\t\t\tif(isChangeDef){\n\t\t\t\t\tcheckDefinition();\n\t\t\t\t\tisChangeDef=false;\n\t\t\t\t}\n\t\t\t\tpSliderMouseDown=false;\n\t\t\t\tloadedmetadataNum++;\n\t\t\t\tif(!isUndefined(ad) && !isUndefined(ad['frontPlay']) && ad['frontPlay'] && loadedmetadataNum>1){//如果是贴片广告播放中，则进行播放和计算\n\t\t\t\t\tplayer.play();\n\t\t\t\t\tcalculationAdFrontTime(duration);//计算贴片广告的时间\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(ad) && !isUndefined(ad['frontPlay']) && !ad['frontPlay']){//如果广告播放结束则播放正片\n\t\t\t\t\tplayer.volume(vars['volume']);\n\t\t\t\t\tplayer.play();\n\t\t\t\t}\n\t\t\t\tif(!vars['autoplay'] && loadMeta){\n\t\t\t\t\tloadMeta=false;\n\t\t\t\t\tplayer.pause();\n\t\t\t\t\tsetTimeout(player.pause,300);\n\t\t\t\t}\n\t\t\t},\n\t\t\ttimeUpDate:function(){//监听播放时间\n\t\t\t\tif(!waited){\n\t\t\t\t\twaited=true;\n\t\t\t\t\tC['buffer'].hide();\n\t\t\t\t\teventTarget('buffer','end');\n\t\t\t\t}\n\t\t\t\tvar len = this.buffered.length;\n\t\t\t\tif(len>0){\n\t\t\t\t\tchangeLoad();\n\t\t\t\t}\n\t\t\t\tif(!duration && this.duration){\n\t\t\t\t\tduration=this.duration;\n\t\t\t\t\tCT.duration=duration;\n\t\t\t\t\tCT.videoWidth=this.videoWidth;\n\t\t\t\t\tCT.videoHeight=this.videoHeight;\n\t\t\t\t\tif(CT.videoWidth || CT.videoHeight || duration){\n\t\t\t\t\t\tloadedMetaData();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\toldTime=playTime;\n\t\t\t\tplayTime=this.currentTime;\n\t\t\t\tif(maxSeeTime<oldTime){\n\t\t\t\t\tmaxSeeTime=oldTime;\n\t\t\t\t}\n\t\t\t\tchangeProgress(playTime);\n\t\t\t\teventTarget('time',playTime);\n\t\t\t\tif(!vars['live']){\n\t\t\t\t\tC['time'].htm(formatSeconds(playTime)+'/'+formatSeconds(duration));\n\t\t\t\t\tC['tempTime'].htm(formatSeconds(playTime)+'/'+formatSeconds(duration));\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(ad) && !isUndefined(ad['frontPlay']) && ad['frontPlay'] && loadedmetadataNum>1){//如果是贴片广告播放中，则进行播放\n\t\t\t\t\tcalculationAdFrontTime(duration-playTime);//计算贴片广告的时间\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(C['error']) && C['error'].css('display')=='block'){\n\t\t\t\t\tC['error'].hide();\n\t\t\t\t}\n\t\t\t\tif(cookieName){\n\t\t\t\t\tchangeCookie(playTime);\n\t\t\t\t}\n\t\t\t\treplaceInformation('audioDecodedByteCount',this.webkitAudioDecodedByteCount || this.audioDecodedByteCount || 0);\n\t\t\t\treplaceInformation('videoDecodedByteCount',this.webkitVideoDecodedByteCount || this.videoDecodedByteCount || 0);\n\t\t\t},\n\t\t\tended:function(){//监听播放结束\n\t\t\t\tif(!isUndefined(ad) && !isUndefined(ad['frontPlay']) && ad['frontPlay']){//如果是贴片广告播放中，则用广告结束函数对此进行判断\n\t\t\t\t\tadFrontEnded();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tC['bar']['playAndPause']['pause'].hide();\n\t\t\t\t\tC['bar']['playAndPause']['play'].hide();\n\t\t\t\t\tC['bar']['playAndPause']['refresh'].show();\n\t\t\t\t\teventTarget('ended');\n\t\t\t\t\tshowEnded();\n\t\t\t\t\tmessage();\n\t\t\t\t}\n\t\t\t},\n\t\t\terror:function(event){\n\t\t\t\tif(!isUndefined(event.type)){\n\t\t\t\t\tvar errorInfo=this.error;\n\t\t\t\t\tvar errorBak=function(){\n\t\t\t\t\t\tvar code=12;\n\t\t\t\t\t\tvar msg=language['error']['loadingFailed'];\n\t\t\t\t\t\tif(!isUndefined(errorInfo)){\n\t\t\t\t\t\t\tif(!isUndefined(errorInfo.code)){\n\t\t\t\t\t\t\t\tcode=errorInfo.code;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(!isUndefined(errorInfo.message)){\n\t\t\t\t\t\t\t\tmsg=errorInfo.message;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tCT.error={code:code,message:msg};\n\t\t\t\t\t\t\tshowError();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tCT.error={code:code,message:msg};\n\t\t\t\t\t\t\tif(event.target.attr('src')){\n\t\t\t\t\t\t\t\tshowError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\teventTarget('error',CT.error);//注册监听error\n\t\t\t\t\t};\n\t\t\t\t\tif(event.type=='error'){\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tif(video.currentSrc){\n\t\t\t\t\t\t\t\tajax({url:video.currentSrc,error:function(info){\n\t\t\t\t\t\t\t\t\tif(info && valType(info)=='object' && 'code' in info && info['code']){\n\t\t\t\t\t\t\t\t\t\tCT.error=info;\n\t\t\t\t\t\t\t\t\t\teventTarget('error',CT.error);//注册监听error\n\t\t\t\t\t\t\t\t\t\tshowError();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\terrorBak();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},success:function(data){\n\t\t\t\t\t\t\t\t\tif(!data){\n\t\t\t\t\t\t\t\t\t\terrorBak();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\terrorBak();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch(event){\n\t\t\t\t\t\t\terrorBak();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tstalled:function(){\n\t\t\t\teventTarget('stalled');//注册监听error\n\t\t\t\tCT.error={code:13,message:'load:stalled'};\n\t\t\t\teventTarget('error',CT.error);//注册监听error\n\t\t\t},\n\t\t\tsuspend:function(){\n\t\t\t\teventTarget('suspend');//注册监听error\n\t\t\t},\n\t\t\temptied:function(){\n\t\t\t\teventTarget('emptied');//注册监听error\n\t\t\t\tCT.error={code:7,message:language['error']['emptied']};\n\t\t\t\teventTarget('error',CT.error);//注册监听error\n\t\t\t},\n\t\t\tseeked:function(){\n\t\t\t\tif(paused){\n\t\t\t\t\tplayer.play();\n\t\t\t\t}\n\t\t\t\tpSliderMouseDown=false;\n\t\t\t\teventTarget('seek',{time:this.currentTime,state:'seeked'});\n\t\t\t\teventTarget('seeked');\n\t\t\t},\n\t\t\tseeking:function(){\n\t\t\t\tif(paused){\n\t\t\t\t\tplayer.play();\n\t\t\t\t}\n\t\t\t\tvar seekingTime=this.currentTime;\n\t\t\t\tif(firstSeekTime==-1){\n\t\t\t\t\tfirstSeekTime=seekingTime;//记录第一次拖动的时间\n\t\t\t\t}\n\t\t\t\tswitch(vars['timeScheduleAdjust']){\n\t\t\t\t\tcase 0://禁止拖动\n\t\t\t\t\t\tif(oldTime!=seekingTime){\n\t\t\t\t\t\t\twaitingMessage=false;\n\t\t\t\t\t\t\tplayer.seek(oldTime);\n\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibit']);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2://只能前进（向右拖动\n\t\t\t\t\t\tif(seekingTime<oldTime){\n\t\t\t\t\t\t\twaitingMessage=false;\n\t\t\t\t\t\t\tplayer.seek(oldTime);\n\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitBackOff']);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3://是只能后退\n\t\t\t\t\t\tif(seekingTime>oldTime){\n\t\t\t\t\t\t\twaitingMessage=false;\n\t\t\t\t\t\t\tplayer.seek(oldTime);\n\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitForward']);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4://只能前进但能回到第一次拖动时的位置\n\t\t\t\t\t\tif(seekingTime<firstSeekTime){\n\t\t\t\t\t\t\twaitingMessage=false;\n\t\t\t\t\t\t\tplayer.seek(firstSeekTime);\n\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitLookBack']);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5://看过的地方可以随意拖动\n\t\t\t\t\t\tif(seekingTime>maxSeeTime){\n\t\t\t\t\t\t\twaitingMessage=false;\n\t\t\t\t\t\t\tplayer.seek(maxSeeTime);\n\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitForwardNotViewed']);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\teventTarget('seek',{time:seekingTime,state:'seeking'});\n\t\t\t\teventTarget('seeking');\n\t\t\t\tif(!vars['live']){\n\t\t\t\t\tC['time'].htm(formatSeconds(seekingTime)+'/'+formatSeconds(duration));\n\t\t\t\t\tC['tempTime'].htm(formatSeconds(seekingTime)+'/'+formatSeconds(duration));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\twaiting:function(){\n\t\t\t\twaited=false;\n\t\t\t\teventTarget('buffer','start');//注册监听视频缓冲\n\t\t\t\tC['centerPlay'].hide();\n\t\t\t\tif(!vars['controls']){\n\t\t\t\t\tC['buffer'].show();\n\t\t\t\t}\n\t\t\t\tif(!waitingMessage){\n\t\t\t\t\twaitingMessage=true;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tmessage(language['waiting']);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\tplay:function(){\n\t\t\t\tpaused=false;\n\t\t\t\tC['bar']['playAndPause']['play'].hide();\n\t\t\t\tC['bar']['playAndPause']['pause'].show();\n\t\t\t\tC['bar']['playAndPause']['refresh'].hide();\n\t\t\t\tC['centerPlay'].hide();\n\t\t\t\tif(playType=='button'){\n\t\t\t\t\tC['bar']['pbox'].removeClass('ck-bar-progress-out');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tC['bar']['pbox'].addClass('ck-bar-progress-out');\n\t\t\t\t}\n\t\t\t\tif(recoveryVolume){\n\t\t\t\t\trecoveryVolume=false;\n\t\t\t\t\tplayer.exitMuted();\n\t\t\t\t}\n\t\t\t\thideBar();\n\t\t\t\tclosePauseAd();//关闭暂停广告\n\t\t\t\tplayType='';\n\t\t\t\tif(!isUndefined(C['ended'])){\n\t\t\t\t\tplayer.closeLayer(C['ended']);\n\t\t\t\t}\n\t\t\t\tif('error' in C){\n\t\t\t\t\tC['error'].hide();\n\t\t\t\t}\n\t\t\t\teventTarget('play');\n\t\t\t\tif(!isUndefined(ad)){//如果存在广告\n\t\t\t\t\tif(!isUndefined(ad['front'])){//如果存在贴片广告\n\t\t\t\t\t\tif(isUndefined(ad['frontPlay'])){//如果贴片广告还未播放\n\t\t\t\t\t\t\tad['frontPlayI']=0;\n\t\t\t\t\t\t\tad['frontPlay']=true;//开始播放贴片广告\n\t\t\t\t\t\t\tplayer.pause();//暂停视频\n\t\t\t\t\t\t\tadFrontPlay();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(seekTime && (isUndefined(vars['live']) || (!isUndefined(vars['live']) && valType(vars['live'])=='boolean' && !vars['live'])) && seekTime<parseInt(duration*100)*0.01){//如果默认需要跳转，则进行seek\n\t\t\t\t\tplayer.seek(seekTime);\n\t\t\t\t\tseekTime=0;\n\t\t\t\t}\t\t\t\n\t\t\t},\n\t\t\tpause:function(){\n\t\t\t\tpaused=true;\n\t\t\t\tif(isUndefined(ad) || isUndefined(ad['frontPlay']) || (!isUndefined(ad['frontPlay']) && !ad['frontPlay'])){//如果是贴片广告播放中，则进行播放和计算\n\t\t\t\t\tif(!isUndefined(ad) && !isUndefined(ad['pause'])){\n\t\t\t\t\t\tif(isUndefined(ad['pausePlayI'])){//如果贴片广告还未播放\n\t\t\t\t\t\t\tad['pausePlayI']=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tadPausePlay();//播放暂停广告\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(!vars['controls']){\n\t\t\t\t\t\t\tC['centerPlay'].show();\n\t\t\t\t\t\t\tC['buffer'].hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(!vars['controls']){\n\t\t\t\t\t\tC['centerPlay'].show();\n\t\t\t\t\t\tC['buffer'].hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tC['bar']['playAndPause']['pause'].hide();\n\t\t\t\tC['bar']['playAndPause']['play'].show();\n\t\t\t\tC['bar']['playAndPause']['refresh'].hide();\n\t\t\t\tC['bar']['pbox'].removeClass('ck-bar-progress-out');\n\t\t\t\tcheckProgressSlider();\n\t\t\t\teventTarget('pause');\n\t\t\t\tC['bar'].removeClass('ck-bar-out');\n\t\t\t\tCM.removeClass('ck-nocursor');\n\t\t\t},\n\t\t\tvolumeChange:function(){\n\t\t\t\tif(this.volume==0 && !mutedState){\n\t\t\t\t\tthis.muted=true;\n\t\t\t\t}\n\t\t\t\tif(this.volume>0 && mutedState){\n\t\t\t\t\tthis.muted=false;\n\t\t\t\t}\n\t\t\t\tif(mutedState!=this.muted){\n\t\t\t\t\tmutedState=this.muted;\n\t\t\t\t\tchangeMuted(this.muted);\n\t\t\t\t\tCT.muted=this.muted;\n\t\t\t\t\teventTarget('muted',CT.muted);//注册静音事件\n\t\t\t\t}\n\t\t\t\tCT.volume=this.volume;\n\t\t\t\teventTarget('volume',this.volume);//注册音量事件\n\t\t\t\tif(!isUndefined(C['bar']['vbox'])){\n\t\t\t\t\tvar vol=parseInt(this.volume*100);\n\t\t\t\t\tC['bar']['vbox']['volume']['txt'].htm(vol);\n\t\t\t\t\tif(!C['bar']['vbox']['mouseDown']){\n\t\t\t\t\t\tchangeVolumeSlider(this.muted?0:this.volume);\n\t\t\t\t\t}\n\t\t\t\t\tif(!this.muted){//如果非静音状态\n\t\t\t\t\t\tmessage(language['volume']+vol+'%');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treplaceInformation('volume',parseInt(this.volume*100));\n\t\t\t},\n\t\t\tresize:function(){\n\t\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement;\n\t\t\t\tif(fullState) {\n\t\t\t\t\tC['bar']['fullAndExit']['exitFull'].show();\n\t\t\t\t\tC['bar']['fullAndExit']['full'].hide();\n\t\t\t\t\tC['ad']['bottom']['fullAndExit']['exitFull'].show();\n\t\t\t\t\tC['ad']['bottom']['fullAndExit']['full'].hide();\n\t\t\t\t\tif(!CM.hasClass('ck-main-full')){\n\t\t\t\t\t\tCM.addClass('ck-main-full');\n\t\t\t\t\t}\n\t\t\t\t\tmessage(language['full']);\n\t\t\t\t\tC['bar']['webFullAndExit'].hide();\n\t\t\t\t\tC['bar']['theatreAndExit'].hide();\n\t\t\t\t\tif(!isUndefined(C['menu'])){\n\t\t\t\t\t\tCM.append(C['menu']);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfullState=false;\n\t\t\t\t\tC['bar']['fullAndExit']['full'].show();\n\t\t\t\t \tC['bar']['fullAndExit']['exitFull'].hide();\n\t\t\t\t \tC['ad']['bottom']['fullAndExit']['full'].show();\n\t\t\t\t \tC['ad']['bottom']['fullAndExit']['exitFull'].hide();\n\t\t\t\t \tif(CM.hasClass('ck-main-full')){\n\t\t\t\t\t\tCM.removeClass('ck-main-full');\n\t\t\t\t\t}\n\t\t\t\t \tif(!isUndefined(vars['webFull']) && vars['webFull']){\n\t\t\t\t \t\tC['bar']['webFullAndExit'].show();\n\t\t\t\t \t}\n\t\t\t\t \tif(!isUndefined(vars['theatre']) && !CT.webFull){\n\t\t\t\t\t\tC['bar']['theatreAndExit'].show();\n\t\t\t\t\t}\n\t\t\t\t \tif(!isUndefined(C['menu'])){\n\t\t\t\t\t\t$('body').append(C['menu']);\n\t\t\t\t\t}\n\t\t\t\t \tif(CV.css('width')!=CM.css('width')){\n\t\t\t\t \t\tplayer.zoom(100);\n\t\t\t\t \t}\n\t\t\t\t}\n\t\t\t\tif(CT.full!=fullState){\n\t\t\t\t\tCT.full=fullState;\n\t\t\t\t\teventTarget('full',fullState);//注册播放事件\n\t\t\t\t}\n\t\t\t\tcheckVideoRotate();\n\t\t\t\tchangeProgress(player.time());\n\t\t\t},\n\t\t\tkeydown:function(event){\n\t\t\t\tevent=window.event || event;\n\t\t\t\tvar keycode = event.keyCode || event.which;\n\t\t\t\tvar v=player.volume();\n\t\t\t\tvar pre=function(){\n\t\t\t\t\tif(event.preventDefault){\n\t\t\t\t        event.preventDefault();\n\t\t\t\t    }\n\t\t\t\t    else{\n\t\t\t\t        event.returnValue = false;\n\t\t\t\t    }\n\t\t\t\t};\n\t\t\t\tswitch(keycode) {\n\t\t\t\t\tcase 32:\n\t\t\t\t\t    pre();\n\t\t\t\t\t\tplayer.playOrPause();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tplayer.fastBack();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tplayer.fastNext();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tif(valType(vars['keyVolume'])=='number' && (vars['keyVolume']==1 || (vars['keyVolume']==2 && CT.full))){\n\t\t\t\t\t\t\tpre();\n\t\t\t\t\t\t\tplayer.volume(v+.1<1?v+=.1:1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tif(valType(vars['keyVolume'])=='number' && (vars['keyVolume']==1 || (vars['keyVolume']==2 && CT.full))){\n\t\t\t\t\t\t\tpre();\n\t\t\t\t\t\t\tplayer.volume(v-.1>0?v-=.1:0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tmouseWheel:function(event){\n\t\t\t\tif(valType(vars['mouseWheelVolume'])=='number' && (vars['mouseWheelVolume']==1 || (vars['mouseWheelVolume']==2 && CT.full))){\n\t\t\t\t\tevent=window.event || event;\n\t\t\t\t\tvar v=player.volume();\n\t\t\t\t\tif(event.preventDefault){\n\t\t\t\t        event.preventDefault();\n\t\t\t\t    }\n\t\t\t\t    else{\n\t\t\t\t        event.returnValue = false;\n\t\t\t\t    }\n\t\t\t\t\tif(event.wheelDelta) {\n\t\t\t\t\t\tif(event.wheelDelta > 0) {\n\t\t\t\t\t\t\tplayer.volume(v+.1<1?v+=.1:1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(event.wheelDelta < 0) {\n\t\t\t\t\t\t\tplayer.volume(v-.1>0?v-=.1:0);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(event.detail) {\n\t\t\t\t\t\tif(event.detail > 0) {\n\t\t\t\t\t\t\tplayer.volume(v-.1>0?v-=.1:0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(event.detail < 0) {\n\t\t\t\t\t\t\tplayer.volume(v+.1<1?v+=.1:1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t};\n\t\t/*\n\t\t * adFrontPlay\n\t\t * 功能：播放贴片广告\n\t\t*/\n\t\tvar adFrontPlay=function(){\n\t\t\tif(ad['frontPlayI']==0){//如果是播放第一个广告，则显示相关组件\n\t\t\t\tallBarHide(false);\n\t\t\t\tC['ad'].show();\n\t\t\t\tad['front']['video']=false;//初始化，不包含视频广告\n\t\t\t\t//判断是否需要启用固定时间后关闭广告按钮\n\t\t\t\tif(!isUndefined(ad['front']['closeTime'])){\n\t\t\t\t\tif(ad['front']['closeTime']>0){\n\t\t\t\t\t\tC['ad']['top']['closeTime'].show();\n\t\t\t\t\t\tadFrontCloseTime();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tC['ad']['top']['closeAd'].show();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!isUndefined(ad['front']['node']) && ad['front']['node']!=null){\n\t\t\t\tCM.append(ad['front']['node']);\n\t\t\t\tplayer.closeLayer(ad['front']['node']);\n\t\t\t\tad['front']['node']=null;\n\t\t\t}\n\t\t\tC['ad']['picture'].htm('');\n\t\t\tC['ad']['picture'].hide();\n\t\t\tC['ad']['link'].hide();\n\t\t\tif(!isUndefined(ad['front']['list'][ad['frontPlayI']])){\n\t\t\t\tvar adv=ad['front']['list'][ad['frontPlayI']];\n\t\t\t\tfrontAdPlay=true;//贴片广告播放状态\n\t\t\t\teventTarget('frontAd',adv);\n\t\t\t\tif(adv['type']=='picture'){\n\t\t\t\t\tadPicturePlay(adv);\n\t\t\t\t}\n\t\t\t\telse if(adv['type']=='node'){\n\t\t\t\t\tadNode(adv);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tC['ad']['link'].attr('data-link',adv['link']);\n\t\t\t\t\tadVideoPlay(adv['file']);\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(adv['link'])){\n\t\t\t\t\tC['ad']['bottom']['details'].show();\n\t\t\t\t\tC['ad']['bottom']['details'].htm('<a href=\"'+adv['link']+'\" target=\"blank\">'+language['details']+'</a>');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tC['ad']['bottom']['details'].hide();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * adFrontCloseTime\n\t\t * 功能：播放贴片广告时按指定时间后显示关闭广告按钮\n\t\t*/\n\t\tadFrontCloseTime=function(){\n\t\t\tif(!isUndefined(ad['front']['closeSetTime'])){\n\t\t\t\tclearTimeout(ad['front']['closeSetTime']);\n\t\t\t\tad['front']['closeSetTime']=null;\n\t\t\t}\n\t\t\tC['ad']['top']['closeTime'].htmReplace('{seconds}',ad['front']['closeTime'],language['closeTime']);\n\t\t\tad['front']['closeTime']--;\n\t\t\tif(ad['front']['closeTime']>0){\n\t\t\t\tad['front']['closeSetTime']=setTimeout(adFrontCloseTime,1000);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tC['ad']['top']['closeAd'].show();\n\t\t\t\tC['ad']['top']['closeTime'].hide();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * calculationAdFrontTime\n\t\t * 功能：计算贴片广告倒计时时间以及广告是视频时用于倒计时\n\t\t*/\n\t\tcalculationAdFrontTime=function(t){\n\t\t\tif(!isUndefined(t)){\n\t\t\t\tad['front']['list'][ad['frontPlayI']]['time']=t;\n\t\t\t}\n\t\t\tad['front']['countDown']=0;\n\t\t\tfor(var i=ad['frontPlayI'];i<ad['front']['list'].length;i++){\n\t\t\t\tad['front']['countDown']+=parseInt(ad['front']['list'][i]['time']);\n\t\t\t}\n\t\t\tC['ad']['top']['countDown'].htm(ad['front']['countDown']+language['second']);\n\t\t},\n\t\t/*\n\t\t * clearAdFrontSetTime\n\t\t * 功能：关闭贴片广告倒计时的计时器\n\t\t*/\n\t\tclearAdFrontSetTime=function(){\n\t\t\tif(adFrontSetTime){\n\t\t\t\tclearTimeout(adFrontSetTime);\n\t\t\t\tadFrontSetTime=null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * adFrontCountDown\n\t\t * 功能：贴片广告倒计时\n\t\t*/\n\t\tadFrontCountDown=function(){\n\t\t\tclearAdFrontSetTime();\n\t\t\tvar adv=ad['front']['list'][ad['frontPlayI']];\n\t\t\tif(adv['time']>0){\n\t\t\t\tadv['time']--;\n\t\t\t\tad['front']['countDown']--;\n\t\t\t\tC['ad']['top']['countDown'].htm(ad['front']['countDown']+language['second']);\n\t\t\t\tadFrontSetTime=setTimeout(adFrontCountDown,1000);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tadFrontEnded();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * adFrontEnded\n\t\t * 功能：贴片广告单个播放完成后进行判断是否需要播放下一个广告还是播放正片\n\t\t*/\n\t\tadFrontEnded=function(){\n\t\t\tif(ad['frontPlayI']<ad['front']['list'].length-1){\n\t\t\t\tad['frontPlayI']++;\n\t\t\t\tadFrontPlay();\n\t\t\t}\n\t\t\telse{//贴片广告播放完成\n\t\t\t\tif(!isUndefined(ad['front']['node']) && ad['front']['node']!=null){\n\t\t\t\t\tCM.append(ad['front']['node']);\n\t\t\t\t\tplayer.closeLayer(ad['front']['node']);\n\t\t\t\t\tad['front']['node']=null;\n\t\t\t\t}\n\t\t\t\tC['ad']['picture'].htm('');\n\t\t\t\tC['ad']['picture'].hide();\n\t\t\t\tad['frontPlay']=false;\n\t\t\t\tC['ad'].hide();\n\t\t\t\tallBarShow();\n\t\t\t\tseekTime=vars['seek'];\n\t\t\t\tif(ad['front']['video']){//如果包含视频广告\n\t\t\t\t\tchangeVideo(vars['video']);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tplayer.play();\n\t\t\t\t}\n\t\t\t\teventTarget('frontAdEnded',true);\n\t\t\t\tfrontAdPlay=false;//贴片广告播放状态\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * adVideoPlay\n\t\t * 功能：贴片广告播放视频\n\t\t*/\n\t\tadVideoPlay=function(vstr){\n\t\t\tif(isUndefined(vstr)) return;\n\t\t\tC['ad']['picture'].hide();\n\t\t\tseekTime=0;\n\t\t\tif(video.attr('src') || video.htm()){\n\t\t\t\tplayer.pause();\n\t\t\t}\n\t\t\tif(video.attr('src')){\n\t\t\t\tvideo.attr('src','');\n\t\t\t\tvideo.removeAttr('src');\n\t\t\t}\n\t\t\tvideo.htm('');\n\t\t\tif(vars['plug'] && !canPlay(vstr)){\n\t\t\t\tswitch(vars['plug']){\n\t\t\t\t\tcase 'hls.js':\n\t\t\t\t\t\thlsPlayer(vstr);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'flv.js':\n\t\t\t\t\t\tflvPlayer(vstr);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mpegts.js':\n\t\t\t\t\t\tmpegtsPlayer(vstr);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tCT.error={code:10,message:language['error']['emptied']};\n\t\t\t\t\t\teventTarget('error',CT.error);//注册监听error\n\t\t\t\t\t\tshowError();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvideo.attr('src',vstr);\n\t\t\t}\n\t\t\tad['front']['video']=true;//设置包含视频广告\n\t\t\tC['ad']['link'].show();\n\t\t\tC['ad']['bottom']['mutedAndExit'].show();\n\t\t},\n\t\t/*\n\t\t * adPicturePlay\n\t\t * 功能：贴片广告播放图片\n\t\t*/\n\t\tadPicturePlay=function(adv){\n\t\t\tif(isUndefined(adv['file'])) return;\n\t\t\tvar img = null;\n\t\t\tvar imgloadNum=0;\n\t\t\tvar imgLoadHandler=function(){\n\t\t\t\tC['ad']['picture'].show();\n\t\t\t\tC['ad']['picture'].htm('');\n\t\t\t\timg = createlImg(adv['file']);\n\t\t\t\tC['ad']['picture'].append(img);\n\t\t\t\timg.addListener('load',function(){\n\t\t\t\t\tvar w=this.getWidth(),h=this.getHeight();\n\t\t\t\t\tif(w>0 || h>0){\n\t\t\t\t\t\tif(adv['link']){\n\t\t\t\t\t\t\tvar a=createlA('',adv['link']);\n\t\t\t\t\t\t\ta.append(this);\n\t\t\t\t\t\t\tC['ad']['picture'].append(a);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tC['ad']['picture'].append(this)\n\t\t\t\t\t\t}\n\t\t\t\t\t\timg.unbind();\n\t\t\t\t\t\timg.click(function(){\n\t\t\t\t\t\t\teventTarget('frontAdClick',adv);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(imgloadNum<10){\n\t\t\t\t\t\t\timgloadNum++;\n\t\t\t\t\t\t\timgLoadHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t\timgLoadHandler();\t\t\n\t\t\tcalculationAdFrontTime();//计算时间\n\t\t\tadFrontCountDown();//开启倒计时\n\t\t\tC['ad']['bottom']['mutedAndExit'].hide();\n\t\t},\n\t\t/*\n\t\t * adNode\n\t\t * 功能：贴片广告播放外部节点\n\t\t*/\n\t\tadNode=function(adv){\n\t\t\tif(isUndefined(adv['content'])) return;\n\t\t\tad['front']['node']=player.layer(adv);\n\t\t\tad['front']['node'].css({'z-index':1});\n\t\t\tC['ad'].append(ad['front']['node']);\n\t\t\tad['front']['node'].unbind();\n\t\t\tad['front']['node'].click(function(){\n\t\t\t\teventTarget('frontAdClick',adv);\n\t\t\t});\n\t\t\tcalculationAdFrontTime();//计算时间\n\t\t\tadFrontCountDown();//开启倒计时\n\t\t\tC['ad']['bottom']['mutedAndExit'].hide();\n\t\t},\n\t\t/*\n\t\t * frontVideoClickHandler\n\t\t * 功能：视频广告上方层单击事件\n\t\t*/\n\t\tfrontVideoClickHandler=function(){\n\t\t\tvar url=C['ad']['link'].attr('data-link');\n\t\t\twindow.open(url,'_blank');\n\t\t},\n\t\t/*\n\t\t * closeFrontAd\n\t\t * 功能：关闭贴片广告\n\t\t*/\n\t\tcloseFrontAd=function(){\n\t\t\tif(!isUndefined(ad) && !isUndefined(ad['front']) && !isUndefined(ad['front']['closeButtonClick'])){\n\t\t\t\tif(valType(ad['front']['closeButtonClick'])=='function'){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tad['front']['closeButtonClick']();\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){console.error(event);}\n\t\t\t\t}\n\t\t\t\telse if(valType(ad['front']['closeButtonClick'])=='string'){\n\t\t\t\t\ttry{\n\t\t\t\t\t\teval(ad['front']['closeButtonClick']+ '()');\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){console.error(event);}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tplayer.closeFrontAd();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * adPausePlay\n\t\t * 功能：播放暂停广告\n\t\t*/\n\t\tadPausePlay=function(){\n\t\t\tclosePauseAd();\n\t\t\tif(!isUndefined(ad) && !isUndefined(ad['pause']) && !isUndefined(ad['pause']['list']) && ad['pause']['list'].length-1>=ad['pausePlayI']){\n\t\t\t\tvar adv=ad['pause']['list'][ad['pausePlayI']];\n\t\t\t\tif(!isUndefined(ad['pause']['close']) && ad['pause']['close']){\n\t\t\t\t\tad['pauseClose']=createlButton('ck-pause-close');\n\t\t\t\t\tad['pauseClose'].click(function(){\n\t\t\t\t\t\tC['centerPlay'].show();\n\t\t\t\t\t\tC['buffer'].hide();\n\t\t\t\t\t\tclosePauseAd();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(adv['file'])){//图片\n\t\t\t\t\tvar img = null;\n\t\t\t\t\tvar imgloadNum=0;\n\t\t\t\t\tvar imgLoadHandler=function(){\n\t\t\t\t\t\timg = createlImg(adv['file']);\n\t\t\t\t\t\tC['adPause'].show();\n\t\t\t\t\t\tC['adPause'].htm('');\n\t\t\t\t\t\tC['adPause'].append(img);\n\t\t\t\t\t\timg.addListener('load',function(){\n\t\t\t\t\t\t\tvar w=this.getWidth(),h=this.getHeight();\n\t\t\t\t\t\t\tif(w>0 || h>0){\n\t\t\t\t\t\t\t\tC['adPause'].htm('');\n\t\t\t\t\t\t\t\tif(adv['link']){\n\t\t\t\t\t\t\t\t\tvar a=createlA('',adv['link']);\n\t\t\t\t\t\t\t\t\ta.append(this);\n\t\t\t\t\t\t\t\t\tC['adPause'].append(a);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tC['adPause'].append(this)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tC['adPause'].css({\n\t\t\t\t\t\t\t\t\t'width':w+'px',\n\t\t\t\t\t\t\t\t\t'height':h+'px'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif(ad['pauseClose']){\n\t\t\t\t\t\t\t\t\tC['adPause'].append(ad['pauseClose']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\timg.click(function(){\n\t\t\t\t\t\t\t\t\teventTarget('pauseAdClick',adv);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tif(imgloadNum<10){\n\t\t\t\t\t\t\t\t\timgloadNum++;\n\t\t\t\t\t\t\t\t\timgLoadHandler();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\timgLoadHandler();\n\t\t\t\t}\n\t\t\t\telse if(!isUndefined(adv['content'])){\n\t\t\t\t\tad['pause']['node']=player.layer(adv);\n\t\t\t\t\tif(ad['pauseClose']){\n\t\t\t\t\t\tad['pause']['node'].append(ad['pauseClose']);\n\t\t\t\t\t}\n\t\t\t\t\tad['pause']['node'].click(function(){\n\t\t\t\t\t\teventTarget('pauseAdClick',adv);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\teventTarget('pauseAd',adv);\n\t\t\t\tif(!isUndefined(adv['time']) && adv['time']>0){\n\t\t\t\t\tadPauseSetTime=setTimeout(function(){\n\t\t\t\t\t\tad['pausePlayI']++;\n\t\t\t\t\t\tif(ad['pausePlayI']>ad['pause']['list'].length-1){\n\t\t\t\t\t\t\tad['pausePlayI']=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tadPausePlay();\n\t\t\t\t\t},adv['time']*1000)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * closePauseAd\n\t\t * 功能：关闭暂停广告\n\t\t*/\n\t\tclosePauseAd=function(){\n\t\t\tif(adPauseSetTime){\n\t\t\t\tclearTimeout(adPauseSetTime);\n\t\t\t\tadPauseSetTime=null;\n\t\t\t}\n\t\t\tC['adPause'].hide();\n\t\t\tif(!isUndefined(ad) && !isUndefined(ad['pauseClose']) && ad['pauseClose']!=null){\n\t\t\t\tad['pauseClose'].remove();\n\t\t\t\tad['pauseClose']=null;\n\t\t\t}\n\t\t\tif(!isUndefined(ad) && !isUndefined(ad['pause']) && !isUndefined(ad['pause']['node']) &&  ad['pause']['node']){\n\t\t\t\tad['pause']['node'].unbind();\n\t\t\t\tplayer.closeLayer(ad['pause']['node']);\n\t\t\t\teventTarget('pauseAdClose');\n\t\t\t}\n\t\t};\n\t\t/*\n\t\t * player\n\t\t * 功能:开放接口,向外部提供播放器的交互功能列表，包含获取，执行，监听这三种功能\n\t\t*/\n\t\tvar player={\n\t\t\t/*\n\t\t\t * width\n\t\t\t * 功能：获取或设置播放器宽度\n\t\t\t * 这是一个动态的值，会随着全屏切换或播放器本身尺寸变化而变化\n\t\t\t * @value，支持数字，字符，当存在@value时则设置播放器宽度，@value为空时则获取播放器宽度\n\t\t\t*/\n\t\t\twidth:function(value){\n\t\t\t\tif(!isUndefined(value)){\n\t\t\t\t\tif(valType(value)=='number'){\n\t\t\t\t\t\tvalue+='px';\n\t\t\t\t\t}\n\t\t\t\t\tCT.css({'width':value});\n\t\t\t\t\tcheckVideoRotate();\n\t\t\t\t}\n\t\t\t\treturn CK.getWidth();\n\t\t\t},\n\t\t\t/*\n\t\t\t * height\n\t\t\t * 功能：获取或设置播放器显示高度\n\t\t\t * 这是一个动态的值，会随着全屏切换或播放器本身尺寸变化而变化\n\t\t\t * @value，支持数字，字符，当存在@value时则设置播放器高度，@value为空时则获取播放器高度\n\t\t\t*/\n\t\t\theight:function(value){\n\t\t\t\tif(!isUndefined(value)){\n\t\t\t\t\tif(valType(value)=='number'){\n\t\t\t\t\t\tvalue+='px';\n\t\t\t\t\t}\n\t\t\t\t\tCT.css({'height':value});\n\t\t\t\t\tcheckVideoRotate();\n\t\t\t\t}\n\t\t\t\treturn CK.getHeight();\n\t\t\t},\n\t\t\t/*\n\t\t\t * videoWidth\n\t\t\t * 功能：获取视频本身的宽度，这是一个固定值\n\t\t\t*/\n\t\t\tvideoWidth:function(){\n\t\t\t\tif(video){\n\t\t\t\t\treturn video.videoWidth;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t/*\n\t\t\t * videoHeight\n\t\t\t * 功能：获取视频本身的高度，这是一个固定值\n\t\t\t*/\n\t\t\tvideoHeight:function(){\n\t\t\t\tif(video){\n\t\t\t\t\treturn video.videoHeight;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t/*\n\t\t\t * height\n\t\t\t * 功能：获取或设置播放器显示高度\n\t\t\t * 这是一个动态的值，会随着全屏切换或播放器本身尺寸变化而变化\n\t\t\t * @value，支持数字，字符，当存在@value时则设置播放器高度，@value为空时则获取播放器高度\n\t\t\t*/\n\t\t\tzoom:function(fn){\n\t\t\t\tif(!isUndefined(fn)){\n\t\t\t\t\tif(valType(fn)=='function'){\n\t\t\t\t\t\tnewEvent.addEventListener('zoom',fn);\n\t\t\t\t\t}\n\t\t\t\t\tif(valType(fn)=='number'){\n\t\t\t\t\t\tvar arr=[C['topBar']['zoomEle']['zoom50'],C['topBar']['zoomEle']['zoom75'],C['topBar']['zoomEle']['zoom100']];\n\t\t\t\t\t\tfor(var i=0;i<arr.length;i++){\n\t\t\t\t\t\t\tarr[i].removeClass('ck-top-bar-zoom-container-focus')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch(fn){\n\t\t\t\t\t\t\tcase 50:\n\t\t\t\t\t\t\t\tarr[0].addClass('ck-top-bar-zoom-container-focus');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 75:\n\t\t\t\t\t\t\t\tarr[1].addClass('ck-top-bar-zoom-container-focus');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 100:\n\t\t\t\t\t\t\t\tarr[2].addClass('ck-top-bar-zoom-container-focus');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(fn==50 || fn==75 || fn==100){\n\t\t\t\t\t\t\tnowZoom=fn;\n\t\t\t\t\t\t\tcheckVideoRotate();//调整视频尺寸\n\t\t\t\t\t\t\teventTarget('zoom',fn);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * rotate\n\t\t\t * 提供给播放器外部使用\n\t\t\t * 进行旋转\n\t\t\t * @obj为新的播放配置对象\n\t\t\t*/\n\t\t\trotate:function(fn){\n\t\t\t\tif(!isUndefined(fn)){\n\t\t\t\t\tif(valType(fn)=='function'){\n\t\t\t\t\t\tnewEvent.addEventListener('rotate',fn);\n\t\t\t\t\t}\n\t\t\t\t\tif(valType(fn)=='number'){\n\t\t\t\t\t\tvar arr=[0,90,180,270];\n\t\t\t\t\t\tvar rot=0;\n\t\t\t\t\t\tif(arr.length>fn && fn>0){\n\t\t\t\t\t\t\trot=arr[fn];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(arr.indexOf(fn)>-1){\n\t\t\t\t\t\t\t\trot=fn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(rot!=nowRotate){\n\t\t\t\t\t\t\teventTarget('rotate',rot);\n\t\t\t\t\t\t\tnowRotate=rot;\n\t\t\t\t\t\t\tcheckVideoRotate();//调整视频尺寸\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * vars\n\t\t\t * 提供给播放器外部使用\n\t\t\t * 修改vars，动态切换视频地址\n\t\t\t * @obj为新的播放配置对象\n\t\t\t*/\n\t\t\tvars:function(obj,val){\n\t\t\t\tif(isUndefined(obj)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(valType(obj)=='string' && !isUndefined(val)){\n\t\t\t\t\tvar temp={};\n\t\t\t\t\ttemp[obj]=val;\n\t\t\t\t\tobj=temp;\n\t\t\t\t}\n\t\t\t\tvar isChange=false;\n\t\t\t\tfor(var k in obj){\n\t\t\t\t\tif(k in vars && obj[k]!=vars[k]){\n\t\t\t\t\t\tisChange=true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(isChange){\n\t\t\t\t\tvars = standardization(vars, obj);\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(obj['video'])){\n\t\t\t\t\tisChangeDef=true;\n\t\t\t\t\tchangeVideo(vars['video']);\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(obj['title'])){\n\t\t\t\t\tC['topBar']['titleEle'].htm(obj['title']);\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * 提供给播放器外部使用\n\t\t\t * 功能：监听视频准备加载\n\t\t\t*/\n\t\t\tloadstart:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('loadstart',fn);\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * 提供给播放器外部使用\n\t\t\t * 功能：监听视频加载\n\t\t\t*/\n\t\t\tloadeddata:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('loadeddata',fn);\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * 提供给播放器外部使用\n\t\t\t * 功能：监听视频元数据加载成功\n\t\t\t*/\n\t\t\tloadedMetaData:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('loadedMetaData',fn);\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * 提供给播放器外部使用\n\t\t\t * 功能：监听视频可以播放\n\t\t\t*/\n\t\t\tcanplay:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('canplay',fn);\n\t\t\t\t}\n\t\t\t},\t\t\n\t\t\t/*\n\t\t\t * 提供给播放器外部使用\n\t\t\t * 功能：执行播放操作/监听播放\n\t\t\t * @fn为函数时则监听视频播放，@fn为空时，则控制视频播放\n\t\t\t*/\n\t\t\tplay:function(fn){\n\t\t\t\tif(valType(fn)=='object'){\n\t\t\t\t\tif(fn['target']==C['bar']['playAndPause']['play'] || fn['target']==C['bar']['playAndPause']['refresh']){\n\t\t\t\t\t\tplayType='button';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('play',fn);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(loadedmetadataNum>0 && video){\n\t\t\t\t\t\ttry{video.play();}catch(event){console.error(event)}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * puase\n\t\t\t * 功能：执行暂停操作/监听暂停\n\t\t\t * @fn为函数时则监听视频暂停，@fn为空时，则控制视频暂停\n\t\t\t*/\n\t\t\tpause:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('pause',fn);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(loadedmetadataNum>0 && video){\n\t\t\t\t\t\ttry{video.pause();}catch(event){console.error(event)}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * playOrPause\n\t\t\t * 功能：在播放和暂停动作之间进行切换\n\t\t\t*/\n\t\t\tplayOrPause:function(){\n\t\t\t\tif(paused){\n\t\t\t\t\tplayer.play();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tplayer.pause();\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * volume\n\t\t\t * 功能：调节和监听以及获取音量\n\t\t\t * @fn为函数时，则进行音量变化的监听，@fn为数字时，则进行音量调节，@fn为空时，则获取当前音量\n\t\t\t*/\n\t\t\tvolume:function(fn){\n\t\t\t\tif(!isUndefined(fn)){\n\t\t\t\t\tif(valType(fn)=='function'){\n\t\t\t\t\t\tnewEvent.addEventListener('volume', fn);\n\t\t\t\t\t}\n\t\t\t\t\telse if(valType(fn)=='number' && video){\n\t\t\t\t\t\tif(fn<0)fn=0;\n\t\t\t\t\t\tif(fn>1)fn=1;\n\t\t\t\t\t\tif(video.muted){\n\t\t\t\t\t\t\tvideo.volume=fn*.5;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvideo.volume=fn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(video){\n\t\t\t\t\treturn video.volume;\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * muted\n\t\t\t * 功能：执行静音操作/监听静音\n\t\t\t * @fn为函数时则监听视频静音，@fn为空时，则控制视频静音\n\t\t\t*/\n\t\t\tmuted:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('muted', fn);\n\t\t\t\t}\n\t\t\t\telse if(video){\n\t\t\t\t\tvideo.muted=true;\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * exitMuted\n\t\t\t * 功能：执行取消静音操作\n\t\t\t*/\n\t\t\texitMuted:function(){\n\t\t\t\tif(video){\n\t\t\t\t\tvideo.muted=false;\n\t\t\t\t\tif(video.volume==0){\n\t\t\t\t\t\tplayer.volume(vars['volume']>0?vars['volume']:.8);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * time\n\t\t\t * 功能：获取当前播放时间/监听播放时间\n\t\t\t * @fn为函数时监听当前播放时间，为空时获取当前播放时间\n\t\t\t*/\n\t\t\ttime:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('time',fn);\n\t\t\t\t}\n\t\t\t\telse if(video){\n\t\t\t\t\treturn video.currentTime || 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * seek\n\t\t\t * 功能：监听跳转/执行跳转操作\n\t\t\t * @fn为函数时则监听视频跳转动作，@fn为数字时执行跳转操作\n\t\t\t*/\n\t\t\tseek:function(fn){\n\t\t\t\tif(!isUndefined(fn)){\n\t\t\t\t\tif(valType(fn)=='function'){\n\t\t\t\t\t\tnewEvent.addEventListener('seek',fn);\n\t\t\t\t\t}\n\t\t\t\t\tif(valType(fn)=='number' && video){\n\t\t\t\t\t\tswitch(vars['timeScheduleAdjust']){\n\t\t\t\t\t\t\tcase 0://禁止拖动\n\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibit']);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 1://可以拖动\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2://只能前进（向右拖动\n\t\t\t\t\t\t\t\tif(fn<oldTime){\n\t\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitBackOff']);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 3://是只能后退\n\t\t\t\t\t\t\t\tif(fn>oldTime){\n\t\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitForward']);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 4://只能前进但能回到第一次拖动时的位置\n\t\t\t\t\t\t\t\tif(fn<firstSeekTime){\n\t\t\t\t\t\t\t\t\twaitingMessage=false;\n\t\t\t\t\t\t\t\t\tvideo.currentTime=firstSeekTime;\n\t\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitLookBack']);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 5://看过的地方可以随意拖动\n\t\t\t\t\t\t\t\tif(fn>maxSeeTime){\n\t\t\t\t\t\t\t\t\twaitingMessage=false;\n\t\t\t\t\t\t\t\t\tvideo.currentTime=maxSeeTime;\n\t\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitForwardNotViewed']);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpSliderMouseDown=false;\n\t\t\t\t\t\tvideo.currentTime=fn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * buffer\n\t\t\t * 功能：监听视频缓冲\n\t\t\t * @fn为监听执行的函数\n\t\t\t*/\n\t\t\tbuffer:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('buffer',fn);\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * ended\n\t\t\t * 功能：监听视频播放结束\n\t\t\t * @fn为监听执行的函数\n\t\t\t*/\n\t\t\tended:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('ended',fn);\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * 提供给播放器外部使用\n\t\t\t * 功能：监听点击下一集按钮的动作\n\t\t\t*/\n\t\t\tnext:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('next',fn);\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\t\n\t\t\t/*\n\t\t\t * error\n\t\t\t * 功能，监听播放器在加载视频过程和播放视频过程中出现的错误\n\t\t\t * @fn为监听执行的函数\n\t\t\t*/\n\t\t\terror:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('error',fn);\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * emptied\n\t\t\t * 功能，监听播放器播放的视频文件发生故障并且文件突然不可用时\n\t\t\t * @fn为监听执行的函数\n\t\t\t*/\n\t\t\temptied:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('emptied',fn);\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * duration\n\t\t\t * 功能：获取视频总时间/监听视频总时间\n\t\t\t * @fn为函数时执行监听视频总时间，为空时获取视频总时间\n\t\t\t*/\n\t\t\tduration:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('duration',fn);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\treturn duration || 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * playbackRate\n\t\t\t * 功能：监听或返回视频播放速度\n\t\t\t * @fn为函数时执行监听视频播放速度，为数字时切换播放速度，为空时获取视频播放速度\n\t\t\t*/\n\t\t\tplaybackRate:function(fn){\n\t\t\t\tif(!isUndefined(fn)){\n\t\t\t\t\tif(valType(fn)=='function'){\n\t\t\t\t\t\tnewEvent.addEventListener('playbackRate',fn);\n\t\t\t\t\t}\n\t\t\t\t\telse if(valType(fn)=='number' && video){\n\t\t\t\t\t\tvideo.playbackRate=fn;\n\t\t\t\t\t\tCT.playbackRate=fn;\n\t\t\t\t\t\teventTarget('playbackRate',fn);\n\t\t\t\t\t\tchangePlaybackrateVal(fn);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\treturn video.playbackRate;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * track\n\t\t\t * 功能：监听或返回视频的字幕\n\t\t\t * @fn为函数时执行监听视频字幕，为数字时切换字幕，为空时获取字幕\n\t\t\t*/\n\t\t\ttrack:function(fn){\n\t\t\t\tif(!isUndefined(fn)){\n\t\t\t\t\tif(valType(fn)=='function'){\n\t\t\t\t\t\tnewEvent.addEventListener('track',fn);\n\t\t\t\t\t}\n\t\t\t\t\telse if(valType(fn)=='number' && video){\n\t\t\t\t\t\tvar track=null;\n\t\t\t\t\t\tif(!isUndefined(video.textTracks)){\n\t\t\t\t\t\t\ttrack=video.textTracks;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(track && valType(track)=='texttracklist'){\n\t\t\t\t\t\t\tvar arr=vars['track'];\n\t\t\t\t\t\t\tfor(var i=track.length-1;i>-1;i--){\n\t\t\t\t\t\t\t\tvideo.find('track').eq(i).remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor(var i=0;i<arr.length;i++){\n\t\t\t\t\t\t\t\tvar def='';\n\t\t\t\t\t\t\t\tarr[i]['default']=false;\n\t\t\t\t\t\t\t\tif(i==fn){\n\t\t\t\t\t\t\t\t\tdef=' default';\n\t\t\t\t\t\t\t\t\tarr[i]['default']=true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttrack+='<track src=\"'+arr[i]['src']+'\" srclang=\"'+arr[i]['srclang']+'\" kind=\"'+arr[i]['kind']+'\" label=\"'+arr[i]['label']+'\"'+def+'>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(video){\n\t\t\t\t\t\t\t\tvar html=video.htm()+track;\n\t\t\t\t\t\t\t\tvideo.htm(html);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchangeTrackVal(fn);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\treturn CT.track;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * fastBack\n\t\t\t * 功能：快退\n\t\t\t * @num为数字时快退指定秒数，为空时快退20秒\n\t\t\t*/\n\t\t\tfastBack:function(num){\n\t\t\t\tif(duration==0) return;\n\t\t\t\tif(isUndefined(num) || valType(num)!='number'){\n\t\t\t\t\tnum=20;\n\t\t\t\t}\n\t\t\t\tvar time=player.time();\n\t\t\t\tif(time-num>0){\n\t\t\t\t\ttime-=num;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime=0;\n\t\t\t\t}\n\t\t\t\tplayer.seek(time);\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * fastNext\n\t\t\t * 功能：快进\n\t\t\t * @num为数字时快进指定秒数，为空时快进20秒\n\t\t\t*/\n\t\t\tfastNext:function(num){\n\t\t\t\tif(duration==0) return;\n\t\t\t\tif(isUndefined(num) || valType(num)!='number'){\n\t\t\t\t\tnum=20;\n\t\t\t\t}\n\t\t\t\tvar time=player.time();\n\t\t\t\tif(time+num<duration){\n\t\t\t\t\ttime+=num;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime=duration;\n\t\t\t\t}\n\t\t\t\tplayer.seek(time);\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * definition\n\t\t\t * 功能：监听清晰度切换/操作清晰度切换\n\t\t\t * @fn为一个函数时监听清晰度切换，为数字时执行清晰度切换，数字为清晰度的编号，从0开始\n\t\t\t*/\n\t\t\tdefinition:function(fn){\n\t\t\t\tif(!isUndefined(fn)){\n\t\t\t\t\tif(valType(fn)=='function'){\n\t\t\t\t\t\tnewEvent.addEventListener('definition',fn);\n\t\t\t\t\t}\n\t\t\t\t\tif(valType(fn)=='number'){\n\t\t\t\t\t\tchangeDefinition(fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * fps\n\t\t\t * 功能：监听Fps\n\t\t\t * @fn为一个函数时监听fps，为空时获取fps\n\t\t\t*/\n\t\t\tfps:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('fps',fn);\n\t\t\t\t}\n\t\t\t\treturn CT.fps;\n\t\t\t},\n\t\t\t/*\n\t\t\t * playback\n\t\t\t * 功能：监听回放操作/返回需要回放的时间点\n\t\t\t*/\n\t\t\tplayback:function(fn){\n\t\t\t\tif(!isUndefined(fn)){\n\t\t\t\t\tif(valType(fn)=='function'){\n\t\t\t\t\t\tnewEvent.addEventListener('playback',fn);\n\t\t\t\t\t}\n\t\t\t\t}\t\t\n\t\t\t\telse{\n\t\t\t\t\treturn playbackTime;\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * backLive\n\t\t\t * 功能：显示/隐藏回到直播的按钮\n\t\t\t*/\n\t\t\tbackLive:function(fn){\n\t\t\t\tif(!isUndefined(fn)){\n\t\t\t\t\tif(valType(fn)=='function'){\n\t\t\t\t\t\tnewEvent.addEventListener('backLive',fn);\n\t\t\t\t\t}\n\t\t\t\t\tif(valType(fn)=='boolean'){\n\t\t\t\t\t\tif(bool){\n\t\t\t\t\t\t\tC['bar']['backLive'].show();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tC['bar']['backLive'].hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * full\n\t\t\t * 功能：监听全屏功能/执行全屏操作\n\t\t\t * @fn为函数时监听用户执行全屏操作，为空时执行全屏操作\n\t\t\t*/\n\t\t\tfull:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('full',fn);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(smallWindowsState){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif(CT.theatre){\n\t\t\t\t\t\tplayer.exitTheatre();\n\t\t\t\t\t}\n\t\t\t\t\tif(CT.webFull){\n\t\t\t\t\t\tplayer.exitWebFull();\n\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\tvar requestMethod = CK.requestFullScreen || //W3C\n\t\t                CK.webkitRequestFullScreen || //Chrome等\n\t\t                CK.mozRequestFullScreen || //FireFox\n\t\t                CK.oRequestFullscreen ||\n\t\t                CK.msRequestFullscreen; //IE11\n\t\t            if (!isUndefined(requestMethod)) {\n\t\t                requestMethod.call(CK);\n\t\t            }\n\t\t            else if (!isUndefined(window.ActiveXObject)) { //for Internet Explorer\n\t\t                var wscript = new ActiveXObject('WScript.Shell');\n\t\t                if (wscript !== null) {\n\t\t                    wscript.SendKeys('{F11}');\n\t\t                }\n\t\t            }\n\t\t            else if(!isUndefined(video.webkitEnterFullscreen) || !isUndefined(video.webkitEnterFullScreen)){\n\t\t            \tvar fullScreen=video.webkitEnterFullscreen || video.webkitEnterFullScreen;\n\t\t            \tfullScreen.call(video);\n\t\t            }\n\t\t            player.zoom(100);\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * exitFull\n\t\t\t * 功能：\t退出全屏\n\t\t\t*/\n\t\t\texitFull:function(){\n\t\t\t\tvar exitFullFun = document.exitFullscreen || //W3C\n\t\t            document.mozCancelFullScreen || //FireFox\n\t\t            document.webkitExitFullscreen || //Chrome等\n\t\t            document.oCancelFullScreen || //Chrome等\n\t\t            document.msExitFullscreen; //IE11\n\t\t        if (!isUndefined(exitFullFun)) {\n\t\t            exitFullFun.call(document);\n\t\t        } \n\t\t        else if (!isUndefined(window.ActiveXObject)) { //for Internet Explorer\n\t\t            var wscript = new ActiveXObject('WScript.Shell');\n\t\t            if (wscript !== null) {\n\t\t                wscript.SendKeys('{F11}');\n\t\t            }\n\t\t        }\n\t\t        return player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * fullOrExit\n\t\t\t * 功能：在全屏和退出全屏之间进行切换\n\t\t\t*/\n\t\t\tfullOrExit:function(){\n\t\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement;\n\t\t\t\tif(fullState){\n\t\t\t\t\tplayer.exitFull();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tplayer.full();\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * webFull\n\t\t\t * 功能：监听网页全屏/执行网页全屏\n\t\t\t * @fn为函数时监听网页全屏，为空时执行网页全屏\n\t\t\t*/\n\t\t\twebFull:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('webfull',fn);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\texitSmallWindows();\n\t\t\t\t\tif(!isUndefined(vars['theatre'])){\n\t\t\t\t\t\tC['bar']['theatreAndExit'].hide();\n\t\t\t\t\t}\n\t\t\t\t\tCK.css({\n\t\t\t\t\t\t'position':'fixed',\n\t\t\t\t\t\t'top':0,\n\t\t\t\t\t\t'left':0,\n\t\t\t\t\t\t'height':'100%',\n\t\t\t\t\t\t'z-index':getMaxZIndex()+1\n\t\t\t\t\t});\n\t\t\t\t\tC['bar']['webFullAndExit']['webFull'].hide();\n\t\t\t\t\tC['bar']['webFullAndExit']['exitWebFull'].show();\n\t\t\t\t\tCT.webFull=true;\n\t\t\t\t\teventTarget('webfull',true);\n\t\t\t\t\tcheckVideoRotate();\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * exitWebFull\n\t\t\t * 功能：退出网页全屏\n\t\t\t*/\n\t\t\texitWebFull:function(){\n\t\t\t\tCK.css({\n\t\t\t\t\t'position':'relative'\n\t\t\t\t});\n\t\t\t\tC['bar']['webFullAndExit']['webFull'].show();\n\t\t\t\tC['bar']['webFullAndExit']['exitWebFull'].hide();\n\t\t\t\tif(!isUndefined(vars['theatre'])){\n\t\t\t\t\tC['bar']['theatreAndExit'].show();\n\t\t\t\t\tC['bar']['theatreAndExit']['theatre'].show();\n\t\t\t\t\tC['bar']['theatreAndExit']['exitTheatre'].hide();\n\t\t\t\t}\n\t\t\t\tCK.attr('style','');\n\t\t\t\tCT.webFull=false;\n\t\t\t\teventTarget('webfull',false);\n\t\t\t\tcheckVideoRotate();\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * theatre\n\t\t\t * 功能：监听剧场模式/执行剧场模式\n\t\t\t * @fn为函数时执行监听剧场模式，为空时执行剧场模式操作\n\t\t\t*/\n\t\t\ttheatre:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('theatre',fn);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(valType(vars['theatre'])=='array' && vars['theatre'].length==2){\n\t\t\t\t\t\tvar fun=vars['theatre'][0];\n\t\t\t\t\t\tif(valType(fun)=='function'){\n\t\t\t\t\t\t\tfun();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(valType(fun)=='string'){\n\t\t\t\t\t\t\teval(fun+ '()');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\texitSmallWindows();\n\t\t\t\t\t\tCK.css({\n\t\t\t\t\t\t\t'position':'absolute',\n\t\t\t\t\t\t\t'top':CT.offset()['top'],\n\t\t\t\t\t\t\t'left':0,\n\t\t\t\t\t\t\t'height':CT.getHeight()+'px',\n\t\t\t\t\t\t\t'z-index':getMaxZIndex()+1\n\t\t\t\t\t\t});\n\t\t\t\t\t\tC['bar']['theatreAndExit']['theatre'].hide();\n\t\t\t\t\t\tC['bar']['theatreAndExit']['exitTheatre'].show();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tCT.theatre=true;\n\t\t\t\t\teventTarget('theatre',true);\n\t\t\t\t\tcheckVideoRotate();\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * exitTheatre\n\t\t\t * 功能：退出剧场模式\n\t\t\t*/\n\t\t\texitTheatre:function(){\n\t\t\t\tif(valType(vars['theatre'])=='array' && vars['theatre'].length==2){\n\t\t\t\t\tvar fun=vars['theatre'][1];\n\t\t\t\t\tif(valType(fun)=='function'){\n\t\t\t\t\t\tfun();\n\t\t\t\t\t}\n\t\t\t\t\tif(valType(fun)=='string'){\n\t\t\t\t\t\teval(fun+ '()');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tCK.css({\n\t\t\t\t\t\t'position':'relative'\n\t\t\t\t\t});\n\t\t\t\t\tC['bar']['theatreAndExit']['theatre'].show();\n\t\t\t\t\tC['bar']['theatreAndExit']['exitTheatre'].hide();\n\t\t\t\t\tCK.attr('style','');\n\t\t\t\t\tCT.theatre=false;\n\t\t\t\t}\n\t\t\t\teventTarget('theatre',false);\n\t\t\t\tcheckVideoRotate();\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * smallWindows\n\t\t\t * 功能：监听小窗口模式开启关闭/执行开启关闭小窗口模式\n\t\t\t*/\n\t\t\tsmallWindows:function(fn){\n\t\t\t\tif(!isUndefined(fn)){\n\t\t\t\t\tif(valType(fn)=='function'){\n\t\t\t\t\t\tnewEvent.addEventListener('smallWindows',fn);\n\t\t\t\t\t}\n\t\t\t\t\tif(valType(fn)=='boolean'){\n\t\t\t\t\t\tif(fn){\n\t\t\t\t\t\t\tC['rightBar']['smallwindows']['open'].show();\n\t\t\t\t\t\t\tC['rightBar']['smallwindows']['close'].hide();\n\t\t\t\t\t\t\tCT.smallWindows=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tC['rightBar']['smallwindows']['open'].hide();\n\t\t\t\t\t\t\tC['rightBar']['smallwindows']['close'].show();\n\t\t\t\t\t\t\tCT.smallWindows=false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\teventTarget('smallWindows',CT.smallWindows);\n\t\t\t\t\t\tcheckVideoRotate();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn CT.smallWindows;\n\t\t\t},\n\t\t\t/*\n\t\t\t * loop\n\t\t\t * 功能：监听循环/执行开启关闭循环功能\n\t\t\t * @fn为函数时是监听循环，@fn为boolean类型时，为true开启循环，为false关闭循环，@fn为空时获取当前循环状态\n\t\t\t*/\n\t\t\tloop:function(fn){\n\t\t\t\tif(!isUndefined(fn)){\n\t\t\t\t\tif(valType(fn)=='function'){\n\t\t\t\t\t\tnewEvent.addEventListener('loop',fn);\n\t\t\t\t\t}\n\t\t\t\t\tif(valType(fn)=='boolean' && video){\n\t\t\t\t\t\tif(fn){\n\t\t\t\t\t\t\tC['rightBar']['loop']['open'].show();\n\t\t\t\t\t\t\tC['rightBar']['loop']['close'].hide();\n\t\t\t\t\t\t\tCT.loop=true;\n\t\t\t\t\t\t\tvideo.attr('loop','loop');\n\t\t\t\t\t\t\teventTarget('loop',true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tC['rightBar']['loop']['open'].hide();\n\t\t\t\t\t\t\tC['rightBar']['loop']['close'].show();\n\t\t\t\t\t\t\tCT.loop=false;\n\t\t\t\t\t\t\tvideo.attr('loop',false);\n\t\t\t\t\t\t\tvideo.removeAttr('loop');\n\t\t\t\t\t\t\teventTarget('loop',false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn CT.loop;\n\t\t\t},\t\t\n\t\t\t/*\n\t\t\t * screenshot\n\t\t\t * 功能：截图 \n\t\t\t * @fn为函数时监听截图功能，@fn为空时进行截图\n\t\t\t*/\n\t\t\tscreenshot:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('screenshot',fn);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(!isUndefined(vars['screenshot']) && vars['screenshot'] && video){\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tmessage(language['screenshotStart'],true);\n\t\t\t\t\t\t\tvar newCanvas = $(document.createElement('canvas'));\n\t\t\t\t\t\t\tnewCanvas.width = video.videoWidth;\n\t\t\t\t\t\t\tnewCanvas.height = video.videoHeight;\n\t\t\t\t\t\t\tnewCanvas.getContext('2d').drawImage(video, 0, 0, video.videoWidth, video.videoHeight);\n\t\t\t\t\t\t\tvar base64 = newCanvas.toDataURL('image/png');\n\t\t\t\t\t\t\teventTarget('screenshot',base64);\n\t\t\t\t\t\t\tif(screenshotImg){\n\t\t\t\t\t\t\t\tscreenshotImg.remove();\n\t\t\t\t\t\t\t\tscreenshotImg=null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tscreenshotImg=createlImg(base64);\n\t\t\t\t\t\t\tscreenshotImg.addListener('load',function(){\n\t\t\t\t\t\t\t\tC['screenshot']['img'].append(screenshotImg);\n\t\t\t\t\t\t\t\tC['screenshot'].show().css({'width':this.getWidth()+'px'});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar newBlob=dataURLtoBlob(base64);\n\t\t\t\t\t\t\tvar url = URL.createObjectURL(newBlob);\n\t\t\t\t\t\t\tvar downName='video';\n\t\t\t\t\t\t\tif(vars['title']){\n\t\t\t\t\t\t\t\tdownName=vars['title'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tC['screenshot']['bar']['down'].attr('href',url).attr('download',downName);\n\t\t\t\t\t\t\treturn base64;\n\t\t\t\t\t\t}catch(error) {\n\t\t\t\t\t\t\tmessage(language['error']['screenshot'],true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tmessage(language['screenshotClose'],true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * closeScreenshot\n\t\t\t * 功能：关闭截图显示容器\n\t\t\t*/\n\t\t\tcloseScreenshot:function(bool){\n\t\t\t\tif(!isUndefined(bool) && valType(bool)=='boolean' && !bool){\n\t\t\t\t\tC['screenshot'].show();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tC['screenshot'].hide();\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * layer\n\t\t\t * 功能：在播放器中添加一个层\n\t\t\t*/\n\t\t\tlayer:function(obj,bar){\n\t\t\t\tif(isUndefined(obj)){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar cBar=false;\n\t\t\t\tif(!isUndefined(bar)){\n\t\t\t\t\tcBar=bar;\n\t\t\t\t}\n\t\t\t\tvar ele=null;\n\t\t\t\tif(valType(obj)=='object'){\n\t\t\t\t\tif('class' in obj && 'content' in obj){\n\t\t\t\t\t\tele=createlDiv(obj['class']);\n\t\t\t\t\t\tele.htm(obj['content']);\n\t\t\t\t\t}\n\t\t\t\t\telse if('content' in obj){\n\t\t\t\t\t\tobj=obj['content'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(valType(obj)=='string'){\n\t\t\t\t\tif(obj.substr(0,1)=='.' || obj.substr(0,1)=='#'){\n\t\t\t\t\t\tele=getElement(obj);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tele=createlDiv('ck-layer');\n\t\t\t\t\t\tele.htm(obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(ele){\n\t\t\t\t\tvar zIndex=ele.css('z-index');\n\t\t\t\t\tif(zIndex=='auto'){\n\t\t\t\t\t\tzIndex=101;\n\t\t\t\t\t}\n\t\t\t\t\tif(zIndex<101) zIndex=101;\n\t\t\t\t\tif(zIndex>200) zIndex=200;\n\t\t\t\t\tif(isUndefined(ele.cssDisplay)){\n\t\t\t\t\t\tele.cssPosition=ele.css('position');\n\t\t\t\t\t\tele.cssDisplay=ele.css('display');\n\t\t\t\t\t}\n\t\t\t\t\tele.css({\n\t\t\t\t\t\t'position': 'absolute',\n\t\t\t\t\t\t'z-index':zIndex\n\t\t\t\t\t});\n\t\t\t\t\tif(!cBar){\n\t\t\t\t\t\tCM.append(ele);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tC['bar'].append(ele);\n\t\t\t\t\t}\n\t\t\t\t\tele.CK=CK;\n\t\t\t\t\tele.show();\n\t\t\t\t}\n\t\t\t\treturn ele;\n\t\t\t},\n\t\t\t/*\n\t\t\t * closeLayer\n\t\t\t * 功能：关闭一个层\n\t\t\t*/\n\t\t\tcloseLayer:function(ele){\n\t\t\t\tif(valType(ele)=='string'){\n\t\t\t\t\tvar temp=$(ele);\n\t\t\t\t\tif(!isUndefined(temp)){\n\t\t\t\t\t\tif(temp.length>0){\n\t\t\t\t\t\t\tele=temp.eq(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(ele) && valType(ele)=='htmlobject'){\n\t\t\t\t\tif(!isUndefined(ele.captureParentNode)){\n\t\t\t\t\t\tvar eleP=ele.captureParentNode;\n\t\t\t\t\t\tif (ele.nextElement) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\teleP.insertBefore(ele, ele.nextElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcatch (event) {\n\t\t\t\t\t\t\t\teleP.append(ele);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (ele.prevElement) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\teleP.insertAfter(ele, ele.prevElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcatch (event) {\n\t\t\t\t\t\t\t\teleP.append(ele);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\teleP.append(ele);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tele.css({'display':ele.cssDisplay});\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tele.remove();\n\t\t\t\t\t}\n\t\t\t\t\tif(!isUndefined(ele.cssDisplay)){\n\t\t\t\t\t\tele.css({\n\t\t\t\t\t\t\t'display':ele.cssDisplay,\n\t\t\t\t\t\t\t'position':ele.cssPosition\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * message\n\t\t\t * 在播放器内部显示一条提示信息\n\t\t\t*/\n\t\t\tmessage:function(str){\n\t\t\t\tmessage(str);\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * closeFrontAd\n\t\t\t * 功能：关闭贴片广告 \n\t\t\t*/\n\t\t\tcloseFrontAd:function(){\n\t\t\t\tif(frontAdPlay && !isUndefined(ad) && !isUndefined(ad['front']) && !isUndefined(ad['front']['list'])){\n\t\t\t\t\tad['frontPlayI']=ad['front']['list'].length-1;\n\t\t\t\t\tadFrontEnded();\n\t\t\t\t\tclearAdFrontSetTime();\n\t\t\t\t}\n\t\t\t\treturn player;\n\t\t\t},\n\t\t\t/*\n\t\t\t * addListener\n\t\t\t * 功能：监听功能 \n\t\t\t*/\n\t\t\taddListener:function(name,fn){\n\t\t\t\tnewEvent.addEventListener(name,fn);\n\t\t\t},\n\t\t\t/*\n\t\t\t * removeListener\n\t\t\t * 功能：监听功能 \n\t\t\t*/\n\t\t\tremoveListener:function(name,fn){\n\t\t\t\tnewEvent.removeEventListener(name,fn);\n\t\t\t},\n\t\t\t/*\n\t\t\t * bar\n\t\t\t * 功能：显示/关闭底部控制栏 \n\t\t\t*/\n\t\t\tbar:function(bool){\n\t\t\t\tbarShow=bool;\n\t\t\t\tif(bool){\n\t\t\t\t\tC['bar'].show();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tC['bar'].hide();\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * rightBar\n\t\t\t * 功能：显示/关闭右边控制栏 \n\t\t\t*/\n\t\t\trightBar:function(bool){\n\t\t\t\trightBarShow=bool;\n\t\t\t\tif(bool){\n\t\t\t\t\tC['rightBar'].show();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tC['rightBar'].hide();\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * mouseActive\n\t\t\t * 功能，监听鼠标是否经过播放器\n\t\t\t*/\n\t\t\tmouseActive:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tnewEvent.addEventListener('mouseActive',fn);\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/*\n\t\t\t * cookie\n\t\t\t * 功能，读取cookie\n\t\t\t*/\n\t\t\tcookie:function(name){\n\t\t\t\tif(name=='delete'){\n\t\t\t\t\tcookie(ckplayerCookie,'delete',vars['domain']);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(name) && name){\n\t\t\t\t\tname=name.replace(/[ ]*,[ ]*|[ ]+/g, '').replace(/[ ]*;[ ]*|[ ]+/g, '');\n\t\t\t\t}\n\t\t\t\tvar cStr=cookie(ckplayerCookie);\n\t\t\t\tif(cStr){\n\t\t\t\t\tvar arr=stringToArray(cStr);\n\t\t\t\t\tvar tempArr=[];\n\t\t\t\t\tvar cTime=parseInt(Date.now()*0.001);\n\t\t\t\t\tfor(i=0;i<arr.length;i++){\n\t\t\t\t\t\tif(parseInt(arr[i][2])>cTime){\n\t\t\t\t\t\t\ttempArr.push(arr[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tarr=tempArr;\n\t\t\t\t\tif(arr.length>0){\n\t\t\t\t\t\tcookie(ckplayerCookie,'delete',vars['domain'],vars['cookiePath']);\n\t\t\t\t\t\tcookie(ckplayerCookie,arrayToString(arr),vars['domain'],vars['cookiePath']);\n\t\t\t\t\t\tfor(var i=0;i<arr.length;i++){\n\t\t\t\t\t\t\tarr[i]={\n\t\t\t\t\t\t\t\tname:arr[i][0],\n\t\t\t\t\t\t\t\ttime:arr[i][1],\n\t\t\t\t\t\t\t\texpirationTime:date('Y-m-d H:i:s',arr[i][2]),\n\t\t\t\t\t\t\t\texpirationTimeStamp:arr[i][2]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif(!isUndefined(name) && name==arr[i]['name']){\n\t\t\t\t\t\t\t\treturn arr[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn arr;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcookie(ckplayerCookie,'delete',vars['domain'],vars['cookiePath']);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t/*\n\t\t\t * visibilityState\n\t\t\t * 功能：监听当前文档是否处于焦点状态 \n\t\t\t*/\n\t\t\tvisibilityState:function(fn){\n\t\t\t\tif(!isUndefined(fn) && valType(fn)=='function'){\n\t\t\t\t\tif(!isUndefined(document.visibilityState)){\n\t\t\t\t\t\tfn(document.visibilityState === 'visible'?'show':'hidden');\n\t\t\t\t\t}\n\t\t\t\t\tnewEvent.addEventListener('visibilityState',fn);\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t/*\n\t\t\t * remove\n\t\t\t * 功能：卸载播放器 \n\t\t\t*/\n\t\t\tremove:function(){\n\t\t\t\tvar eventTemp={};\n\t\t\t\tif(eventTargetList!=null){\n\t\t\t\t\tfor(var k in eventTargetList){\n\t\t\t\t\t\teventTemp[k]=eventTargetList[k];\n\t\t\t\t\t}\n\t\t\t\t\tfor(var k in eventTemp){\n\t\t\t\t\t\tvar temp=eventTemp[k];\n\t\t\t\t\t\tif(temp){\n\t\t\t\t\t\t\tfor(var i=0;i<temp.length;i++){\n\t\t\t\t\t\t\t\tvar eve=temp[i];\n\t\t\t\t\t\t\t\tnewEvent.removeEventListener(k,eve);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(frontAdPlay){\n\t\t\t\t\tthis.closeFrontAd();\n\t\t\t\t}\n\t\t\t\tif(pugPlayer){\n\t\t\t\t\tpugPlayer.pause();\n\t                pugPlayer.unload();\n\t                pugPlayer.detachMediaElement();\n\t                pugPlayer.destroy();\n\t\t\t\t\tpugPlayer=null;\n\t\t\t\t}\n\t\t\t\tif(hls){\n\t\t\t\t\thls.stopLoad();\n\t\t\t\t\thls.detachMedia();\n\t\t\t\t}\n\t\t\t\tloadedmetadataNum=0;\n\t\t\t\tloadedTrack=false;\n\t\t\t\tisChangeDef=true;\n\t\t\t\tif(video){\n\t\t\t\t\tvideo.unbind();\n\t\t\t\t\tvideo.remove();\n\t\t\t\t\tvideo=null;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(!isUndefined(C['menu'])){\n\t\t\t\t\tC['menu'].remove();\n\t\t\t\t}\n\t\t\t\tif(CT){\n\t\t\t\t\tCT.unbind();\n\t\t\t\t\tCT.htm('');\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\t\t/*\n\t\t * checkBar\n\t\t * 功能：完全获取vars值后判断控制栏上的按钮是否需要显示\n\t\t * 完全获取vars是指视频加载成功后\n\t\t*/\n\t\tvar checkBar=function(){\n\t\t\t//初始化判断\n\t\t\tif(vars['autoplay']){\n\t\t\t\tC['bar']['playAndPause']['play'].hide();\n\t\t\t\tC['bar']['playAndPause']['pause'].show();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tC['bar']['playAndPause']['play'].show();\n\t\t\t\tC['bar']['playAndPause']['pause'].hide();\n\t\t\t}\n\t\t\tif(mutedState){\n\t\t\t\tC['bar']['vbox']['muted'].hide();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tC['bar']['vbox']['exitMuted'].hide();\n\t\t\t}\n\t\t\tif(!isUndefined(vars['next'])){\n\t\t\t\tC['bar']['nextEpisode'].show();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tC['bar']['nextEpisode'].hide();\n\t\t\t}\n\t\t\tif(!isUndefined(vars['webFull']) && vars['webFull'] && !CT.full){\n\t\t\t\tC['bar']['webFullAndExit'].show();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tC['bar']['webFullAndExit'].hide();\n\t\t\t}\n\t\t\tif(!isUndefined(vars['theatre']) && !CT.full && !CT.webFull){\n\t\t\t\tC['bar']['theatreAndExit'].show();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tC['bar']['theatreAndExit'].hide();\n\t\t\t}\n\t\t\tif(!isUndefined(vars['rightBar']) && vars['rightBar']){\n\t\t\t\tC['rightBar'].show();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tC['rightBar'].hide();\n\t\t\t}\n\t\t\tif(!vars['live'] || valType(vars['live'])=='number'){\n\t\t\t\tpSliderMouseDown=false;\n\t\t\t\tprogressDragX();//注册进度滑块动作\n\t\t\t}\n\t\t\tif(vars['live'] || valType(vars['live'])=='number'){\n\t\t\t\tC['time'].htm(language['live']);\n\t\t\t\tC['tempTime'].htm(language['live']);\n\t\t\t}\n\t\t\tif(valType(vars['smallWindows'])=='boolean' && !vars['smallWindows']){\n\t\t\t\tCT.smallWindows=false;\n\t\t\t\tC['rightBar']['smallwindows']['open'].hide();\n\t\t\t\tC['rightBar']['smallwindows']['close'].show();\n\t\t\t}\n\t\t\tif(CT.loop){\n\t\t\t\tC['rightBar']['loop']['open'].show();\n\t\t\t\tC['rightBar']['loop']['close'].hide();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tC['rightBar']['loop']['open'].hide();\n\t\t\t\tC['rightBar']['loop']['close'].show();\n\t\t\t}\n\t\t\tif(!isUndefined(vars['backLive']) && vars['backLive']){\n\t\t\t\tC['bar']['backLive'].show();\n\t\t\t}\n\t\t\tif(vars['volume']==0){\n\t\t\t\tplayer.muted();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * loadLogo\n\t\t * 功能：加载logo\n\t\t*/\n\t\tloadLogo=function(){\n\t\t\tif(!isUndefined(vars['logo']) && isUndefined(C['logo'])){\n\t\t\t\tC['logo']=createlDiv('ck-logo');\n\t\t\t\tcreatelImg(vars['logo']).addListener('load',function(){\n\t\t\t\t\tCM.append(C['logo']);\n\t\t\t\t\tC['logo'].append(this);\n\t\t\t\t}).addListener('error',function(){C['logo'].remove()});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * loadAbout\n\t\t * 功能：加载loadAbout\n\t\t*/\n\t\tloadAbout=function(){\n\t\t\tif(!isUndefined(vars['information']) && !isUndefined(C['about']) && valType(vars['information'])=='object'){\n\t\t\t\tvar obj=vars['information'];\n\t\t\t\tvar k='';\n\t\t\t\tvar ul=$(document.createElement('ul'));\n\t\t\t\tvar temp='';\n\t\t\t\tfor(k in obj){\n\t\t\t\t\tvar title=createlDiv('div').attr('class','ck-about-title');\n\t\t\t\t\tvar content=createlDiv('div').attr('class','ck-about-content');\n\t\t\t\t\tvar li=$(document.createElement('li'));\n\t\t\t\t\ttitle.htm(k);\n\t\t\t\t\tcontent.htm(obj[k]);\n\t\t\t\t\tli.append(title);\n\t\t\t\t\tli.append(content);\n\t\t\t\t\tul.append(li);\n\t\t\t\t\ttemp+=k+':'+obj[k]+'\\n';\n\t\t\t\t}\t\t\t\n\t\t\t\tC['about'].append(ul);\n\t\t\t\tC['about']['textareaText']=temp;\n\t\t\t\tC['about']['textareaEle']=$(document.createElement('textarea'));\n\t\t\t\tCM.append(C['about']['textareaEle']);\n\t\t\t\tC['about']['textareaEle'].hide()\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * loadMenu\n\t\t * 功能：加载右键\n\t\t*/\n\t\tloadMenu=function(){\n\t\t\tif(!isUndefined(vars['menu']) && vars['menu']){\n\t\t\t\trightMenu=vars['menu'];\n\t\t\t}\n\t\t\tC['menu']=createlDiv('ckplayer-ckplayer-menu');\n\t\t\tfor(var i=0;i<rightMenu.length;i++){\n\t\t\t\tvar m=rightMenu[i];\n\t\t\t\tvar li=createlDiv('ck-li');\n\t\t\t\tif(!isUndefined(m['underline'])){\n\t\t\t\t\tli.addClass('ck-underline');\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(m['link']) && !isUndefined(m['title'])){\n\t\t\t\t\tli.append(createlA(m['title'],m['link']));\n\t\t\t\t\tC['menu'].append(li);\n\t\t\t\t}\n\t\t\t\telse if(!isUndefined(m['javascript']) && !isUndefined(m['title'])){\n\t\t\t\t\tli.append(createlJsLink(m['title'],m['javascript']));\n\t\t\t\t\tC['menu'].append(li);\n\t\t\t\t}\n\t\t\t\telse if(!isUndefined(m['click']) && !isUndefined(m['title'])){\n\t\t\t\t\tvar a=createlJsLink(m['title']);\n\t\t\t\t\ta.attr('data-click',m['click'].toString());\n\t\t\t\t\ta.click(function(){\n\t\t\t\t\t\teval($(this).attr('data-click')+'()');\n\t\t\t\t\t\tC['menu'].hide();\n\t\t\t\t\t});\n\t\t\t\t\tli.append(a);\n\t\t\t\t\tC['menu'].append(li);\n\t\t\t\t}\n\t\t\t\telse if(!isUndefined(m['title'])){\n\t\t\t\t\tli.htm(m['title']);\n\t\t\t\t\tC['menu'].append(li);\n\t\t\t\t}\n\t\t\t}\n\t\t\t$('body').append(C['menu']);\n\t\t\tCM.oncontextmenu = function(eve) {\n\t\t\t\tvar e = eve || window.event;\n\t\t\t\tvar client = getClient(e);\n\t\t\t\tif (e.button == 2) {\n\t\t\t\t\te.returnvalue = false;\n\t\t\t\t\tvar x = client['x'] - 2;\n\t\t\t\t\tvar y = client['y'] - 2;\n\t\t\t\t\tC['menu'].show();\n\t\t\t\t\tC['menu'].css({\n\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tvar menuSetTimeOut=null;\n\t\t\tvar clearTime=function(){\n\t\t\t\tif(menuSetTimeOut){\n\t\t\t\t\tclearTimeout(menuSetTimeOut);\n\t\t\t\t\tmenuSetTimeOut=null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar menuMouseOut=function(){\n\t\t\t\tclearTime();\n\t\t\t\tmenuSetTimeOut=setTimeout(function(){\n\t\t\t\t\tC['menu'].hide();\n\t\t\t\t},200);\n\t\t\t};\n\t\t\tC['menu'].mouseout(menuMouseOut);\n\t\t\tC['menu'].mouseover(clearTime);\n\t\t},\n\t\t/*\n\t\t * aboutShow\n\t\t * 功能：显示关于视频\n\t\t*/\n\t\taboutShow=function(){\n\t\t\tC['about'].show();\n\t\t\tC['menu'].hide();\n\t\t},\n\t\t/*\n\t\t * aboutHide\n\t\t * 功能：显示关于视频\n\t\t*/\n\t\taboutHide=function(){\n\t\t\tC['about'].hide();\n\t\t},\n\t\t/*\n\t\t * aboutCopy\n\t\t * 功能：拷贝关于视频内容\n\t\t*/\n\t\taboutCopy=function(){\n\t\t\tC['about']['textareaEle'].show();\n\t\t\tC['about']['textareaEle'].select();\n\t\t\tdocument.execCommand('Copy'); // 执行浏览器复制命令\n\t\t\tC['about']['textareaEle'].hide();\n\t\t\tmessage(language['copySucceeded'],true);\n\t\t},\n\t\t/*\n\t\t * getBarHeight\n\t\t * 功能：获取控制栏的高\n\t\t*/\n\t\tgetBarHeight=function(){\n\t\t\tvar h=C['bar'].getHeight();\n\t\t\tif(parseFloat(C['bar']['pbox'].css('top'))<0){\n\t\t\t\th-=parseInt(C['bar']['pbox'].css('top'));\n\t\t\t}\n\t\t\treturn h;\n\t\t},\n\t\t/*\n\t\t * hideBar\n\t\t * 功能：隐藏控制栏，只在播放状态下有效\n\t\t*/\n\t\thideBar=function(){\n\t\t\tif(mouseSetTime){\n\t\t\t\tclearTimeout(mouseSetTime);\n\t\t\t\tmouseSetTime=null;\n\t\t\t}\n\t\t\tmouseSetTime=setTimeout(function(){\n\t\t\t\tif(!paused){\n\t\t\t\t\tC['bar'].addClass('ck-bar-out');\n\t\t\t\t\teventTarget('mouseActive',false);\n\t\t\t\t\tif(CT.full){\n\t\t\t\t\t\tCM.addClass('ck-nocursor');\n\t\t\t\t\t}\n\t\t\t\t\tif(C['rightBar'].css('display')=='block'){\n\t\t\t\t\t\tC['rightBar'].addClass('ck-right-bar-hide');\n\t\t\t\t\t}\n\t\t\t\t\tif(C['topBar'].css('display')=='block'){\n\t\t\t\t\t\tC['topBar'].addClass('ck-top-bar-hide');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmouseSetTime=null;\n\t\t\t},vars['barHideTime']);\n\t\t},\n\t\t/*\n\t\t * barMouseOut\n\t\t * 功能：鼠标离开控制栏修改播放进度框样式\n\t\t*/\n\t\tbarMouseOut=function(){\n\t\t\tif(!paused){\n\t\t\t\tC['bar']['pbox'].addClass('ck-bar-progress-out');\n\t\t\t\thideBar();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * barMouseOver\n\t\t * 功能：鼠标经过控制栏修改播放进度框样式\n\t\t*/\n\t\tbarMouseOver=function(){\n\t\t\tif(!paused){\n\t\t\t\tC['bar']['pbox'].removeClass('ck-bar-progress-out');\n\t\t\t\tif(mouseSetTime){\n\t\t\t\t\tclearTimeout(mouseSetTime);\n\t\t\t\t\tmouseSetTime=null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * rightBarMouseOut\n\t\t * 功能：鼠标离开右侧控制栏修改播放进度框样式\n\t\t*/\n\t\trightBarMouseOut=function(){\n\t\t\tif(!paused){\n\t\t\t\thideBar();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * rightBarMouseOver\n\t\t * 功能：鼠标经过右侧控制栏修改播放进度框样式\n\t\t*/\n\t\trightBarMouseOver=function(){\n\t\t\tif(!paused){\n\t\t\t\tif(mouseSetTime){\n\t\t\t\t\tclearTimeout(mouseSetTime);\n\t\t\t\t\tmouseSetTime=null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * checkPlaybackrate\n\t\t * 功能：初始化或重置倍速组件内容\n\t\t*/\n\t\tcheckPlaybackrate=function(){\n\t\t\tvar playbackrate=vars['playbackrateList'];\n\t\t\tvar pbr=vars['playbackrate'];\n\t\t\tC['bar']['playbackrate']['bg']=createlDiv('ck-list-bg');\n\t\t\tC['bar']['playbackrate']['bgbox'].append(C['bar']['playbackrate']['bg']);\n\t\t\tC['bar']['playbackrate']['bg']['p']=[];\n\t\t\tfor(var i=playbackrate.length-1;i>-1;i--){\n\t\t\t\tvar pTemp=createlButton('ck-list-p',playbackrate[i]+language['playbackrateSuffix']);\n\t\t\t\tpTemp.attr('data-i',i).attr('data-val',playbackrate[i]);\n\t\t\t\tC['bar']['playbackrate']['bg']['p'].push(pTemp);\n\t\t\t\tC['bar']['playbackrate']['bg'].append(pTemp);\n\t\t\t\tpTemp.click(playbackrateClick);\n\t\t\t}\n\t\t\tC['bar']['playbackrate'].hide();\n\t\t\tif(!isUndefined(vars['playbackrateOpen']) && vars['playbackrateOpen']){\n\t\t\t\tC['bar']['playbackrate'].show();\n\t\t\t\tC['bar']['playbackrate']['bgbox'].show();\n\t\t\t\tvar w=C['bar']['playbackrate']['bg'].getWidth(),h=C['bar']['playbackrate']['bg'].getHeight();\n\t\t\t\tvar bw=C['bar']['playbackrate']['button'].getWidth();\n\t\t\t\tC['bar']['playbackrate']['bg'].css({'width':w+10+'px'});\n\t\t\t\tw=C['bar']['playbackrate']['bg'].getWidth();\n\t\t\t\tif(getBarHeight()>C['bar'].getHeight()){\n\t\t\t\t\th+=(getBarHeight()-C['bar'].getHeight());\n\t\t\t\t}\n\t\t\t\tC['bar']['playbackrate']['bgbox'].attr('style','');\n\t\t\t\tC['bar']['playbackrate']['bgbox'].css({\n\t\t\t\t\t'width':w+'px',\n\t\t\t\t\t'height':(h+2)+'px',\n\t\t\t\t\t'left':-(w-bw)*0.5+'px'\n\t\t\t\t});\n\t\t\t\tC['bar']['playbackrate']['button'].mouseover(function(){\n\t\t\t\t\tw=C['bar']['playbackrate']['bg'].getWidth();\n\t\t\t\t\tbw=C['bar']['playbackrate']['button'].getWidth();\n\t\t\t\t\tC['bar']['playbackrate']['bgbox'].css({\t\t\t\n\t\t\t\t\t\t'left':-(w-bw)*0.5+'px'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tchangePlaybackrateVal(pbr);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * playbackrateClick\n\t\t * 功能：选择播速\n\t\t*/\n\t\tplaybackrateClick=function(e){\n\t\t\tC['bar']['playbackrate']['bgbox'].hide();\n\t\t\tsetTimeout(function(){C['bar']['playbackrate']['bgbox'].removeCss('display');},300);\n\t\t\tmessage(language['switchTo']+$(this).htm());\n\t\t\tplayer.playbackRate(parseFloat($(this).attr('data-val')));\n\t\t},\n\t\t/*\n\t\t * changePlaybackrateVal\n\t\t * 功能：根据速度检查播速\n\t\t*/\n\t\tchangePlaybackrateVal=function(num){\n\t\t\tC['bar']['playbackrate']['bg'].find('button').each(function(index,ele){\n\t\t\t\tvar val=parseFloat(ele.attr('data-val'));\n\t\t\t\tele.removeClass('ck-list-p-focus');\n\t\t\t\tif(num==val){\n\t\t\t\t\tele.addClass('ck-list-p-focus');\n\t\t\t\t\tif(num!=1){\n\t\t\t\t\t\tC['bar']['playbackrate']['button'].htm(ele.htm());\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tC['bar']['playbackrate']['button'].htm(language['playbackrate']);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tele.removeClass('ck-list-p-focus');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * checkTrack\n\t\t * 功能：初始化或重置字幕组件内容\n\t\t*/\n\t\tcheckTrack=function(){\n\t\t\tvar track=vars['track'];\n\t\t\tvar pbr=-1;\n\t\t\tC['bar']['track']['bgbox'].htm('');\n\t\t\tC['bar']['track']['bg']=createlDiv('ck-list-bg');\n\t\t\tC['bar']['track']['bgbox'].append(C['bar']['track']['bg']);\n\t\t\tC['bar']['track']['bg']['p']=[];\n\t\t\tvar pTemp=null;\n\t\t\tfor(var i=track.length-1;i>-1;i--){\n\t\t\t\tpTemp=createlButton('ck-list-p',track[i]['label']);\n\t\t\t\tpTemp.attr('data-i',i).attr('data-title',track[i]['label']);\n\t\t\t\tC['bar']['track']['bg']['p'].push(pTemp);\n\t\t\t\tC['bar']['track']['bg'].append(pTemp);\n\t\t\t\tif(!isUndefined(track[i]['default']) && track[i]['default']){\n\t\t\t\t\tpbr=i;\n\t\t\t\t}\n\t\t\t\tpTemp.click(trackClick);\n\t\t\t}\n\t\t\t//\n\t\t\tpTemp=createlButton('ck-list-p',language['noTrack']);\n\t\t\tpTemp.attr('data-i',-1).attr('data-title',language['noTrack']);\n\t\t\tC['bar']['track']['bg']['p'].push(pTemp);\n\t\t\tC['bar']['track']['bg'].append(pTemp);\n\t\t\tpTemp.click(trackClick);\n\t\t\t//\n\t\t\tC['bar']['track'].hide();\n\t\t\tC['bar']['track'].show();\n\t\t\tC['bar']['track']['bgbox'].show();\n\t\t\tvar w=C['bar']['track']['bg'].getWidth(),h=C['bar']['track']['bg'].getHeight();\n\t\t\tvar bw=C['bar']['track']['button'].getWidth();\n\t\t\tC['bar']['track']['bg'].css({'width':w+10+'px'});\n\t\t\tw=C['bar']['track']['bg'].getWidth();\n\t\t\tif(getBarHeight()>C['bar'].getHeight()){\n\t\t\t\th+=(getBarHeight()-C['bar'].getHeight());\n\t\t\t}\n\t\t\tC['bar']['track']['bgbox'].attr('style','');\n\t\t\tC['bar']['track']['bgbox'].css({\n\t\t\t\t'width':w+'px',\n\t\t\t\t'height':(h+2)+'px',\n\t\t\t\t'left':-(w-bw)*0.5+'px'\n\t\t\t});\n\t\t\tC['bar']['track']['button'].mouseover(function(){\n\t\t\t\tw=C['bar']['track']['bg'].getWidth();\n\t\t\t\tbw=C['bar']['track']['button'].getWidth();\n\t\t\t\tC['bar']['track']['bgbox'].css({\t\t\t\n\t\t\t\t\t'left':-(w-bw)*0.5+'px'\n\t\t\t\t});\n\t\t\t});\n\t\t\tchangeTrackVal(pbr);\n\t\t},\n\t\t/*\n\t\t * trackClick\n\t\t * 功能：选择字幕\n\t\t*/\n\t\ttrackClick=function(e){\n\t\t\tC['bar']['track']['bgbox'].hide();\n\t\t\tsetTimeout(function(){C['bar']['track']['bgbox'].removeCss('display');},300);\n\t\t\tmessage(language['switchTo']+$(this).attr('data-title'));\n\t\t\tplayer.track(parseFloat($(this).attr('data-i')));\n\t\t},\n\t\t/*\n\t\t * changeTrackVal\n\t\t * 功能：根据字幕检查\n\t\t*/\n\t\tchangeTrackVal=function(num){\n\t\t\tC['bar']['track']['bg'].find('button').each(function(index,ele){\n\t\t\t\tvar i=parseInt(ele.attr('data-i'));\n\t\t\t\tif(num==i){\n\t\t\t\t\tC['bar']['track']['button'].htm(ele.attr('data-title'));\n\t\t\t\t\tif(i>-1){\n\t\t\t\t\t\tCT.track=vars['track'][i];\n\t\t\t\t\t\teventTarget('track',vars['track'][i]);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tCT.track=null;\n\t\t\t\t\t\teventTarget('track',null);\n\t\t\t\t\t}\n\t\t\t\t\tele.addClass('ck-list-p-focus');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tele.removeClass('ck-list-p-focus');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * checkDefinition\n\t\t * 功能：初始化或重置清晰度组件内容\n\t\t*/\n\t\tcheckDefinition=function(){\n\t\t\tvar pi=-1;\n\t\t\tvar videoUrl=video['currentSrc'];\n\t\t\tif(!isUndefined(C['bar']['definition']['bg'])){\n\t\t\t\tC['bar']['definition']['bgbox'].htm('');\n\t\t\t\tC['bar']['definition']['bgbox'].attr('style','');\n\t\t\t\tC['bar']['definition']['button'].htm(language['definition']);\n\t\t\t}\n\t\t\tif(valType(vars['video'])=='array'){\n\t\t\t\tvar arr=vars['video'];\n\t\t\t\tC['bar']['definition']['bg']=createlDiv('ck-list-bg');\n\t\t\t\tC['bar']['definition']['bgbox'].append(C['bar']['definition']['bg']);\n\t\t\t\tC['bar']['definition']['bg']['p']=[];\n\t\t\t\tfor(var i=arr.length-1;i>-1;i--){\n\t\t\t\t\tvar pTemp=createlButton('ck-list-p',arr[i][2]);\n\t\t\t\t\tpTemp.attr('data-i',i).attr('data-video',arr[i][0]).attr('data-type',arr[i][1]).attr('data-title',arr[i][2]);\n\t\t\t\t\tC['bar']['definition']['bg']['p'].push(pTemp);\n\t\t\t\t\tC['bar']['definition']['bg'].append(pTemp);\n\t\t\t\t\tif(videoUrl && videoUrl.indexOf(arr[i][0])>-1){\n\t\t\t\t\t\tpi=i;\n\t\t\t\t\t}\n\t\t\t\t\tpTemp.click(definitionClick);\n\t\t\t\t}\n\t\t\t\tC['bar']['definition'].show();\n\t\t\t\tC['bar']['definition']['bgbox'].show();\n\t\t\t\tvar w=C['bar']['definition']['bg'].getWidth(),h=C['bar']['definition']['bg'].getHeight();\n\t\t\t\tvar bw=C['bar']['definition']['button'].getWidth();\n\t\t\t\tC['bar']['definition']['bg'].css({'width':w+10+'px'});\n\t\t\t\tw=C['bar']['definition']['bg'].getWidth();\n\t\t\t\tif(getBarHeight()>C['bar'].getHeight()){\n\t\t\t\t\th+=(getBarHeight()-C['bar'].getHeight());\n\t\t\t\t}\n\t\t\t\tC['bar']['definition']['bgbox'].attr('style','');\n\t\t\t\tC['bar']['definition']['bgbox'].css({\n\t\t\t\t\t'width':w+'px',\n\t\t\t\t\t'height':(h+2)+'px',\n\t\t\t\t\t'left':-(w-bw)*0.5+'px'\n\t\t\t\t});\n\t\t\t\tC['bar']['definition']['button'].mouseover(function(){\n\t\t\t\t\tw=C['bar']['definition']['bg'].getWidth();\n\t\t\t\t\tbw=C['bar']['definition']['button'].getWidth();\n\t\t\t\t\tC['bar']['definition']['bgbox'].css({\t\t\t\n\t\t\t\t\t\t'left':-(w-bw)*0.5+'px'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tif(pi>-1){\n\t\t\t\tC['bar']['definition']['bg'].find('button').each(function(index,ele){\n\t\t\t\t\tvar i=parseInt(ele.attr('data-i'));\n\t\t\t\t\tif(pi==i){\n\t\t\t\t\t\tele.addClass('ck-list-p-focus');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tele.removeClass('ck-list-p-focus');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * definitionClick\n\t\t * 功能：选择清晰度\n\t\t*/\n\t\tdefinitionClick=function(e){\n\t\t\tC['bar']['definition']['bgbox'].hide();\n\t\t\tsetTimeout(function(){\n\t\t\t\tC['bar']['definition']['bgbox'].removeCss('display');\n\t\t\t},300);\n\t\t\tchangeDefinition(parseInt($(this).attr('data-i')));\n\t\t},\n\t\t/*\n\t\t * changeDefinition\n\t\t * 功能：检查清晰度\n\t\t*/\n\t\tchangeDefinition=function(num){\n\t\t\tC['bar']['definition']['bg'].find('button').each(function(index,ele){\n\t\t\t\tvar i=parseInt(ele.attr('data-i'));\n\t\t\t\tif(num==i){\n\t\t\t\t\tif(!isUndefined(video.textTracks) && video.textTracks.length>0){\n\t\t\t\t\t\tfor(var y=video.find('track').length-1;y>-1;y--){\n\t\t\t\t\t\t\tvideo.find('track').eq(y).remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tseekTime=player.time();\n\t\t\t\t\tvideo.attr('autoplay','autoplay');\n\t\t\t\t\tchangeVideo(ele.attr('data-video'));\n\t\t\t\t\tmessage(language['switchTo']+ele.htm());\n\t\t\t\t\tC['bar']['definition']['button'].htm(ele.htm());\n\t\t\t\t\tele.addClass('ck-list-p-focus');\n\t\t\t\t\teventTarget('definition',{id:i,video:ele.attr('data-video'),title:ele.attr('data-title')});\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tele.removeClass('ck-list-p-focus');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * deletePrompt\n\t\t * 功能：删除关键点\n\t\t*/\n\t\tdeletePrompt=function(){\n\t\t\tvar i=0;\n\t\t\tif(!isUndefined(C['prompt']) && valType(C['prompt'])=='array'){\n\t\t\t\tfor(i=C['prompt'].length;i>-1;i--){\n\t\t\t\t\tif(!isUndefined(C['prompt'][i])){\n\t\t\t\t\t\tC['prompt'][i].remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tC['prompt']=null;\n\t\t\t}\n\t\t\tC['prompt']=[];\n\t\t},\n\t\t/*\n\t\t * changePrompt\n\t\t * 功能：构建关键点\n\t\t*/\n\t\tchangePrompt=function(){\n\t\t\tdeletePrompt();\n\t\t\tfor(var i=0;i<vars['prompt'].length;i++){\n\t\t\t\tvar obj=vars['prompt'][i];\n\t\t\t\tif(!isUndefined(obj) && 'words' in obj && 'time' in obj && !isUndefined(obj['time']) && !isUndefined(obj['words']) && valType(obj['time'])=='number'){\n\t\t\t\t\tvar ele=createlDiv('ck-bar-progress-prompt');\n\t\t\t\t\tele.attr('data-words',obj['words']).attr('data-time',obj['time']);\n\t\t\t\t\tC['bar']['pbox']['bg'].append(ele);\n\t\t\t\t\tvar bf=(ele.getWidth()*0.5/C['bar']['pbox']['bg'].getWidth())*50;\n\t\t\t\t\tvar left=obj['time']/duration*100-bf;\n\t\t\t\t\tif(left<0) left=0;\n\t\t\t\t\tif(left>100) left=100;\n\t\t\t\t\tele.css({'left':left+'%'});\n\t\t\t\t\tele.mouseover(function(){\n\t\t\t\t\t\tif(this.attr('data-words')){\n\t\t\t\t\t\t\tshowPromptWords(this);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tele.mouseout(function(){\n\t\t\t\t\t\tif(this.attr('data-words')){\n\t\t\t\t\t\t\tshowPromptWords();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tC['prompt'].push(ele);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * showPromptWords\n\t\t * 功能：显示关键点提示\n\t\t*/\n\t\tshowPromptWords=function(ele){\n\t\t\tif(isUndefined(C['promptWords'])){\n\t\t\t\tC['promptWords']=createlDiv('ck-prompt-words');\n\t\t\t\tCM.append(C['promptWords']);\n\t\t\t\tC['promptWords']['content']=createlDiv('ck-prompt-content');\n\t\t\t\tC['promptWords'].append(C['promptWords']['content']);\n\t\t\t}\n\t\t\tif(isUndefined(ele)){\n\t\t\t\tC['promptWords']['content'].htm('');\n\t\t\t\tC['promptWords'].hide();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tC['promptWords']['content'].htm(ele.attr('data-words'));\n\t\t\tC['promptWords'].show();\n\t\t\tvar pW=C['promptWords'].getWidth(),pH=C['promptWords'].getHeight();\n\t\t\tvar bg=C['bar']['pbox']['bg'];\n\t\t\tvar time=parseFloat(ele.attr('data-time'));\n\t\t\tvar top=CK.getHeight()-getBarHeight();\n\t\t\tvar left=ele.offset()['left']-CK.offset()['left']+ele.getWidth()*.5-pW*.5;\n\t\t\tif(!isUndefined(C['preview'])){\n\t\t\t\ttop=CK.getHeight()-parseFloat((getBarHeight()+C['preview']['smallHight']+parseInt(C['preview'].css('margin-bottom'))));\n\t\t\t}\n\t\t\telse{\n\t\t\t\ttop=CK.getHeight()-parseFloat((getBarHeight()+C['tip']['minHeight']+parseInt(C['tip'].css('margin-bottom'))));\n\t\t\t\ttop-=(getBarHeight()-C['bar'].getHeight());\n\t\t\t}\n\t\t\ttop-=parseFloat(C['promptWords'].css('margin-bottom'));\n\t\t\ttop-=pH;\n\t\t\tleft-=parseFloat(C['promptWords'].css('margin-right'));\n\t\t\tif(left<0)left=0;\n\t\t\tif(left>CK.getWidth()-pW)left=CK.getWidth()-pW;\n\t\t\tC['promptWords'].css({\n\t\t\t\t'top':top+'px',\n\t\t\t\t'left':left+'px'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * changePreview\n\t\t * 功能：加载或重置预览图片\n\t\t*/\n\t\tchangePreview=function(preview){\n\t\t\tif(!isUndefined(C['preview'])){\n\t\t\t\tC['preview'].remove();\n\t\t\t\tC['preview']=null;\n\t\t\t}\n\t\t\tif(!isUndefined(preview)){\n\t\t\t\tC['preview']=createlDiv('ck-preview');\n\t\t\t\tCM.append(C['preview']);\n\t\t\t\tif(isUndefined(vars['preview']['type'])){\n\t\t\t\t\tvars['preview']['type']=0;\n\t\t\t\t}\n\t\t\t\tif(vars['preview']['type']==1){\n\t\t\t\t\tC['preview']['bg']=createlDiv('ck-preview-bg');\n\t\t\t\t\tC['preview'].append(C['preview']['bg']);\n\t\t\t\t}\n\t\t\t\tvar files=[];\n\t\t\t\tvar loadImg=function(bigW,bigH,smallW,smallH){\n\t\t\t\t\tif(vars['preview']['type']==1){\n\t\t\t\t\t\tC['preview']['bg']['img']=[];\n\t\t\t\t\t\tfor(var i=0;i<files.length;i++){\n\t\t\t\t\t\t\tfor(var y=0;y<bigH/smallH;y++){\n\t\t\t\t\t\t\t\tvar img=createlDiv('ck-preview-img');\n\t\t\t\t\t\t\t\timg.attr('data-img',files[i]).attr('data-i',y);\n\t\t\t\t\t\t\t\timg.css({\n\t\t\t\t\t\t\t\t\t'width':bigW+'px',\n\t\t\t\t\t\t\t\t\t'height':smallH+'px',\n\t\t\t\t\t\t\t\t\t'background-position':'left '+(-(y*smallH))+'px'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tC['preview']['bg'].append(img);\n\t\t\t\t\t\t\t\tC['preview']['bg']['img'].push(img);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tC['preview']['bg'].css({\n\t\t\t\t\t\t\t'width':bigW*(bigH/smallH)*(files.length+1)+'px',\n\t\t\t\t\t\t\t'height':smallH+'px'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tC['preview']['bigWidth']=bigW;\n\t\t\t\t\tC['preview']['bigHight']=bigH;\n\t\t\t\t\tC['preview']['smallWidth']=smallW;\n\t\t\t\t\tC['preview']['smallHight']=smallH;\n\t\t\t\t\tif(vars['preview']['type']==1){\n\t\t\t\t\t\tC['preview']['frame']=createlDiv('ck-preview-frame');\n\t\t\t\t\t\tC['preview'].append(C['preview']['frame']);\n\t\t\t\t\t\tC['preview']['frame'].css({\n\t\t\t\t\t\t\t'width':smallW+'px',\n\t\t\t\t\t\t\t'height':(smallH-parseFloat(C['preview']['frame'].css('border-width'))*2)+'px',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif(valType(vars['preview'])=='object'){\n\t\t\t\t\tif(valType(vars['preview']['file'])=='array'){\n\t\t\t\t\t\tfiles=vars['preview']['file'];\n\t\t\t\t\t\tvar thumbnail=[10,10];\n\t\t\t\t\t\tif(valType(vars['preview']['thumbnail'])=='array' && vars['preview']['thumbnail'].length>1){\n\t\t\t\t\t\t\tif(valType(vars['preview']['thumbnail'][0])=='number'){\n\t\t\t\t\t\t\t\tthumbnail[0]=vars['preview']['thumbnail'][0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(valType(vars['preview']['thumbnail'][1])=='number'){\n\t\t\t\t\t\t\t\tthumbnail[1]=vars['preview']['thumbnail'][1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvars['preview']['thumbnail']=thumbnail;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(files[0]){\n\t\t\t\t\t\t\tvar img = createlImg(files[0],'ck-preview-load-img').addListener('load',function(){\n\t\t\t\t\t\t\t\tloadImg(this.getWidth(),this.getHeight(),this.getWidth()/thumbnail[0],this.getHeight()/thumbnail[1]);\n\t\t\t\t\t\t\t\tthis.remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tCM.append(img);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tC['preview'].removeChild();\n\t\t\t\t\t\tC['preview']=null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tC['preview'].removeChild();\n\t\t\t\t\tC['preview']=null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * showPreview\n\t\t * 功能：显示预览图\n\t\t*/\n\t\tshowPreview=function(time){\n\t\t\tif(hidePreviewSetTime){\n\t\t\t\tclearTimeout(hidePreviewSetTime);\n\t\t\t\thidePreviewSetTime=null;\n\t\t\t}\n\t\t\tif(time<0){\n\t\t\t\tif(!isUndefined(C['preview'])){\n\t\t\t\t\thidePreviewSetTime=setTimeout(function(){\n\t\t\t\t\t\tC['preview'].hide();\n\t\t\t\t\t\thidePreviewSetTime=null;\n\t\t\t\t\t},200);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!isUndefined(C['preview']) && !isUndefined(vars['preview']['thumbnail']) && duration>0){\n\t\t\t\tif(isUndefined(vars['preview']['type'])){\n\t\t\t\t\tvars['preview']['type']=0;\n\t\t\t\t}\n\t\t\t\tvar scale=2,thumbnail=vars['preview']['thumbnail'];\n\t\t\t\tif(!isUndefined(vars['preview']['scale'])){\n\t\t\t\t\tscale=vars['preview']['scale'];\n\t\t\t\t}\n\t\t\t\tvar divI=0,imgI=0;\n\t\t\t\tvar left=0,frameLeft=0;\n\t\t\t\tvar pW=0;\n\t\t\t\tvar smallW=C['preview']['smallWidth'],smallH=C['preview']['smallHight'];\n\t\t\t\tvar bgXw=time*C['bar']['pbox']['bg'].getWidth()/duration+(C['bar']['pbox']['bg'].offset()['left']-CK.offset()['left']);\n\t\t\t\tif(C['preview'].css('display')=='none'){\n\t\t\t\t\tC['preview'].show();\n\t\t\t\t}\n\t\t\t\tC['preview'].css({\n\t\t\t\t\t'height':smallH+'px',\n\t\t\t\t});\n\t\t\t\tif(vars['preview']['type']==1){\n\t\t\t\t\tdivI=parseInt(time/(scale*thumbnail[0]));\n\t\t\t\t\timgI=parseInt(time/scale);\n\t\t\t\t\tvar minI=divI-5,maxI=divI+5;\n\t\t\t\t\tif(minI<0) minI=0;\n\t\t\t\t\tif(maxI>C['preview']['bg']['img'].length-1){\n\t\t\t\t\t\tmaxI=C['preview']['bg']['img'].length-1;\n\t\t\t\t\t}\n\t\t\t\t\tfor(var i=minI;i<maxI;i++){\n\t\t\t\t\t\tif(C['preview']['bg']['img'][i].attr('data-img')){\n\t\t\t\t\t\t\tvar bgPosition=C['preview']['bg']['img'][i].css('background-position');\n\t\t\t\t\t\t\tC['preview']['bg']['img'][i].css({'background':'url('+C['preview']['bg']['img'][i].attr('data-img')+') no-repeat'});\n\t\t\t\t\t\t\tC['preview']['bg']['img'][i].attr('data-img','');\n\t\t\t\t\t\t\tC['preview']['bg']['img'][i].css('background-position',bgPosition);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpW=C['preview']['frame'].getWidth();\n\t\t\t\t\tframeLeft=bgXw-pW*.5;\n\t\t\t\t\tleft=-(imgI*smallW+smallW*.5)+bgXw;\n\t\t\t\t\tif(frameLeft<0){\n\t\t\t\t\t\tframeLeft=0;\n\t\t\t\t\t\tbgXw=(pW-smallW)*0.5;\n\t\t\t\t\t\tleft=-(imgI*smallW)+bgXw;\n\t\t\t\t\t}\n\t\t\t\t\tif(frameLeft>C['preview'].getWidth()-C['preview']['frame'].getWidth()){\n\t\t\t\t\t\tvar xz=frameLeft-(C['preview'].getWidth()-C['preview']['frame'].getWidth());\n\t\t\t\t\t\tframeLeft=C['preview'].getWidth()-C['preview']['frame'].getWidth();\n\t\t\t\t\t\tleft-=xz;\n\t\t\t\t\t}\n\t\t\t\t\tC['preview']['bg'].css({'left':left+'px'});\n\t\t\t\t\tC['preview']['frame'].css({'left':frameLeft+'px'});\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tvar temp=(time/scale)/(thumbnail[0]*thumbnail[1]);\n\t\t\t\t\timgI=parseInt(temp);//计算显示的图片编号\n\t\t\t\t\tvar smallI=parseInt((temp-imgI)*100);\n\t\t\t\t\tvar rows=parseInt(smallI/thumbnail[0]);\n\t\t\t\t\tvar column=smallI%thumbnail[0];\n\t\t\t\t\tvar files=vars['preview']['file'];\n\t\t\t\t\tleft=bgXw-smallW*.5;\n\t\t\t\t\tif(left<0){\n\t\t\t\t\t\tleft=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(left>CK.getWidth()-smallW){\n\t\t\t\t\t\tleft=CK.getWidth()-smallW;\n\t\t\t\t\t}\n\t\t\t\t\tC['preview'].css({\n\t\t\t\t\t\t'width':C['preview']['smallWidth']+'px',\n\t\t\t\t\t\t'background':'url('+files[imgI]+') no-repeat',\n\t\t\t\t\t\t'background-position':'-'+column*smallW+'px -'+rows*smallH+'px',\n\t\t\t\t\t\t'left':left+'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * showError\n\t\t * 功能：显示错误信息\n\t\t*/\n\t\tshowError=function(){\n\t\t\tC['loading'].hide();\n\t\t\tif(vars['controls'] || !vars['errorShow']){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(isUndefined(C['error'])){\n\t\t\t\tC['error']=createlDiv('ck-error');\n\t\t\t\tCM.append(C['error']);\n\t\t\t}\n\t\t\tvar msg=CT.error['message'];\n\t\t\tif(!msg) msg=language['error']['noMessage'];\n\t\t\tvar html=msg+'(code:'+CT.error['code']+')';\n\t\t\tC['error'].htm(html);\n\t\t\tC['error'].show();\n\t\t},\n\t\t/*\n\t\t * showWindowsError\n\t\t * 功能：显示错误信息\n\t\t*/\n\t\tshowWindowsError=function(error){\n\t\t\tvar ele=createlDiv('ckplayer-error',error);\n\t\t\t$('body').append(ele);\n\t\t},\n\t\t/*\n\t\t * showNextEpisode\n\t\t * 功能：鼠标经过下一集按钮的动作\n\t\t*/\n\t\tshowNextEpisode=function(){\n\t\t\tif(isUndefined(vars['next'])) return;\n\t\t\tif(valType(vars['next'])=='object'){\n\t\t\t\tif('content' in vars['next']){\n\t\t\t\t\tC['next']=player.layer(vars['next']);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif('title' in vars['next']){\n\t\t\t\t\ttip(C['bar']['nextEpisode'],vars['next']['title']);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttip(C['bar']['nextEpisode'],language['next']);\n\t\t},\n\t\t/*\n\t\t * nextClick\n\t\t * 功能：点击下一集按钮的动作\n\t\t*/\n\t\tnextClick=function(){\n\t\t\tif(valType(vars['next'])=='object'){\n\t\t\t\tif('click' in vars['next']){\n\t\t\t\t\tif(valType(vars['next']['click'])=='function'){\n\t\t\t\t\t\tvars['next']['click']();\n\t\t\t\t\t}\n\t\t\t\t\telse if(valType(vars['next']['click'])=='string'){\n\t\t\t\t\t\teval(vars['next']['click']+'()');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif('link' in vars['next']){\n\t\t\t\t\twindow.location.href=vars['next']['link'];\n\t\t\t\t}\n\t\t\t\teventTarget('next');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * showEnded\n\t\t * 功能：播放结束后的显示内容\n\t\t*/\n\t\tshowEnded=function() {\n\t\t\tif(!CT.loop && !isUndefined(vars['ended'])){\n\t\t\t\tclosePauseAd();\n\t\t\t\tC['ended']=player.layer(vars['ended']);\n\t\t\t\tif(C['ended']){\n\t\t\t\t\tC['centerPlay'].hide();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * windowScroll\n\t\t * 功能：监听页面滚动\n\t\t*/\n\t\twindowScroll=function() {\n\t\t\tif(!CT.smallWindows) return;\n\t\t\tif(CT.webFull || CT.theatre || CT.full){\n\t\t\t\texitSmallWindows();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n\t\t\tif(scrollTop>CT.offset()['top']+CT.getHeight()){\n\t\t\t\tif(!CK.hasClass('ckplayer-ckplayer-smallwindow')){\n\t\t\t\t\tCK.addClass('ckplayer-ckplayer-smallwindow');\n\t\t\t\t\teventTarget('smallWindows',true);\n\t\t\t\t\tsmallWindowsState=true;\n\t\t\t\t\tif(vars['smallWindowsDrag']){\n\t\t\t\t\t\tdrag(true);\n\t\t\t\t\t}\n\t\t\t\t\tallBarHide();\n\t\t\t\t\tcheckVideoRotate();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\texitSmallWindows();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * exitSmallWindows\n\t\t * 退出小窗口模式\n\t\t */\n\t\texitSmallWindows=function(){\n\t\t\tif(CK.hasClass('ckplayer-ckplayer-smallwindow')){\n\t\t\t\tCK.removeClass('ckplayer-ckplayer-smallwindow');\n\t\t\t\tif(vars['smallWindowsDrag']){\n\t\t\t\t\tdrag();\n\t\t\t\t}\n\t\t\t\teventTarget('smallWindows',false);\n\t\t\t\tsmallWindowsState=false;\n\t\t\t\tallBarShow();\n\t\t\t\tcheckVideoRotate();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * drag\n\t\t * 功能，使节点可拖动\n\t\t * state：是否开启可拖动，默认=false，关闭状态\n\t\t*/\n\t\tdrag=function(state) {\n\t\t\tvar doc=$(document);\n\t\t\tvar posX = 0,posY = 0,\n\t\t\t\tposXRecord = 0,posYRecord = 0;\n\t\t\tvar open=false;\n\t\t\tif(!isUndefined(state)){\n\t\t\t\topen=state;\n\t\t\t}\n\t\t\tvar mouseDown = function(e) {\n\t\t\t\te.preventDefault && e.preventDefault();\n\t\t\t\te = e || window.event;\n\t\t\t\tvar client = getClient(e);\n\t\t\t\tposXRecord = client['x'];\n\t\t\t\tposYRecord = client['y'];\n\t\t\t\tdoc.mousemove(docMouseMove);\n\t\t\t\tdoc.mouseup(docMouseUp);\n\t\t\t\tCK.css({\n\t\t\t\t\t'cursor':'move'\n\t\t\t\t});\n\t\t\t};\n\t\t\tvar docMouseMove = function(e) {\n\t\t\t\te = e || window.event;\n\t\t\t\tvar client = getClient(e);\n\t\t\t\tvar eleOffset = CK.offset();\n\t\t\t\tposY = client['y']-posYRecord;\n\t\t\t\tposX = client['x']-posXRecord;\n\t\t\t\tposXRecord = client['x'];\n\t\t\t\tposYRecord = client['y'];\n\t\t\t\tvar left=eleOffset['left']+posX;\n\t\t\t\tvar top=eleOffset['top']+posY;\n\t\t\t\tCK.css({\n\t\t\t\t\t'left':left+'px',\n\t\t\t\t\t'top':top+'px'\n\t\t\t\t});\n\t\t\t\tif(CK.css('position')!='fixed'){\n\t\t\t\t\tCK.css({\n\t\t\t\t\t\t'position':'fixed'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tisDrag=true;\n\t\t\t};\n\t\t\tvar docMouseUp = function() {\n\t\t\t\tdoc.removeListener('mousemove', docMouseMove);\n\t\t\t\tdoc.removeListener('mouseup', docMouseUp);\n\t\t\t\tCK.css({\n\t\t\t\t\t'cursor':'default'\n\t\t\t\t});\n\t\t\t};\n\t\t\tif(open){\n\t\t\t\tCK.mousedown(mouseDown);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tCK.unbind('mousedown');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * checkVideoRotate\n\t\t * 检查播放器尺寸\n\t\t */\n\t\tcheckVideoRotate=function(){\n\t\t\tvar ckW=CK.getWidth()*nowZoom*0.01,ckH=CK.getHeight()*nowZoom*0.01;\n\t\t\tvar vW=CV.getWidth(),vH=CV.getHeight();\n\t\t\tCV.css({\n\t\t\t\t'transform':'rotate('+nowRotate+'deg)',\n\t\t\t\t'-ms-transform':'rotate('+nowRotate+'deg)',\n\t\t\t\t'-moz-transform':'rotate('+nowRotate+'deg)',\n\t\t\t\t'-webkit-transform':'rotate('+nowRotate+'deg)',\n\t\t\t\t'-o-transform':'rotate('+nowRotate+'deg)',\n\t\t\t\t'width':nowZoom+'%',\n\t\t\t\t'height':nowZoom+'%'\n\t\t\t});\n\t\t\tif(nowRotate!=0 && nowRotate!=180){\n\t\t\t\tif(vH>ckW && vW>ckH){\n\t\t\t\t\tif(vH / ckW > vW / ckH) {\n\t\t\t\t\t\tCV.css({\n\t\t\t\t\t\t\t'height':nowZoom+'%',\n\t\t\t\t\t\t\t'width':ckH+'px'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tCV.css({\n\t\t\t\t\t\t\t'width':nowZoom+'%',\n\t\t\t\t\t\t\t'height':ckW+'px'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(vH<ckW && vW<ckH){\n\t\t\t\t\tif(ckW>ckH){\n\t\t\t\t\t\tCV.css({\n\t\t\t\t\t\t\t'height':nowZoom+'%',\n\t\t\t\t\t\t\t'width':ckH+'px'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(vH / vW >= ckW / ckH) {\n\t\t\t\t\t\t\tCV.css({\n\t\t\t\t\t\t\t\t'width':nowZoom+'%',\n\t\t\t\t\t\t\t\t'height':ckW+'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tCV.css({\n\t\t\t\t\t\t\t\t'height':nowZoom+'%',\n\t\t\t\t\t\t\t\t'width':ckH+'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(vH>=ckW && vW<=ckH){\n\t\t\t\t\tCV.css({\n\t\t\t\t\t\t'width':nowZoom+'%',\n\t\t\t\t\t\t'height':ckW+'px'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(vW>=ckH && vH<ckW){\n\t\t\t\t\tCV.css({\n\t\t\t\t\t\t'height':nowZoom+'%',\n\t\t\t\t\t\t'width':ckH+'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * allBarShow\n\t\t * 功能：控制栏显示\n\t\t*/\n\t\tallBarShow=function(){\n\t\t\tif(barShow){\n\t\t\t\tC['bar'].show();\n\t\t\t\tC['topBar'].show();\n\t\t\t}\n\t\t\tif(rightBarShow){\n\t\t\t\tC['rightBar'].show();\n\t\t\t}\n\t\t\t\n\t\t\tC['tempTime'].hide();\n\t\t\tif(!isUndefined(C['logo'])){\n\t\t\t\tC['logo'].show();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * allBarHide\n\t\t * 功能：控制栏隐藏\n\t\t*/\n\t\tallBarHide=function(tempTime){\n\t\t\tif(isUndefined(tempTime)){\n\t\t\t\ttempTime=true;\n\t\t\t}\n\t\t\tC['bar'].hide();\n\t\t\tC['topBar'].hide();\n\t\t\tC['rightBar'].hide();\n\t\t\tif(tempTime){\n\t\t\t\tC['tempTime'].show();\n\t\t\t}\n\t\t\tif(!isUndefined(C['logo'])){\n\t\t\t\tC['logo'].hide();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * message\n\t\t * 功能：显示提示\n\t\t*/\n\t\tmessage=function(str,right){\n\t\t\tC['message'].htm('');\n\t\t\tvar msgHide=function(){\n\t\t\t\tC['message'].removeClass('ck-message-right').removeClass('ck-animate-bouncein').removeClass('ck-animate');\n\t\t\t\tC['message'].hide();\n\t\t\t};\n\t\t\tif(str){\n\t\t\t\tC['message'].htm(str);\n\t\t\t\tC['message'].show();\n\t\t\t\tif(!C['message'].hasClass('ck-animate')){\n\t\t\t\t\tC['message'].addClass('ck-animate ck-animate-bouncein');\n\t\t\t\t}\n\t\t\t\tif(!isUndefined(right) && right){\n\t\t\t\t\tif(!C['message'].hasClass('ck-message-right')){\n\t\t\t\t\t\tC['message'].addClass('ck-message-right');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(msgSetTime){\n\t\t\t\t\tclearTimeout(msgSetTime);\n\t\t\t\t\tmsgSetTime=null;\n\t\t\t\t}\n\t\t\t\tmsgSetTime=setTimeout(function(){\n\t\t\t\t\tmsgHide();\n\t\t\t\t\tmsgSetTime=null;\n\t\t\t\t},1500);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tmsgHide();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * tip\n\t\t * 功能：显示Tip\n\t\t * @ele：需要显示提示的对象，@str：提示文字，@cl：水平修正距离，@align：对齐方式，只有两种，一种默认对齐（箭头在提示文字下方），一种是左对齐（箭头在提示文字右边）\n\t\t*/\n\t\ttip=function(ele,str,cl,align){\n\t\t\tC['tip']['content'].htm('');\n\t\t\tif(str){\n\t\t\t\tC['tip']['content'].htm(str);\n\t\t\t\tC['tip'].show();\n\t\t\t\tif(!C['tip'].hasClass('ck-animate')){\n\t\t\t\t\tC['tip'].addClass('ck-animate ck-animate-bouncein');\n\t\t\t\t}\n\t\t\t\tif(isUndefined(align)){\n\t\t\t\t\talign='auto'\n\t\t\t\t}\n\t\t\t\tif(align=='left'){\n\t\t\t\t\tC['tip']['content'].removeClass('ck-content-float-auto').addClass('ck-content-float-left');\n\t\t\t\t\tC['tip']['triangle'].removeClass('ck-triangle-auto').addClass('ck-triangle-left');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tC['tip']['content'].removeClass('ck-content-float-left').addClass('ck-content-float-auto');\n\t\t\t\t\tC['tip']['triangle'].removeClass('ck-triangle-left').addClass('ck-triangle-auto');\n\t\t\t\t}\n\t\t\t\ttipResize(ele,cl,align);\n\t\t\t\tif(isUndefined(closeTipFun)){\n\t\t\t\t\tcloseTipFun=function(){\n\t\t\t\t\t\tif(tipSetTime){\n\t\t\t\t\t\t\tclearTimeout(tipSetTime);\n\t\t\t\t\t\t\ttipSetTime=null;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tcloseTipMouseOut=function(ele){\n\t\t\t\t\t\tcloseTipFun();\n\t\t\t\t\t\ttipSetTime=setTimeout(function(){\n\t\t\t\t\t\t\ttip();\n\t\t\t\t\t\t\ttipSetTime=null;\n\t\t\t\t\t\t},100);\n\t\t\t\t\t\tif(ele){\n\t\t\t\t\t\t\tele.removeListener('mouseout',closeTipMouseOut);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcloseTipFun();\n\t\t\t\tele.mouseout(function(){closeTipMouseOut(ele)});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tC['tip'].hide();\n\t\t\t\tC['tip'].removeClass('ck-animate');\n\t\t\t\tC['tip'].removeClass('ck-animate-bouncein');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * tipResize\n\t\t * 功能：设置tip坐标\n\t\t*/\n\t\ttipResize=function(ele,cl,align){\n\t\t\tvar offset=ele.offset();\n\t\t\tvar ckOffset=CK.offset();\n\t\t\tvar w=C['tip'].getWidth(),h=C['tip'].getHeight();\n\t\t\tvar ew=ele.getWidth();\n\t\t\tvar left=0,top=offset['top']-ckOffset['top']-h;\n\t\t\tif(getBarHeight()>C['bar'].getHeight()){\n\t\t\t\ttop-=(getBarHeight()-C['bar'].getHeight());\n\t\t\t}\n\t\t\tif(w>ew){\n\t\t\t\tleft=offset['left']-ckOffset['left']-(w-ew)*.5;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tleft=offset['left']-ckOffset['left']+(ew-w)*.5;\n\t\t\t}\n\t\t\tif(align=='left'){\n\t\t\t\tleft=offset['left']-ckOffset['left']-w;\n\t\t\t\ttop=offset['top']-ckOffset['top'];\n\t\t\t}\n\t\t\tif(!isUndefined(cl)){\n\t\t\t\tleft=cl['x']-ckOffset['left']-w*.5;\n\t\t\t}\n\t\t\tif(left<0){\n\t\t\t\tleft=0;\n\t\t\t}\n\t\t\tif(top<0){\n\t\t\t\ttop=0;\n\t\t\t}\n\t\t\tif(left>CM.getWidth()-w){\n\t\t\t\tleft=CM.getWidth()-w;\n\t\t\t}\n\t\t\tif(top>CM.getHeight()-h){\n\t\t\t\ttop=CM.getHeight()-h;\n\t\t\t}\n\t\t\tC['tip'].css({\n\t\t\t\t'left':left+'px',\n\t\t\t\t'top':top-parseInt(C['tip'].css('margin-bottom'))+'px'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * progressDragX\n\t\t * 功能：制作进度调节框事件\n\t\t*/\n\t\tprogressDragX=function(){\n\t\t\tvar bg=C['bar']['pbox']['bg'],\n\t\t\tplay=C['bar']['pbox']['play'],\n\t\t\tslider=C['bar']['pbox']['slider'],\n\t\t\tmouseLine=C['bar']['pbox']['mouseLine'];\n\t\t\tslider.unbind();\n\t\t\tbg.unbind();\n\t\t\tvar pos = 0,\n\t\t\t\tposRecord = 0;\n\t\t\tvar doc=$(document);\n\t\t\tvar sliderDownTime=0;\n\t\t\tvar sliderMouseDown = function(e) {\n\t\t\t\te.preventDefault && e.preventDefault();\n\t\t\t\tif(!vars['timeScheduleAdjust']){//禁止拖动\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\te = e || window.event;\n\t\t\t\tvar eleOffset = slider.offset(),bgOffset=bg.offset(),client = getClient(e);\n\t\t\t\tpSliderMouseDown=true;\n\t\t\t\tposRecord = client['x'];\n\t\t\t\t//供比较\n\t\t\t\tvar left = eleOffset['left']-bgOffset['left'];\n\t\t\t\tsliderDownTime=left*duration/(bg.getWidth()-slider.getWidth());\n\t\t\t\tslider.removeListener('mousedown', sliderMouseDown);\n\t\t\t\tslider.removeListener('touchstart', sliderMouseDown);\n\t\t\t\tdoc.mousemove(docMouseMove);\n\t\t\t\tdoc.mouseup(docMouseUp);\n\t\t\t\tslider.touchmove(docMouseMove);\n\t\t\t\tslider.touchend(docMouseUp);\n\t\t\t\tnoScrolling(true);\n\t\t\t};\n\t\t\tvar docMouseMove = function(e) {\n\t\t\t\te = e || window.event;\n\t\t\t\tvar eleOffset = slider.offset(),bgOffset=bg.offset(),client = getClient(e);\n\t\t\t\tpSliderMouseDown=true;\n\t\t\t\tpos = posRecord - client['x'];\n\t\t\t\tposRecord = client['x'];\n\t\t\t\tvar left = eleOffset['left'] - pos-bgOffset['left'];\n\t\t\t\tif(left<0){\n\t\t\t\t\tleft=0;\n\t\t\t\t}\n\t\t\t\tif(left>bg.getWidth()-slider.getWidth()){\n\t\t\t\t\tleft=bg.getWidth()-slider.getWidth();\n\t\t\t\t}\n\t\t\t\tC['bar']['pbox'].addClass('ck-bar-progress-slider-move');\n\t\t\t\t//预览时间\n\t\t\t\tvar time='';\n\t\t\t\tif(!vars['live']){\n\t\t\t\t\ttime=left*duration/(bg.getWidth()-slider.getWidth());\n\t\t\t\t\tswitch(vars['timeScheduleAdjust']){\n\t\t\t\t\t\tcase 2://只能前进（向右拖动\n\t\t\t\t\t\t\tif(time<sliderDownTime){\n\t\t\t\t\t\t\t\tleft=-1000;\n\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitBackOff']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3://是只能后退\n\t\t\t\t\t\t\tif(time>sliderDownTime){\n\t\t\t\t\t\t\t\tleft=-1000;\n\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitForward']);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 4://只能前进但能回到第一次拖动时的位置\n\t\t\t\t\t\t\tif(time<firstSeekTime){\n\t\t\t\t\t\t\t\tleft=-1000;\n\t\t\t\t\t\t\t\tplayer.seek(firstSeekTime);\n\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitLookBack']);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 5://看过的地方可以随意拖动\n\t\t\t\t\t\t\tif(time>maxSeeTime){\n\t\t\t\t\t\t\t\tleft=-1000;\n\t\t\t\t\t\t\t\tplayer.seek(maxSeeTime);\n\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitForwardNotViewed']);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\ttime=formatSeconds(time);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime=formatLiveTime(left*getLiveTime()/(bg.getWidth()-slider.getWidth()));\n\t\t\t\t}\n\t\t\t\ttip(slider,time);\n\t\t\t\tif(left>=0){\n\t\t\t\t\tslider.css({\n\t\t\t\t\t\t'left': left + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tplay.css({\n\t\t\t\t\t\t'width': left+ slider.getWidth()*.5+ 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tpSliderMouseDown=false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t};\n\t\t\tvar docMouseUp = function() {\n\t\t\t\tnoScrolling();\n\t\t\t\tdoc.removeListener('mousemove', docMouseMove);\n\t\t\t\tdoc.removeListener('mouseup', docMouseUp);\n\t\t\t\tslider.removeListener('touchmove', docMouseMove);\n\t\t\t\tslider.removeListener('touchend', docMouseUp);\n\t\t\t\tslider.mousedown(sliderMouseDown);\n\t\t\t\tslider.touchstart(sliderMouseDown);\n\t\t\t\tif(!vars['live']){\n\t\t\t\t\tvar time=play.getWidth()*duration/(bg.getWidth()-slider.getWidth()*.5);\n\t\t\t\t\tif(time>duration){\n\t\t\t\t\t\ttime=duration;\n\t\t\t\t\t}\n\t\t\t\t\tseekTime=0;\n\t\t\t\t\tplayer.seek(time);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tvar playbackTime=parseInt(vars['live']+play.getWidth()*getLiveTime()/(bg.getWidth()-slider.getWidth()*.5));\n\t\t\t\t\teventTarget('playback',{time:playbackTime,date:date('Y-m-d H:i:s',playbackTime)});\n\t\t\t\t\teventTarget('seek',{time:playbackTime,state:'seeking',date:date('Y-m-d H:i:s',playbackTime)});\n\t\t\t\t}\n\t\t\t\tC['bar']['pbox'].removeClass('ck-bar-progress-slider-move');\n\t\t\t\tif(isMouseLeave){\n\t\t\t\t\ttip();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar isMouseLeave=true;//默认鼠标离开了进度按钮上\n\t\t\tvar sliderMouseOver=function(){\n\t\t\t\tvar time='';\n\t\t\t\tif(!vars['live']){\n\t\t\t\t\ttime=formatSeconds(parseInt(slider.css('left'))*duration/(bg.getWidth()-slider.getWidth()));\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime=language['live'];\n\t\t\t\t}\n\t\t\t\tisMouseLeave=false;\n\t\t\t\ttip(slider,time);\n\t\t\t};\n\t\t\t\n\t\t\tvar sliderMouseLeave=function(){\n\t\t\t\tisMouseLeave=true;\n\t\t\t};\n\t\t\tslider.mousedown(sliderMouseDown);\n\t\t\tslider.mouseover(sliderMouseOver);\n\t\t\tslider.mouseleave(sliderMouseLeave);\n\t\t\tslider.touchstart(sliderMouseDown);\n\t\t\tvar bgMouseDown=function(e){\n\t\t\t\te = e || window.event;\n\t\t\t\tvar client = getClient(e);\n\t\t\t\tvar bgOffset=bg.offset();\n\t\t\t\tvar w=client['x']-bgOffset['left'];\n\t\t\t\tif(CT.full){\n\t\t\t\t\tw+=CK.offset()['left'];\n\t\t\t\t}\n\t\t\t\tif(!vars['live']){\n\t\t\t\t\tvar time=duration*w/bg.getWidth();\n\t\t\t\t\tswitch(vars['timeScheduleAdjust']){\n\t\t\t\t\t\tcase 0://禁止拖动\n\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibit']);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2://只能前进（向右拖动\n\t\t\t\t\t\t\tif(time<oldTime){\n\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitBackOff']);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3://是只能后退\n\t\t\t\t\t\t\tif(time>oldTime){\n\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitForward']);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 4://只能前进但能回到第一次拖动时的位置\n\t\t\t\t\t\t\tif(time<firstSeekTime){\n\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitLookBack']);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 5://看过的地方可以随意拖动\n\t\t\t\t\t\t\tif(time>maxSeeTime){\n\t\t\t\t\t\t\t\tmessage(language['timeScheduleAdjust']['prohibitForwardNotViewed']);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tseekTime=0;\n\t\t\t\t\tplayer.seek(time);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tvar playbackTime=parseInt(vars['live']+getLiveTime()*w/bg.getWidth());\n\t\t\t\t\teventTarget('playback',{time:playbackTime,date:date('Y-m-d H:i:s',playbackTime)});\n\t\t\t\t\teventTarget('seek',{time:playbackTime,state:'seeking',date:date('Y-m-d H:i:s',playbackTime)});\n\t\t\t\t}\n\t\t\t\tif(w>bg.getWidth()-slider.getWidth()*.5){\n\t\t\t\t\tw=bg.getWidth()-slider.getWidth()*.5\n\t\t\t\t}\n\t\t\t\tif(w<slider.getWidth()*.5){\n\t\t\t\t\tw=slider.getWidth()*.5;\n\t\t\t\t}\n\t\t\t\tpSliderMouseDown=true;\n\t\t\t\tplay.css({\n\t\t\t\t\t'width': w+ 'px'\n\t\t\t\t});\n\t\t\t\tslider.css({\n\t\t\t\t\t'left': w-slider.getWidth()*.5 + 'px'\n\t\t\t\t});\n\t\t\t};\n\t\t\tvar moveTimer=null;\n\t\t\tvar bgMouseMove=function(e){\n\t\t\t\te = e || window.event;\n\t\t\t\tvar client = getClient(e);\n\t\t\t\tvar bgOffset=bg.offset();\n\t\t\t\tvar w=client['x']-bgOffset['left'];\n\t\t\t\tclearTime();\n\t\t\t\tif(CT.full){\n\t\t\t\t\tw+=CK.offset()['left'];\n\t\t\t\t}\n\t\t\t\tvar time=0;\n\t\t\t\tif(!vars['live']){\n\t\t\t\t\ttime=duration*w/bg.getWidth();\n\t\t\t\t\tshowPreview(time);\n\t\t\t\t\ttime=formatSeconds(time);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime=formatLiveTime(getLiveTime()*w/bg.getWidth());\n\t\t\t\t}\n\t\t\t\ttip(bg,time,client);\n\t\t\t\tmouseLine.css({'left':w-(C['bar']['pbox']['mouseLine'].getWidth()*.5)+'px'});\n\t\t\t};\n\t\t\tvar moveTimer=null;\n\t\t\tvar clearTime=function(){\n\t\t\t\tif(moveTimer){\n\t\t\t\t\tclearTimeout(moveTimer);\n\t\t\t\t\tmoveTimer=null;\n\t\t\t\t}\n\t\t\t\tcloseTipFun();\n\t\t\t};\n\t\t\tvar bgMouseOut=function(e){\n\t\t\t\tclearTime();\n\t\t\t\tmoveTimer=setTimeout(function(){\n\t\t\t\t\tshowPreview(-1);\n\t\t\t\t},30);\n\t\t\t};\n\t\t\tbg.mousedown(bgMouseDown);\n\t\t\tbg.mousemove(bgMouseMove);\n\t\t\tbg.mouseout(bgMouseOut);\n\t\t\tmouseLine.mouseover(clearTime);\n\t\t},\n\t\t/*\n\t\t * volumeDragY\n\t\t * 功能：制作音量调节框事件\n\t\t*/\n\t\tvolumeDragY=function() {\n\t\t\tvar box=C['bar']['vbox']['volume']['box'],\n\t\t\t\tbg=C['bar']['vbox']['volume']['bg'],\n\t\t\t\tpp=C['bar']['vbox']['volume']['pp'],\n\t\t\t\tslider=C['bar']['vbox']['volume']['slider'],\n\t\t\t\tdoc=$(document);\n\t\t\tvar pos = 0,\n\t\t\t\tposRecord = 0;\n\t\t\tvar sliderMouseDown = function(e) {\n\t\t\t\te.preventDefault && e.preventDefault();\n\t\t\t\tnoScrolling(true);\n\t\t\t\te = e || window.event;\n\t\t\t\tvar client = getClient(e);\n\t\t\t\tposRecord = client['y'];\n\t\t\t\tslider.removeListener('mousedown', sliderMouseDown);\n\t\t\t\tslider.removeListener('touchstart', sliderMouseDown);\n\t\t\t\tC['bar']['vbox']['mouseDown']=true;\n\t\t\t\tdoc.mousemove(docMouseMove);\n\t\t\t\tdoc.mouseup(docMouseUp);\n\t\t\t\tslider.touchmove(docMouseMove);\n\t\t\t\tslider.touchend(docMouseUp);\n\t\t\t};\n\t\t\tvar docMouseMove = function(e) {\n\t\t\t\te = e || window.event;\n\t\t\t\tvar client = getClient(e);\n\t\t\t\tvar eleOffset = slider.offset();\n\t\t\t\tvar boxOffset=box.offset();\n\t\t\t\tvar bgOffset=bg.offset();\n\t\t\t\tpos = client['y']-posRecord;\n\t\t\t\tposRecord = client['y'];\n\t\t\t\tvar sliderTop=eleOffset['top']-boxOffset['top']+pos;\n\t\t\t\tvar minTop=bgOffset['top']-boxOffset['top'],maxTop=bgOffset['top']+bg.getHeight()-boxOffset['top']-slider.getHeight();\n\t\t\t\tif(sliderTop<minTop){\n\t\t\t\t\tsliderTop=minTop;\n\t\t\t\t}\n\t\t\t\tif(sliderTop>maxTop){\n\t\t\t\t\tsliderTop=maxTop;\n\t\t\t\t}\n\t\t\t\tslider.css({\n\t\t\t\t\t'top':sliderTop+'px'\n\t\t\t\t});\n\t\t\t\tvar ppMarginTop=sliderTop-minTop+slider.getHeight()*0.5;\n\t\t\t\tpp.css({\n\t\t\t\t\t'margin-top':ppMarginTop+'px'\n\t\t\t\t});\n\t\t\t\tvar vol=(bg.getHeight()-ppMarginTop-slider.getHeight()*0.5)/(bg.getHeight()-slider.getHeight());\n\t\t\t\tplayer.volume(vol);\n\t\t\t};\n\t\t\tvar docMouseUp = function() {\n\t\t\t\tnoScrolling();\n\t\t\t\tdoc.removeListener('mousemove', docMouseMove);\n\t\t\t\tdoc.removeListener('mouseup', docMouseUp);\n\t\t\t\tslider.removeListener('touchmove', docMouseMove);\n\t\t\t\tslider.removeListener('touchend', docMouseUp);\n\t\t\t\tslider.mousedown(sliderMouseDown);\n\t\t\t\tslider.touchstart(sliderMouseDown);\n\t\t\t\tC['bar']['vbox']['mouseDown']=false;\n\t\t\t};\n\t\t\tslider.mousedown(sliderMouseDown);\n\t\t\tslider.touchstart(sliderMouseDown);\n\t\t\tvar bgMouseDown=function(e){\n\t\t\t\te = e || window.event;\n\t\t\t\tvar client = getClient(e);\n\t\t\t\tvar bgOffset=bg.offset();\n\t\t\t\tvar h=client['y']-bgOffset['top'];\n\t\t\t\tvar max=bg.getHeight();\n\t\t\t\tvar vol=1-h/max;\n\t\t\t\tplayer.volume(vol);\n\t\t\t};\n\t\t\tbg.mousedown(bgMouseDown);\n\t\t},\n\t\t/*\n\t\t * changeProgress\n\t\t * 功能：根据时间调节播放进度\n\t\t*/\n\t\tchangeProgress=function(time){\n\t\t\tif((valType(vars['live'])=='boolean' && vars['live'])){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!pSliderMouseDown){\n\t\t\t\tvar bg=C['bar']['pbox']['bg'],slider=C['bar']['pbox']['slider'];\n\t\t\t\tvar playW=(time/duration)*100;\n\t\t\t\t\n\t\t\t\tif(valType(vars['live'])=='number'){\n\t\t\t\t\tplayW='100';\n\t\t\t\t}\n\t\t\t\tC['bar']['pbox']['play'].css({'width':playW+'%'});\n\t\t\t\tvar sliderW=(slider.getWidth()/bg.getWidth())*100;\n\t\t\t\tvar sliderLeft=playW-sliderW*.5;\n\t\t\t\tif(sliderLeft<0){\n\t\t\t\t\tsliderLeft=0;\n\t\t\t\t}\n\t\t\t\tif(sliderLeft>100-sliderW){\n\t\t\t\t\tsliderLeft=100-sliderW;\n\t\t\t\t}\n\t\t\t\tC['bar']['pbox']['slider'].css({'left':sliderLeft+'%'});\n\t\t\t\tcheckProgressSlider();\n\t\t\t}\t\t\n\t\t},\n\t\t/*\n\t\t * checkProgressSlider\n\t\t * 功能：检查设置播放进度条位置\n\t\t */\n\t\tcheckProgressSlider=function(){\n\t\t\tvar bg=C['bar']['pbox']['bg'],slider=C['bar']['pbox']['slider'];\n\t\t\tvar st=0;\n\t\t\tif(C['bar']['pbox'].css('transition-duration')){\n\t\t\t\tst=parseFloat(C['bar']['pbox'].css('transition-duration'))*1000+20;\n\t\t\t}\n\t\t\tvar checkThis=function(){\n\t\t\t\tvar sliderLeft=parseInt(C['bar']['pbox']['slider'].css('left'));\n\t\t\t\tif(sliderLeft<0){\n\t\t\t\t\tsliderLeft=0;\n\t\t\t\t\tC['bar']['pbox']['slider'].css({'left':sliderLeft+'px'});\n\t\t\t\t}\n\t\t\t\tif(sliderLeft>bg.getWidth()-slider.getWidth()){\n\t\t\t\t\tsliderLeft=bg.getWidth()-slider.getWidth();\n\t\t\t\t\tC['bar']['pbox']['slider'].css({'left':sliderLeft+'px'});\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(checkThis,st);\t\t\n\t\t},\n\t\t/*\n\t\t * changeTopTime\n\t\t * 功能：修改顶部右侧时间\n\t\t*/\n\t\tchangeTopTime=function(){\n\t\t\tC['topBar']['timeEle'].htm(date('H:i:s'));\n\t\t\tsetTimeout(changeTopTime,1000);\n\t\t},\n\t\t/*\n\t\t * changeVolumeSlider\n\t\t * 功能：根据音量改变滑块位置\n\t\t*/\n\t\tchangeVolumeSlider=function(vol){\n\t\t\tif(!isUndefined(C['bar']['vbox'])){\n\t\t\t\tvar box=C['bar']['vbox']['volume']['box'],\n\t\t\t\tbg=C['bar']['vbox']['volume']['bg'],\n\t\t\t\tpp=C['bar']['vbox']['volume']['pp'],\n\t\t\t\tslider=C['bar']['vbox']['volume']['slider'];\n\t\t\t\tC['bar']['vbox']['volume']['txt'].htm(parseInt(vol*100));\n\t\t\t\tvar bgH=bg.getHeight();\n\t\t\t\tif(bgH){\n\t\t\t\t\tvar ppMarginTop=bgH-vol*bgH;\n\t\t\t\t\tpp.css({\n\t\t\t\t\t\t'margin-top':ppMarginTop+'px'\n\t\t\t\t\t});\n\t\t\t\t\tvar sliderTop=bg.offset()['top']-box.offset()['top']+ppMarginTop-slider.getHeight()*0.5;\n\t\t\t\t\tslider.css({\n\t\t\t\t\t\t'top':sliderTop+'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * changeLoad\n\t\t * 功能：获取视频已加载部分并修改加载进度栏\n\t\t*/\n\t\tchangeLoad=function(){\n\t\t\tif(video){\n\t\t\t\tvar len = video.buffered.length;\n\t\t\t\tif(len>0){\n\t\t\t\t\tvar bufferEnd = video.buffered.end(len-1);\n\t\t\t\t\tif(loadTime<bufferEnd){\n\t\t\t\t\t\tloadTime=bufferEnd;\n\t\t\t\t\t}\n\t\t\t\t\treplaceInformation('loadTime',parseInt(loadTime*100)*0.01);\n\t\t\t\t\tC['bar']['pbox']['load'].css('width',(loadTime/duration)*100+'%');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * changeMuted\n\t\t * 功能：修改静音和取消静音时按钮切换事件\n\t\t*/\n\t\tchangeMuted=function(b){\n\t\t\tif(b){\n\t\t\t\tC['bar']['vbox']['muted'].hide();\n\t\t\t\tC['bar']['vbox']['exitMuted'].show();\n\t\t\t\tC['ad']['bottom']['mutedAndExit']['muted'].hide();\n\t\t\t\tC['ad']['bottom']['mutedAndExit']['exitMuted'].show();\n\t\t\t\tmessage(language['muted']);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tC['bar']['vbox']['muted'].show();\n\t\t\t\tC['bar']['vbox']['exitMuted'].hide();\n\t\t\t\tC['ad']['bottom']['mutedAndExit']['muted'].show();\n\t\t\t\tC['ad']['bottom']['mutedAndExit']['exitMuted'].hide()\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * replaceInformation\n\t\t * 功能：替换关于里的内容\n\t\t*/\n\t\treplaceInformation=function(o , n){\n\t\t\tif(isUndefined(C['about']['sourceData']) && !isUndefined(C['about'].find('ul'))){\n\t\t\t\tC['about']['sourceData']=C['about'].find('ul').eq(0).htm();\n\t\t\t\tC['about']['objData']={};\n\t\t\t\tvar reg=/{(.*?)}/g;\n\t\t\t\tvar res = C['about']['sourceData'].match(reg);\n\t\t\t\twhile( res = reg.exec(C['about']['sourceData'])){\n\t\t\t\t\tC['about']['objData'][res[1]]='0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!isUndefined(C['about'].find('ul'))){\n\t\t\t\tvar reg=null;\n\t\t\t\tvar htm=C['about']['sourceData'];\n\t\t\t\tvar temp=C['about']['textareaText'];\n\t\t\t\tif(C['about']['objData']){\n\t\t\t\t\tfor(var k in C['about']['objData']){\n\t\t\t\t\t\tif(o!=k){\n\t\t\t\t\t\t\treg = new RegExp('{'+k+'}' , 'g');\n\t\t\t\t\t\t\tvar val=C['about']['objData'][k];\n\t\t\t\t\t\t\tif(isUndefined(val)){\n\t\t\t\t\t\t\t\tval='0';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thtm=htm.replace(reg , val);\n\t\t\t\t\t\t\ttemp=temp.replace(reg , val);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treg = new RegExp('{'+o+'}' , 'g');\n\t\t\t\thtm=htm.replace(reg , n || '');\n\t\t\t\ttemp=temp.replace(reg , n || '');\n\t\t\t\tC['about']['textareaEle'].htm(temp);\n\t\t\t\tC['about']['objData'][o]=n;\n\t\t\t\treturn C['about'].find('ul').eq(0).htm(htm);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * calculationFps\n\t\t * 功能：获取fps\n\t\t*/\n\t\tcalculationFps=function() {\n\t\t\tvar requestAnimationFrame =\n\t\t\t\twindow.requestAnimationFrame ||\n\t\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t\twindow.msRequestAnimationFrame ||\n\t\t\t\tfunction(callback) {\n\t\t\t\t\twindow.setTimeout(callback, 1000 / 60);\n\t\t\t\t};\n\t\t\tvar e, pe, pid, fps, last, offset;\n\t\t\tfps = 0;\n\t\t\tlast = Date.now();\n\t\t\tvar step = function() {\n\t\t\t\toffset = Date.now() - last;\n\t\t\t\tfps += 1;\n\t\t\t\tif(offset >= 1000) {\n\t\t\t\t\tlast += offset;\n\t\t\t\t\tappendFps(fps);\n\t\t\t\t\tfps = 0;\n\t\t\t\t}\n\t\t\t\trequestAnimationFrame(step);\n\t\t\t};\n\t\t\tvar\tappendFps = function(fps) {\n\t\t\t\tif(fps!=CT.fps){\n\t\t\t\t\tCT.fps=fps;\n\t\t\t\t\treplaceInformation('fps',fps);\n\t\t\t\t\teventTarget('fps',fps);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t};\n\t\t\tif(isUndefined(CT.fps)){\n\t\t\t\tCT.fps=0;\n\t\t\t}\n\t\t\tstep();\n\t\t},\n\t\t/*\n\t\t * getElement\n\t\t * 功能：获取一个外部节点\n\t\t*/\n\t\tgetElement=function(content){\n\t\t\tvar ele=$(content);\n\t\t\tif(isUndefined(ele)) return;\n\t\t\tif(valType(ele)=='htmlarray'){\n\t\t\t\tele=ele[0];\n\t\t\t}\n\t\t\tif(isUndefined(ele.captureParentNode)){\n\t\t\t\tele.captureParentNode = ele.parentNode;\t\n\t\t\t\tele.prevElement=ele.prev();\n\t\t\t\tele.nextElement=ele.next();\n\t\t\t}\t\t\n\t\t\treturn ele;\n\t\t},\n\t\t/*\n\t\t * $\n\t\t * 功能：根据ID或className或节点节点名称获取对象\n\t\t*/\n\t\t$=function(obj, eL) {\n\t\t\tvar parent = null;\n\t\t\tif (document) {\n\t\t\t\tparent = document;\n\t\t\t}\n\t\t\tif (!isUndefined(eL)) {\n\t\t\t\tparent = eL;\n\t\t\t}\n\t\t\tvar res = [];\n\t\t\tif (obj) {\n\t\t\t\tif (valType(obj) == 'htmlobject' || valType(obj)=='object') {\n\t\t\t\t\tres = obj;\n\t\t\t\t\tif (!isUndefined(res.ckplayer)) {\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t}\n\t\t\t\t} \n\t\t\t\telse if (valType(obj) == 'string' && obj!='') {\n\t\t\t\t\tswitch (obj.substr(0, 1)) {\n\t\t\t\t\t\tcase '.':\n\t\t\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t\t\t\tif (parent.getElementsByClassName) {\n\t\t\t\t\t\t\t\tres = parent.getElementsByClassName(obj);\n\t\t\t\t\t\t\t\tif (!res.length) {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse if (!parent && document.getElementsByClassName) {\n\t\t\t\t\t\t\t\tres = document.getElementsByClassName(obj);\n\t\t\t\t\t\t\t\tif (!res.length) {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tvar reg = new RegExp(' ' + obj + ' ', 'i');\n\t\t\t\t\t\t\t\tvar ele = null;\n\t\t\t\t\t\t\t\tif (parent.getElementsByTagName) {\n\t\t\t\t\t\t\t\t\tele = parent.getElementsByTagName('*');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tele = document.getElementsByTagName('*');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfor (var i = 0; i < ele.length; i++) {\n\t\t\t\t\t\t\t\t\tif (reg.test(' ' + ele[i].className + ' ')) {\n\t\t\t\t\t\t\t\t\t\tres.push(ele[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\tif (res.length === 0) {\n\t\t\t\t\t\t\t\t\tres = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase '#':\n\t\t\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t\t\t\tif (parent.getElementById) {\n\t\t\t\t\t\t\t\tres = parent.getElementById(obj);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tres=document.getElementById(obj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tvar reg = new RegExp(' ' + obj + ' ', 'i');\n\t\t\t\t\t\t\tif (parent.getElementsByTagName) {\n\t\t\t\t\t\t\t\tres = parent.getElementsByTagName(obj);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tres = document.getElementsByTagName(obj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\tif (obj == 'body' || obj == 'document' || obj == 'html') {\n\t\t\t\t\t\t\t\t\tres = res[0];\n\t\t\t\t\t\t\t\t} else if (res.length === 0) {\n\t\t\t\t\t\t\t\t\tres = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tres = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tres = obj;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tres = document;\n\t\t\t}\n\t\t\t\n\t\t\tif (res) {\n\t\t\t\tif (valType(res) == 'htmlobject' || valType(res) == 'object' || valType(res) == 'document') {\n\t\t\t\t\tres.ckplayer = 'Thanks for using';\n\t\t\t\t\t/*\n\t\t\t\t\t * find\n\t\t\t\t\t * 功能：在当前节点中查找指定节点\n\t\t\t\t\t*/\n\t\t\t\t\tres.find = function(obj) {\n\t\t\t\t\t\treturn $(obj, this);\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * attr\n\t\t\t\t\t * 功能：修改或获取节点的属性值\n\t\t\t\t\t * @key不能为空，指属性名称，$value不为空则设置属性值，为空则获取属性值\n\t\t\t\t\t*/\n\t\t\t\t\tres.attr = function(key, value) {\n\t\t\t\t\t\tif (isUndefined(value)) {\n\t\t\t\t\t\t\treturn this.getAttribute(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.setAttribute(key, value);\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * removeAtt\n\t\t\t\t\t * 功能：删除节点的属性值\n\t\t\t\t\t * @key不能为空，指属性名称\n\t\t\t\t\t*/\n\t\t\t\t\tres.removeAttr = function(key) {\n\t\t\t\t\t\tthis.removeAttribute(key);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * css\n\t\t\t\t\t * 功能：修改或获取节点的样式样式\n\t\t\t\t\t * @key不能为空，指属性名称，$value不为空则设置属性值，为空则获取属性值\n\t\t\t\t\t*/\n\t\t\t\t\tres.css = function(key, value) {\n\t\t\t\t\t\t// 拆解字符串并将第二单词首字母大写\n\t\t\t\t\t\tvar keyNew = function(str) {\n\t\t\t\t\t\t\t// 当属性名有横杠时\n\t\t\t\t\t\t\tif (str.indexOf('-') != -1) {\n\t\t\t\t\t\t\t\tvar arr = str.split('-');\n\t\t\t\t\t\t\t\tvar a = arr[0];\n\t\t\t\t\t\t\t\tvar b = '',\n\t\t\t\t\t\t\t\t\tc = '';\n\t\t\t\t\t\t\t\tif (arr.length > 1) {\n\t\t\t\t\t\t\t\t\tb = arr[1].substr(0, 1).toLocaleUpperCase() + arr[1].substr(1, arr[1].length - 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (arr.length > 2) {\n\t\t\t\t\t\t\t\t\tb = arr[2].substr(0, 1).toLocaleUpperCase() + arr[2].substr(1, arr[2].length - 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn a + b + c;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// 没有横杠就不进行字符串拆解\n\t\t\t\t\t\t\treturn str;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (isUndefined(value)){\n\t\t\t\t\t\t\tif (!isUndefined(key) && valType(key) == 'string') {\n\t\t\t\t\t\t\t\tif (this.currentStyle) {\n\t\t\t\t\t\t\t\t\treturn this.currentStyle[key];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn document.defaultView.getComputedStyle(this, null)[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isUndefined(key)) {\n\t\t\t\t\t\t\t\tif (this.currentStyle) {\n\t\t\t\t\t\t\t\t\treturn this.currentStyle;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn document.defaultView.getComputedStyle(this, null);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// 当传进来的参数key不是一个对象，给节点添加css样式\n\t\t\t\t\t\tif (valType(key) != 'object') {\n\t\t\t\t\t\t\tvar newKey = keyNew(key);\n\t\t\t\t\t\t\tif (this.length > 1) {\n\t\t\t\t\t\t\t\t// 如果this有多个值，那给每个节点都添加样式\n\t\t\t\t\t\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\t\t\t\t\t\tthis[i].style[newKey] = value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.style[newKey] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//如果第一个值是一个对象，遍历这个对象，并将属性名传进函数进行拆解\n\t\t\t\t\t\t\tfor (var item in key) {\n\t\t\t\t\t\t\t\tvar objKey = keyNew(item);\n\t\t\t\t\t\t\t\tif (valType(this) == 'htmlarray') {\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\t\t\t\t\t\t\tthis[i].style[objKey] = key[item];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.style[objKey] = key[item];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\tres.hasClass = function(cName) {\n\t\t\t\t\t\tif (isUndefined(cName)) return false;\n\t\t\t\t\t\tvar reg = new RegExp('(\\\\s|^)' + cName + '(\\\\s|$)');\n\t\t\t\t\t\tif (this.className && this.className.match(reg)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t\tres.addClass = function(cName) {\n\t\t\t\t\t\tif (!this.hasClass(cName)) {\n\t\t\t\t\t\t\tif (this.className && this.className.substr(this.className.length - 1, 1) != ' ') {\n\t\t\t\t\t\t\t\tthis.className += ' ';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.className += cName;\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\tres.removeClass = function(cName) {\n\t\t\t\t\t\tif (this.hasClass(cName)) {\n\t\t\t\t\t\t\tthis.className = this.className.replace(new RegExp('(\\\\s|^)' + cName + '(\\\\s|$)'), ' ');\n\t\t\t\t\t\t\tif (this.className.substr(this.className.length - 1, 1) == ' ') {\n\t\t\t\t\t\t\t\tthis.className = this.className.substr(0, this.className.length - 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!this.className) {\n\t\t\t\t\t\t\t\tthis.removeAttribute('class');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\tres.searchClass = function(cName) {\n\t\t\t\t\t\tvar arr = this.className.split(' ');\n\t\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\tif (arr[i].substr(0, cName.length) == cName) {\n\t\t\t\t\t\t\t\treturn arr[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\tres.removeCss=function(cName){\n\t\t\t\t\t\tvar cs=this.attr('style');\n\t\t\t\t\t\tif(cs){\n\t\t\t\t\t\t\tvar arr=cs.split(';');\n\t\t\t\t\t\t\tvar obj={};\n\t\t\t\t\t\t\tfor(var i=0;i<arr.length;i++){\n\t\t\t\t\t\t\t\tvar arrT=arr[i].split(':');\n\t\t\t\t\t\t\t\tif(arrT.length==2 && arrT[0] && arrT[0].trim()!=cName){\n\t\t\t\t\t\t\t\t\tobj[arrT[0].trim()]=arrT[1].trim();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.attr('style','');\n\t\t\t\t\t\t\tthis.css(obj);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tres.addListener = function(e, f, t) {\n\t\t\t\t\t\treturn addListener(this, e, f, t);\n\t\t\t\t\t};\n\t\t\t\t\tres.removeListener = function(e, f, t) {\n\t\t\t\t\t\treturn removeListener(this, e, f, t);\n\t\t\t\t\t};\n\t\t\t\t\tres.prev = function() {\n\t\t\t\t\t\treturn prev(this);\n\t\t\t\t\t};\n\t\t\t\t\tres.next = function() {\n\t\t\t\t\t\treturn next(this);\n\t\t\t\t\t};\n\t\t\t\t\tres.append =function(ele){\n\t\t\t\t\t\tthis.appendChild(ele);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\tres.remove = function() {\n\t\t\t\t\t\tif(!isUndefined(this.parentNode)){\n\t\t\t\t\t\t\tthis.parentNode.removeChild(this);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t};\n\t\t\t\t\tres.bind=function(e, f, t) {\n\t\t\t\t\t\treturn addListener(this, e, f, t);\n\t\t\t\t\t};\n\t\t\t\t\tres.unbind =function(e,f){\n\t\t\t\t\t\tvar i=0;var arr=[];\n\t\t\t\t\t\tif(!isUndefined(f)){\n\t\t\t\t\t\t\tres.removeListener(e,f);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(!isUndefined(e)){\n\t\t\t\t\t\t\tif(!isUndefined(this.listenerList)){\n\t\t\t\t\t\t\t\tarr=this.listenerList;\n\t\t\t\t\t\t\t\tfor(i=0;i<arr.length;i++){\n\t\t\t\t\t\t\t\t\tif(arr[i][0]==e){\n\t\t\t\t\t\t\t\t\t\tres.removeListener(e,arr[i][1]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(!isUndefined(this.listenerList)){\n\t\t\t\t\t\t\t\tarr=this.listenerList;\n\t\t\t\t\t\t\t\tfor(i=0;i<arr.length;i++){\n\t\t\t\t\t\t\t\t\tres.removeListener(arr[i][0],arr[i][1]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * htm\n\t\t\t\t\t * 功能：设置或获取html\n\t\t\t\t\t*/\n\t\t\t\t\tres.htm=function(val){\n\t\t\t\t\t\tif(!isUndefined(val)){\n\t\t\t\t\t\t\tres.innerHTML=val;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\treturn res.innerHTML;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * htmReplace\n\t\t\t\t\t * 功能：将html中ar替换成val\n\t\t\t\t\t*/\n\t\t\t\t\tres.htmReplace=function(ar,val,html){\n\t\t\t\t\t\tif(!isUndefined(val) && !isUndefined(ar)){\n\t\t\t\t\t\t\tif(isUndefined(this.attr('data-htm'))){\n\t\t\t\t\t\t\t\tthis.attr('data-htm',html);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar htm=this.attr('data-htm');\n\t\t\t\t\t\t\tvar reg = new RegExp(ar , 'g');\n\t\t\t\t\t\t\thtm=htm.replace(reg , val);\n\t\t\t\t\t\t\tthis.htm(htm);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * offset\n\t\t\t\t\t * 功能：获取节点的绝对坐标\n\t\t\t\t\t*/\n\t\t\t\t\tres.offset = function() {\n\t\t\t\t\t\tvar par = this.offsetParent,\n\t\t\t\t\t\t\t//获取当前节点的父参照物（不一定是父节点）\n\t\t\t\t\t\t\tleft = this.offsetLeft,\n\t\t\t\t\t\t\t//获取当前节点相对父节点左偏离\n\t\t\t\t\t\t\ttop = this.offsetTop;\n\t\t\t\t\t\t\t//获取当前节点相对父节点上偏移\n\t\t\t\t\t\twhile (par && par.tagName !== 'BODY') {\n\t\t\t\t\t\t\t//判断是否已经到了最外一层 并且判断父参照物存不存在\n\t\t\t\t\t\t\tif (!/MSIE 8\\.0/.test(navigator.userAgent)){\n\t\t\t\t\t\t\t\t//利用正则表达式判断\n\t\t\t\t\t\t\t\tleft += par.clientLeft;\n\t\t\t\t\t\t\t\ttop += par.clientTop;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tleft += par.offsetLeft;\n\t\t\t\t\t\t\t//获得节点距离父节点左偏移多少\n\t\t\t\t\t\t\ttop += par.offsetTop;\n\t\t\t\t\t\t\t//获得节点距离父节点上偏移多少\n\t\t\t\t\t\t\tpar = par.offsetParent;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttop: top,\n\t\t\t\t\t\t\tleft: left\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * fixed\n\t\t\t\t\t * 功能：判断节点是否悬浮于页面\n\t\t\t\t\t*/\n\t\t\t\t\tres.fixed = function() {\n\t\t\t\t\t\tif (this.css('position') == 'fixed') {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!isUndefined(this.offsetParent)) {\n\t\t\t\t\t\t\treturn $(this.offsetParent).fixed();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * getWidth\n\t\t\t\t\t * 功能：获取节点的宽\n\t\t\t\t\t*/\n\t\t\t\t\tres.getWidth = function() {\n\t\t\t\t\t\treturn this.offsetWidth;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * getHeight\n\t\t\t\t\t * 功能：获取节点的高\n\t\t\t\t\t*/\n\t\t\t\t\tres.getHeight = function() {\n\t\t\t\t\t\treturn this.offsetHeight;\n\t\t\t\t\t};\n\t\t\t\t\tif(isUndefined(res.width)){\n\t\t\t\t\t\tres.width=function(){\n\t\t\t\t\t\t\treturn this.offsetWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(isUndefined(res.height)){\n\t\t\t\t\t\tres.height=function(){\n\t\t\t\t\t\t\treturn this.offsetWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t/*\n\t\t\t\t\t * resize\n\t\t\t\t\t * 功能：监听窗口尺寸变化\n\t\t\t\t\t * @fn：窗口变化时执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.resize = function(fn) {\n\t\t\t\t\t\taddListener(window, 'resize', fn);\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * click\n\t\t\t\t\t * 功能：节点单击时执行的函数\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.click =function(fn){\n\t\t\t\t\t\taddListener(this,'click',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * singleClick\n\t\t\t\t\t * 功能：节点单击事件，当使用该事件时会同时注册双击事件，此时不要使用click函数进行单击事件监听\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.singleClick=function(fn){\n\t\t\t\t\t\tif(isUndefined(this.dbClick)){\n\t\t\t\t\t\t\tdoubleClickEvent(this);\n\t\t\t\t\t\t\tthis.dbClick=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.addListener('sigClick',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * doubleClick\n\t\t\t\t\t * 功能：节点双击事件，当使用该事件时会同时注册双击事件，此时不要使用click函数进行单击事件监听\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.doubleClick=function(fn){\n\t\t\t\t\t\tif(isUndefined(this.dbClick)){\n\t\t\t\t\t\t\tdoubleClickEvent(this);\n\t\t\t\t\t\t\tthis.dbClick=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.addListener('dobClick',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * mouseover\n\t\t\t\t\t * 功能：鼠标经过节点时执行的函数\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.mouseover =function(fn){\n\t\t\t\t\t\taddListener(this,'mouseover',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * mouseout\n\t\t\t\t\t * 功能：鼠标离开节点时执行的函数\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.mouseout =function(fn){\n\t\t\t\t\t\taddListener(this,'mouseout',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * mousedown\n\t\t\t\t\t * 功能：鼠标在节点上按下时执行的函数\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.mousedown =function(fn){\n\t\t\t\t\t\taddListener(this,'mousedown',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * mouseup\n\t\t\t\t\t * 功能：节点上鼠标弹起时执行的函数\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.mouseup =function(fn){\n\t\t\t\t\t\taddListener(this,'mouseup',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * mousemove\n\t\t\t\t\t * 功能：鼠标在节点上划行时执行的函数\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.mousemove =function(fn){\n\t\t\t\t\t\taddListener(this,'mousemove',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * mouseWheel\n\t\t\t\t\t * 功能：鼠标滚轮在节点上划行时执行的函数\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.mouseWheel =function(fn){\n\t\t\t\t\t\taddListener(this,'mousewheel',fn);\n\t\t\t\t\t\taddListener(this,'DOMMouseScroll',fn,false);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * mouseleave\n\t\t\t\t\t * 功能：鼠标指针移出节点时执行的函数\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.mouseleave =function(fn){\n\t\t\t\t\t\taddListener(this,'mouseleave',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * touchstart\n\t\t\t\t\t * 功能：移动端鼠标在节点上按下时执行的函数\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.touchstart =function(fn){\n\t\t\t\t\t\taddListener(this,'touchstart',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * touchmove\n\t\t\t\t\t * 功能：移动端鼠标在节点上划行时执行的函数\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.touchmove =function(fn){\n\t\t\t\t\t\taddListener(this,'touchmove',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * touchend\n\t\t\t\t\t * 功能：移动端节点上鼠标弹起时执行的函数\n\t\t\t\t\t * @fn：执行的函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.touchend =function(fn){\n\t\t\t\t\t\taddListener(this,'touchend',fn);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * show\n\t\t\t\t\t * 功能：显示节点\n\t\t\t\t\t*/\n\t\t\t\t\tres.show=function(){\n\t\t\t\t\t\tthis.css('display','block');\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * hide\n\t\t\t\t\t * 功能：隐藏节点\n\t\t\t\t\t*/\n\t\t\t\t\tres.hide=function(){\n\t\t\t\t\t\tthis.css('display','none');\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t\tanimate\n\t\t\t\t\t\t功能：缓动效果\n\t\t\t\t\t\tparameter:String=需要改变的属性：left,top,width,height,alpha,\n\t\t\t\t\t\ttotalTime:Number=运动的总毫秒数\n\t\t\t\t\t\teasing:String=效果名称,\n\t\t\t\t\t\tcallBack:完成后的回调函数\n\t\t\t\t\t*/\n\t\t\t\t\tres.animate=function(parameter,totalTime,easing,callBack) {\n\t\t\t\t\t\tif(isUndefined(this.CK)){\n\t\t\t\t\t\t\treturn res;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar thisTemp = this;\n\t\t\t\t\t\tvar parNode=this.CK;\n\t\t\t\t\t\tvar w =parNode.getWidth(),h = parNode.getHeight();\n\t\t\t\t\t\tvar speed=10;//跳针时间\n\t\t\t\t\t\tthis.timerTween=null;\n\t\t\t\t\t\tthis.tweenPlay=true;\n\t\t\t\t\t\tif(isUndefined(parameter)){\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isUndefined(totalTime) ||  totalTime== 0) {\n\t\t\t\t\t\t\ttotalTime=1000;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(isUndefined(easing) || easing==''){\n\t\t\t\t\t\t\teasing='None.easeIn';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar effArr = easing.split('.');\n\t\t\t\t\t\tvar tween = {\n\t\t\t\t\t\t\tNone: { //均速运动\n\t\t\t\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tQuadratic: {\n\t\t\t\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c * (t /= d) * t + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn - c * (t /= d) * (t - 2) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t + b;\n\t\t\t\t\t\t\t\t\treturn - c / 2 * ((--t) * (t - 2) - 1) + b;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tCubic: {\n\t\t\t\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c * (t /= d) * t * t + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t + 1) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n\t\t\t\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t + 2) + b;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tQuartic: {\n\t\t\t\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c * (t /= d) * t * t * t + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn - c * ((t = t / d - 1) * t * t * t - 1) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n\t\t\t\t\t\t\t\t\treturn - c / 2 * ((t -= 2) * t * t * t - 2) + b;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tQuintic: {\n\t\t\t\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c * (t /= d) * t * t * t * t + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n\t\t\t\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tSine: {\n\t\t\t\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn - c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c * Math.sin(t / d * (Math.PI / 2)) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn - c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tExponential: {\n\t\t\t\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn (t == 0) ? b: c * Math.pow(2, 10 * (t / d - 1)) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn (t == d) ? b + c: c * ( - Math.pow(2, -10 * t / d) + 1) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\t\t\t\tif (t == d) return b + c;\n\t\t\t\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\t\t\t\t\t\t\t\treturn c / 2 * ( - Math.pow(2, -10 * --t) + 2) + b;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tCircular: {\n\t\t\t\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn - c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\tif ((t /= d / 2) < 1) return - c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n\t\t\t\t\t\t\t\t\treturn c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tElastic: {\n\t\t\t\t\t\t\t\teaseIn: function(t, b, c, d, a, p) {\n\t\t\t\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\t\t\t\treturn - (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\t\t\t\treturn (a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseInOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\t\t\t\tif ((t /= d / 2) == 2) return b + c;\n\t\t\t\t\t\t\t\t\tif (!p) p = d * (.3 * 1.5);\n\t\t\t\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\t\t\t\tif (t < 1) return - .5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tBack: {\n\t\t\t\t\t\t\t\teaseIn: function(t, b, c, d, s) {\n\t\t\t\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\t\t\t\treturn c * (t /= d) * t * ((s + 1) * t - s) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseOut: function(t, b, c, d, s) {\n\t\t\t\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseInOut: function(t, b, c, d, s) {\n\t\t\t\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n\t\t\t\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tBounce: {\n\t\t\t\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\treturn c - tween.Bounce.easeOut(d - t, 0, c, d) + b;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\tif ((t /= d) < (1 / 2.75)) {\n\t\t\t\t\t\t\t\t\t\treturn c * (7.5625 * t * t) + b;\n\t\t\t\t\t\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\n\t\t\t\t\t\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\t\t\t\tif (t < d / 2){\n\t\t\t\t\t\t\t\t\t\treturn tween.Bounce.easeIn(t * 2, 0, c, d) * .5 + b;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\treturn tween.Bounce.easeOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif(effArr.length!=2){\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!(effArr[0] in tween)) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!(effArr[1] in tween[effArr[0]])) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar tweenFun = tween[effArr[0]][effArr[1]];\n\t\t\t\t\t\tvar getStartAndEnd=function(arr){//分析初始化位置和结束位置\n\t\t\t\t\t\t\tvar vars=arr[1];\n\t\t\t\t\t\t\tvar current=0,result=0;\n\t\t\t\t\t\t\tswitch (arr[0]) {\n\t\t\t\t\t\t\t\tcase 'width':\n\t\t\t\t\t\t\t\t\tcurrent = thisTemp.getWidth();\n\t\t\t\t\t\t\t\t\tif (vars.substring(vars.length - 1, vars.length) == '%') {\n\t\t\t\t\t\t\t\t\t\tresult = parseInt(vars) * h * 0.01;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tresult=parseInt(vars);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'height':\n\t\t\t\t\t\t\t\t\tcurrent = thisTemp.getHeight();\n\t\t\t\t\t\t\t\t\tif (vars.substring(vars.length - 1, vars.length) == '%') {\n\t\t\t\t\t\t\t\t\t\tresult = parseInt(vars) * h * 0.01;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tresult=parseInt(vars);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'left':\n\t\t\t\t\t\t\t\t\tif(!isUndefined(thisTemp.css('left'))){\n\t\t\t\t\t\t\t\t\t\tcurrent=parseInt(thisTemp.css('left'));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tcurrent = thisTemp.offset()['left']-parNode.offset()['left'];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (vars.substring(vars.length - 1, vars.length) == '%') {\n\t\t\t\t\t\t\t\t\t\tresult = parseInt(vars) * w * 0.01;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tresult=parseInt(vars);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisTemp.css('right','auto');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'right':\n\t\t\t\t\t\t\t\t\tif(!isUndefined(thisTemp.css('right'))){\n\t\t\t\t\t\t\t\t\t\tcurrent=parseInt(thisTemp.css('right'));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tcurrent = parNode.getWidth()-(thisTemp.offset()['left']-parNode.offset()['left']+thisTemp.getWidth());\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (vars.substring(vars.length - 1, vars.length) == '%') {\n\t\t\t\t\t\t\t\t\t\tresult = parseInt(vars) * w * 0.01;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tresult=parseInt(vars);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisTemp.css('left','auto');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'top':\n\t\t\t\t\t\t\t\t\tif(!isUndefined(thisTemp.css('top'))){\n\t\t\t\t\t\t\t\t\t\tcurrent=parseInt(thisTemp.css('top'));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tcurrent = thisTemp.offset()['top']-parNode.offset()['top'];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (vars.substring(vars.length - 1, vars.length) == '%') {\n\t\t\t\t\t\t\t\t\t\tresult = parseInt(vars) * h * 0.01;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tresult=parseInt(vars);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisTemp.css('bottom','auto');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\t\t\t\tif(!isUndefined(thisTemp.css('bottom'))){\n\t\t\t\t\t\t\t\t\t\tcurrent=parseInt(thisTemp.css('bottom'));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tcurrent = parNode.getHeight()-(thisTemp.offset()['top']-parNode.offset()['top']+thisTemp.getHeight());\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (vars.substring(vars.length - 1, vars.length) == '%') {\n\t\t\t\t\t\t\t\t\t\tresult = parseInt(vars) * h * 0.01;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tresult=parseInt(vars);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisTemp.css('top','auto');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'alpha':\n\t\t\t\t\t\t\t\t\tif(!isUndefined(thisTemp.css('filter')) && thisTemp.css('filter')!='none'){\n\t\t\t\t\t\t\t\t\t\tcurrent=Number(thisTemp.css('filter'))*100;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if(!isUndefined(thisTemp.css('opacity')) && thisTemp.css('opacity')!='none'){\n\t\t\t\t\t\t\t\t\t\tcurrent=thisTemp.css('opacity')*100;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tcurrent = 100;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (vars.substring(vars.length - 1, vars.length) == '%') {\n\t\t\t\t\t\t\t\t\t\tresult = parseInt(vars);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tresult=vars*100;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresult-=current;\n\t\t\t\t\t\t\tif(current!=result){\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t'type':arr[0],\n\t\t\t\t\t\t\t\t\t'current':current,\n\t\t\t\t\t\t\t\t\t'result':result\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar stopTween = function() {\n\t\t\t\t\t\t\tif (thisTemp.timerTween != null) {\n\t\t\t\t\t\t\t\tclearInterval(thisTemp.timerTween);\n\t\t\t\t\t\t\t\tthisTemp.timerTween = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tparameter=parameter.replace(/[ ]*,[ ]*|[ ]+/g, ';');\n\t\t\t\t\t\tvar newCss=[];\n\t\t\t\t\t\tvar parameterArr=parameter.split(';');\n\t\t\t\t\t\tfor(var i=0;i<parameterArr.length;i++){\n\t\t\t\t\t\t\tvar cssArr=parameterArr[i].split(':');\n\t\t\t\t\t\t\tif(cssArr.length==2){\n\t\t\t\t\t\t\t\tvar temp=getStartAndEnd(cssArr);\n\t\t\t\t\t\t\t\tif(temp){\n\t\t\t\t\t\t\t\t\tnewCss.push(temp)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar funTime=0;\n\t\t\t\t\t\tvar timeFun=function(){\n\t\t\t\t\t\t\tvar styleObj={};\n\t\t\t\t\t\t\tif(thisTemp.tweenPlay){\n\t\t\t\t\t\t\t\tif (funTime < totalTime) {\n\t\t\t\t\t\t\t\t\tfunTime += speed;\n\t\t\t\t\t\t\t\t\tfor(var i=0;i<newCss.length;i++){\n\t\t\t\t\t\t\t\t\t\tvar ob=newCss[i];\n\t\t\t\t\t\t\t\t\t\tvar ap =Math.ceil(tweenFun(funTime, ob['current'], ob['result'], totalTime));\n\t\t\t\t\t\t\t\t\t\tswitch(ob['type']){\n\t\t\t\t\t\t\t\t\t\t\tcase 'width':\n\t\t\t\t\t\t\t\t\t\t\t\tstyleObj['width']=ap + 'px';\n\t\t\t\t\t\t\t\t\t\t\t\tstyleObj['overflow']='hidden';\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\tcase 'height':\n\t\t\t\t\t\t\t\t\t\t\t\tstyleObj['height']=ap + 'px';\n\t\t\t\t\t\t\t\t\t\t\t\tstyleObj['overflow']='hidden';\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\tcase 'left':\n\t\t\t\t\t\t\t\t\t\t\t\tstyleObj['left']=ap + 'px';\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\tcase 'right':\n\t\t\t\t\t\t\t\t\t\t\t\tstyleObj['right']=ap + 'px';\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\tcase 'top':\n\t\t\t\t\t\t\t\t\t\t\t\tstyleObj['top']=ap + 'px';\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\t\t\t\t\t\t\tstyleObj['bottom']=ap + 'px';\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\tcase 'alpha':\n\t\t\t\t\t\t\t\t\t\t\t\tstyleObj['filter']='alpha(opacity:' + ap*0.01 + ')';\n\t\t\t\t\t\t\t\t\t\t\t\tstyleObj['opacity']=ap*0.01;\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisTemp.css(styleObj);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tstopTween();\n\t\t\t\t\t\t\t\t\tif(!isUndefined(callBack)){\n\t\t\t\t\t\t\t\t\t\tcallBack(thisTemp);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tstopTween();\n\t\t\t\t\t\tthis.timerTween=setInterval(timeFun,speed);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * animatePlay\n\t\t\t\t\t * 功能：播放缓动动画\n\t\t\t\t\t */\n\t\t\t\t\tres.animatePlay=function(){\n\t\t\t\t\t\tif(!isUndefined(this.timerTween)){\n\t\t\t\t\t\t\tthis.tweenPlay=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * animatePause\n\t\t\t\t\t * 功能：暂停缓动动画\n\t\t\t\t\t */\n\t\t\t\t\tres.animatePause=function(){\n\t\t\t\t\t\tif(!isUndefined(this.timerTween)){\n\t\t\t\t\t\t\tthis.tweenPlay=false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\t/*\n\t\t\t\t\t * each\n\t\t\t\t\t * 功能：当相同节点数量大于0时，使用该函数可以进行循环节点\n\t\t\t\t\t * @fn：循环节点时执行的函数\n\t\t\t\t\t */\n\t\t\t\t\tres.each = function(fn) {\n\t\t\t\t\t\tfor (var i in this) {\n\t\t\t\t\t\t\tif (this.hasOwnProperty(i)) {\n\t\t\t\t\t\t\t\tif (valType(this[i]) == 'htmlobject') {\n\t\t\t\t\t\t\t\t\tfn(i, this[i]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tif (!this[0].nodeName) fn(i, this[i]);\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\tfn(i, this[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t/*\n\t\t\t\t\t * eq\n\t\t\t\t\t * 功能：根据索引返回指定节点\n\t\t\t\t\t * @m：为索引数字\n\t\t\t\t\t */\n\t\t\t\t\tres.eq = function(m) {\n\t\t\t\t\t\tif (valType(this) == 'htmlarray') {\n\t\t\t\t\t\t\tif (this.length >= m + 1) {\n\t\t\t\t\t\t\t\treturn this[m];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t};\n\t\t\t\t\tfor (var i = 0; i < res.length; i++) {\n\t\t\t\t\t\tif ($) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tres[i] = $(res[i]);\n\t\t\t\t\t\t\t} catch (event) {}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t/*\n\t\t * createlDiv\n\t\t * 功能：新建一个DIV节点\n\t\t*/\n\t\tcreatelDiv=function(className,html) {\n\t\t\tvar ele = document.createElement('div');\n\t\t\tvar eleObject = $(ele);\n\t\t\tif (className) {\n\t\t\t\teleObject.addClass(className);\n\t\t\t}\n\t\t\tif(html){\n\t\t\t\teleObject.htm(html);\n\t\t\t}\n\t\t\treturn eleObject;\n\t\t},\n\t\t/*\n\t\t * createlVideo\n\t\t * 功能：新建一个video节点\n\t\t*/\n\t\tcreatelVideo=function() {\n\t\t\tvar ele = document.createElement('video');\n\t\t\tvar eleObject = $(ele);\n\t\t\treturn eleObject;\n\t\t},\n\t\t/*\n\t\t * createlButton\n\t\t * 功能新建一个button节点\n\t\t*/\n\t\tcreatelButton=function(className,html) {\n\t\t\tvar ele = document.createElement('button'); \n\t\t\tvar eleObject = $(ele);\n\t\t\teleObject.attr('type','button');\n\t\t\tif (className) {\n\t\t\t\teleObject.addClass(className);\n\t\t\t}\n\t\t\tif(html){\n\t\t\t\teleObject.htm(html);\n\t\t\t}\n\t\t\treturn eleObject;\n\t\t},\n\t\t/*\n\t\t * createlA\n\t\t * 功能新建一个a节点\n\t\t*/\n\t\tcreatelA=function(html,href,className) {\n\t\t\tvar ele = document.createElement('a'); \n\t\t\tvar eleObject = $(ele);\n\t\t\tif(html){\n\t\t\t\teleObject.htm(html);\n\t\t\t}\n\t\t\tif(!isUndefined(href) && href){\n\t\t\t\teleObject.attr('href',href);\n\t\t\t\teleObject.attr('target','_blank');\n\t\t\t}\n\t\t\tif (className) {\n\t\t\t\teleObject.addClass(className);\n\t\t\t}\n\t\t\treturn eleObject;\n\t\t},\n\t\t/*\n\t\t * createlJsLink\n\t\t * 功能新建一个a节点\n\t\t*/\n\t\tcreatelJsLink=function(html,js) {\n\t\t\tvar ele = document.createElement('a'); \n\t\t\tvar eleObject = $(ele);\n\t\t\tif(html){\n\t\t\t\teleObject.htm(html);\n\t\t\t}\n\t\t\tif(!isUndefined(js) && js){\n\t\t\t\teleObject.attr('href','javascript:'+js+'()');\n\t\t\t}\n\t\t\telse{\n\t\t\t\teleObject.attr('href','javascript:;');\n\t\t\t}\n\t\t\treturn eleObject;\n\t\t},\n\t\t/*\n\t\t * createlImg\n\t\t * 功能新建一个img节点\n\t\t*/\n\t\tcreatelImg=function(file,className) {\n\t\t\tvar ele = document.createElement('img'); \n\t\t\tvar eleObject = $(ele);\n\t\t\tif (className) {\n\t\t\t\tele.className = className;\n\t\t\t}\n\t\t\tif(file){\n\t\t\t\tele.src=file;\n\t\t\t}\n\t\t\treturn eleObject;\n\t\t},\n\t\t/*\n\t\t * getClient\n\t\t * 功能：获取clientX和clientY\n\t\t*/\n\t\tgetClient=function(event) {\n\t\t\tvar eve = event || window.event;\n\t\t\tif (isUndefined(eve)) {\n\t\t\t\teve = {\n\t\t\t\t\tclientX: 0,\n\t\t\t\t\tclientY: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar x=eve.clientX + (document.documentElement.scrollLeft || $('body').scrollLeft),\n\t\t\ty=eve.clientY + (document.documentElement.scrollTop || $('body').scrollTop);\n\t\t\tif(isUndefined(x.toString()) || x.toString()=='NaN'){\n\t\t\t\tx=eve.touches[0].clientX\n\t\t\t}\n\t\t\tif(isUndefined(y.toString()) || y.toString()=='NaN'){\n\t\t\t\ty=eve.touches[0].clientY\n\t\t\t}\n\t\t\tif(x.toString()=='NaN'){\n\t\t\t\tx=0;\n\t\t\t}\n\t\t\tif(y.toString()=='NaN'){\n\t\t\t\ty=0;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * getLiveTime\n\t\t * 功能：获取直播回放时间\n\t\t*/\n\t\tgetLiveTime=function(){\n\t\t\tvar notTime=Date.now();\n\t\t\tvar varsTime=vars['live'];\n\t\t\tif(varsTime.toString().length<13){\n\t\t\t\tvarsTime=varsTime*1000;\n\t\t\t}\n\t\t\treturn notTime-varsTime;\n\t\t},\n\t\t/*\n\t\t * formatLiveTime\n\t\t * 功能：将直播的时间戳格式化成标准时间\n\t\t*/\n\t\tformatLiveTime=function(time){\n\t\t\tvar varsTime=vars['live'];\n\t\t\tif(varsTime.toString().length<13){\n\t\t\t\tvarsTime=varsTime*1000;\n\t\t\t}\n\t\t\tvarsTime+=time;\n\t\t\treturn language['lookBack']+date('H:i:s',varsTime);\n\t\t},\n\t\t/*\n\t\t * loadJs\n\t\t * 功能：加载js文件并在加载完成后执行callback函数\n\t\t * @file：js文件地址\n\t\t * @callback：加载完成后执行的函数\n\t\t*/\n\t\tloadJs=function(file, callback) {\n\t\t\tvar fn =function() {};\n\t\t\tif(!isUndefined(callback)){\n\t\t\t\tfn=callback;\n\t\t\t}\n\t\t\tif(checkJs(file)){\n\t\t\t\tfn();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar script = document.createElement('script');\n\t\t\tscript.type = 'text/javascript';\t\t\n\t\t\tvar isReady = false;\n\t\t\tvar timer = null;\n\t\t\tvar doReady = function() {\n\t\t\t\tif(timer){\n\t\t\t\t\tclearInterval(timer);\n\t\t\t\t}\n\t\t\t\tif(isReady) return;\n\t\t\t\tisReady = true;\n\t\t\t\tif(valType(fn) == 'function') {\n\t\t\t\t\tfn();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar bodyLoad = function() {\n\t\t\t\ttimer = setInterval(function() {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif(!isUndefined(script.readyState) && script.readyState == 'complete') {\n\t\t\t\t\t\t\tdoReady();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {};\n\t\t\t\t}, 10);\n\t\t\t};\n\t\t\tvar w3c = function() {\n\t\t\t\tif(valType(fn) == 'function') {\n\t\t\t\t\tfn();\n\t\t\t\t}\n\t\t\t\tremoveListener(script, 'load', w3c);\n\t\t\t\tremoveListener(script, 'error', w3cError);\n\t\t\t};\n\t\t\tvar w3cError = function() {\n\t\t\t\tif(valType(fn) == 'function') {\n\t\t\t\t\tfn();\n\t\t\t\t}\n\t\t\t\tremoveListener(script, 'load', w3c);\n\t\t\t\tremoveListener(script, 'error', w3cError);\n\t\t\t};\n\t\t\ttry {\n\t\t\t\taddListener(script, 'load', w3c);\n\t\t\t\taddListener(script, 'error', w3cError);\n\t\t\t} catch(event) {\n\t\t\t\tbodyLoad();\n\t\t\t}\n\t\t\tscript.src = file;\n\t\t\t$('head').eq(0).append(script);\n\t\t},\n\t\n\t\t/*\n\t\t * doubleClickEvent\n\t\t * 功能：注册对象双击功能\n\t\t * @ele：注册对象，可以是页面中的任意节点，不支持数组形式\n\t\t*/\n\t\tdoubleClickEvent=function(ele){\n\t\t\tvar setTime=null;//注册延时函数\n\t\t\tvar clickTime=0;//记录点击时间\n\t\t\tele=$(ele);\n\t\t\tele.click(function(){\n\t\t\t\tif(!setTime){\n\t\t\t\t\tsetTime=setTimeout(function(){\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tele.dispatchEvent(new Event('sigClick'));//注册单击，针对视频播放器使用\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch(event){\n\t\t\t\t\t\t\tvar e = document.createEvent('HTMLEvents');\n\t\t\t\t\t\t\te.initEvent('sigClick', false, true);\n\t\t\t\t\t\t\tele.dispatchEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclickTime=0;\n\t\t\t\t\t\tsetTime=null;\n\t\t\t\t\t},260);\n\t\t\t\t}\n\t\t\t\tif(!clickTime){\n\t\t\t\t\tclickTime=new Date().getTime();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(new Date().getTime()-clickTime<230){//认为是双击\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tele.dispatchEvent(new Event('dobClick'));//注册双击\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch(event){\n\t\t\t\t\t\t\tvar e = document.createEvent('HTMLEvents');\n\t\t\t\t\t\t\te.initEvent('dobClick', false, true);\n\t\t\t\t\t\t\tele.dispatchEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclearTimeout(setTime);\n\t\t\t\t\t\tclickTime=0;\n\t\t\t\t\t\tsetTime=null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * noScrolling\n\t\t * 功能，禁止页面滚动操作\n\t\t */\n\t\tnoScrolling=function(b){\n\t\t\tif(isUndefined(b)) b=false;\n\t\t\tvar bodyScroll=function (event){\n\t\t\t\tevent.preventDefault();\n\t\t\t};\n\t\t    if(b){ //禁止滚动\n\t\t        $('body').addListener('touchmove', bodyScroll, {passive: false });\n\t\t    }\n\t\t    else{ //开启滚动\n\t\t        $('body').removeListener('touchmove',bodyScroll, {passive: false});\n\t\t    }\n\t\t};\n\t\treturn into(videoObj);\n\t}\n\t/*\n\t * ajax\n\t * 功能：ajax功能\n\t * @cObj:传递的参数，包含请求地址，请求类型，编码等\n\t*/\n\tfunction ajax(cObj) {\n\t\tvar callback = null;\n\t\tvar obj = {\n\t\t\tmethod: 'get',//请求类型\n\t\t\tdataType: 'json',//请求的数据类型\n\t\t\tcharset: 'utf-8',\n\t\t\tasync: true,//true表示异步，false表示同步\n\t\t\turl: '',\n\t\t\tdata: null,\n\t\t\tsuccess: null,\n\t\t\terror:null\n\t\t};\n\t\tobj = standardization(obj, cObj);\n\t\tif (isUndefined(obj['url'])) {\n\t\t\treturn;\n\t\t}\n\t\t/*\n\t\t * errorFun\n\t\t *功能：执行error\n\t\t*/\n\t\tvar errorFun=function(info){\n\t\t\tif(!isUndefined(obj['error']) && valType(obj['error'])=='function'){\n\t\t\t\tobj['error'](info);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tobj['success'](null);\n\t\t\t}\n\t\t};\n\t\t/*\n\t\t * successFun\n\t\t *功能：执行success\n\t\t*/\n\t\tvar successFun=function(success){\n\t\t\tif(!isUndefined(obj['success']) && valType(obj['success'])=='function'){\n\t\t\t\tobj['success'](success);\n\t\t\t}\n\t\t};\n\t\t/*\n\t\t * createXHR\n\t\t *功能：用来为ajax函数提供支持\n\t\t*/\n\t\tvar createXHR=function() {\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\treturn new XMLHttpRequest();\n\t\t\t} else if (window.ActiveXObject) {\n\t\t\t\ttry {\n\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t} catch(event) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new ActiveXObject('Msxml2.XMLHTTP');\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t/*\n\t\t * formatParams\n\t\t * 功能：将对象转成地址字符串，为ajax函数提供支持\n\t\t * @obj：传递一个对象\n\t\t*/\n\t\tvar formatParams=function(obj) {\n\t\t\tvar arr = [];\n\t\t\tfor (var key in obj) {\n\t\t\t\tarr.push(encodeURIComponent(key) + '=' + encodeURIComponent(obj[key]));\n\t\t\t}\n\t\t\treturn arr.join('&');\n\t\t};\n\t\tif (valType(cObj) != 'object') {\n\t\t\tif(!isUndefined(obj['error'])){\n\t\t\t\tobj.error(event);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (obj.dataType === 'json' || obj.dataType === 'text' || obj.dataType === 'html' || obj.dataType === 'xml') {\n\t\t\tvar xhr = createXHR();\n\t\t\tcallback = function() {\n\t\t\t\t//判断http的交互是否成功\n\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\tif (obj.dataType === 'json') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tsuccessFun(eval('(' + xhr.responseText + ')')); //回调传递参数\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch(event) {\n\t\t\t\t\t\t\tsuccessFun(null);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuccessFun(xhr.responseText); //回调传递参数\n\t\t\t\t\t}\n\t\t\t\t} \n\t\t\t\telse {\n\t\t\t\t\terrorFun({code:xhr.status,message:xhr.statusText});\n\t\t\t\t}\n\t\t\t};\n\t\t\tobj.data = formatParams(obj.data); //通过params()将名值对转换成字符串\n\t\t\tif (obj.method === 'get' && !isUndefined(obj.data)) {\n\t\t\t\tif (obj.data != '') {\n\t\t\t\t\tif (obj.url.indexOf('?') == -1) {\n\t\t\t\t\t\tobj.url += '?' + obj.data\n\t\t\t\t\t} else {\n\t\t\t\t\t\tobj.url += '&' + obj.data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (obj.async === true) { //true表示异步，false表示同步\n\t\t\t\taddListener(xhr,'readystatechange',function(event){\n\t\t\t\t\tif (this.readyState === 4 && callback != null) { //判断对象的状态是否交互完成\n\t\t\t\t\t\tcallback(); //回调\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\txhr.open(obj.method, obj.url, obj.async);\n\t\t\tif (obj.method === 'post') {\n\t\t\t\ttry{\n\t\t\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\t\t\t\t\txhr.setRequestHeader('charset', obj['charset']);\n\t\t\t\t\txhr.send(obj.data);\n\t\t\t\t}\n\t\t\t\tcatch(event){\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry{\n\t\t\t\t\txhr.send(null); //get方式则填null\n\t\t\t\t}\n\t\t\t\tcatch(event){\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (obj.async === false) { //同步\n\t\t\t\tcallback();\n\t\t\t}\n\n\t\t}\n\t\telse if (obj.dataType === 'jsonp') {\n\t\t\tvar oHead = document.getElementsByTagName('head')[0];\n\t\t\tvar oScript = document.createElement('script');\n\t\t\tvar callbackName = 'callback' + new Date().getTime();\n\t\t\tvar params = formatParams(obj.data) + '&callback=' + callbackName; //按时间戳拼接字符串\n\t\t\t//拼接好src\n\t\t\toScript.src = obj.url.split('?') + '?' + params;\n\t\t\t//插入script标签\n\t\t\toHead.insertBefore(oScript, oHead.firstChild);\n\t\t\t//jsonp的回调函数\n\t\t\twindow[callbackName] = function(json) {\n\t\t\t\tif(!isUndefined(obj['success']) && valType(obj['success'])==='function'){\n\t\t\t\t\tobj['success'](json);\n\t\t\t\t}\n\t\t\t\toHead.removeChild(oScript);\n\t\t\t};\n\t\t}\n\t}\n\t/*\n\t * documentReady\n\t * 功能：判断页面加载完成\n\t * @fn：页面加载完成后执行的函数\n\t*/\n\tfunction documentReady(fn) {\n\t\tvar isReady = false;\n\t\tvar timer = null;\n\t\tvar doReady = function() {\n\t\t\tif(timer) clearInterval(timer);\n\t\t\tif(isReady) return;\n\t\t\tisReady = true;\n\t\t\tif(valType(fn) == 'function') {\n\t\t\t\tfn();\n\t\t\t}\n\t\t};\n\t\tvar bodyLoad = function() {\n\t\t\ttimer = setInterval(function() {\n\t\t\t\ttry {\n\t\t\t\t\tif(!isUndefined(document.readyState) && document.readyState == 'complete') {\n\t\t\t\t\t\tdoReady();\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {};\n\t\t\t}, 10);\n\t\t};\n\t\tvar w3c = function() {\n\t\t\t\n\t\t\tif(valType(fn) == 'function') {\n\t\t\t\tfn();\n\t\t\t}\n\t\t\tremoveListener(window, 'load', w3c);\n\t\t};\n\t\tif(!isUndefined(document.body)){\n\t\t\tif(valType(fn) == 'function') {\n\t\t\t\tfn();\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\ttry {\n\t\t\t\taddListener(window, 'load', w3c);\n\t\t\t} catch(event) {\n\t\t\t\tbodyLoad();\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t/*\n\t * getPath\n\t * 功能：获取该js文件所在路径\n\t*/\n\tfunction getPath(siz) {\n\t\tvar scriptList = document.scripts,\n\t\t\tthisPath = scriptList[scriptList.length - 1].src;\n\t\tfor (var i = 0; i < scriptList.length; i++) {\n\t\t\tvar scriptName = scriptList[i].getAttribute('name') || scriptList[i].getAttribute('data-name');\n\t\t\tvar src = scriptList[i].src.slice(scriptList[i].src.lastIndexOf('/') + 1, scriptList[i].src.lastIndexOf('.'));\n\t\t\tif ((scriptName && (scriptName == 'ckplayer' || scriptName == 'ckplayer.min')) || (scriptList[i].src && (src == 'ckplayer' || src == 'ckplayer.min'))) {\n\t\t\t\tthisPath = scriptList[i].src;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar path=thisPath.substring(0, thisPath.lastIndexOf('/js/') + 1);\n\t\tif(!isUndefined(siz)){\n\t\t\tpath+=siz+'/';\n\t\t}\n\t\treturn path;\n\t}\n\t/*\n\t * checkJs\n\t * 功能：判断js是否已加载\n\t * @file：js文件路径\n\t*/\n\tfunction checkJs(file) {\n\t\tvar scriptList = document.scripts;\n\t\tfor (var i = 0; i < scriptList.length; i++) {\n\t\t\tif(scriptList[i].src==file){\n\t\t\t\treturn scriptList[i];\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\t/*\n\t * getMaxZIndex\n\t * 功能：获取当前页面最大深度\n\t*/\n\tfunction getMaxZIndex() {\n\t\tvar arr = document.all || document.querySelectorAll('*');\n\t\tvar maxZ = -1;\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tvar temp = null;\n\t\t\ttry {\n\t\t\t\ttemp = window.getComputedStyle(arr[i], null).zIndex;\n\t\t\t} catch (event) {\n\t\t\t\tif (arr[i].style) {\n\t\t\t\t\ttemp = arr[i].style.zIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (temp != 'auto' && parseInt(temp) > maxZ) {\n\t\t\t\tmaxZ = parseInt(temp);\n\t\t\t}\n\t\t}\n\t\treturn maxZ;\n\t}\n\t/*\n\t * getWindowSize\n\t * 功能：获取window的宽和高\n\t*/\n\tfunction getWindowSize() {\n\t\treturn {\n\t\t\twidth: window.innerWidth,\n\t\t\theight: window.innerHeight\n\t\t};\n\t}\n\t/*\n\t * standardization\n\t * 功能：将对象Object标准化，将n对象替换进o对象\n\t * @o:标准化对象，@n：外部传递对象\n\t*/\n\tfunction standardization(o, n) { //n替换进o\n\t\tvar h = {};\n\t\tvar k;\n\t\tfor (k in o) {\n\t\t\th[k] = o[k];\n\t\t}\n\t\tfor (k in n) {\n\t\t\tif(k in h){\n\t\t\t\th[k] = n[k];\n\t\t\t}\n\t\t}\n\t\treturn h;\n\t}\n\t/*\n\t * mergeObj\n\t * 功能：将新对象合并到原对象中，需要确保原对像里有对应的值并且类型一样\n\t * @o:原对象，@n：新对象\n\t*/\n\tfunction mergeObj(o,n){\n\t\tvar h = {};\n\t\tvar k;\n\t\tfor (k in o) {\n\t\t\th[k] = o[k];\n\t\t}\n\t\tfor (k in n) {\n\t\t\tif(k in h){\n\t\t\t\tswitch(valType(h[k])){\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tif(valType(n[k])=='object'){\n\t\t\t\t\t\t\th[k] = mergeObj(h[k],n[k]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(valType(h[k])==valType(n[k])){\n\t\t\t\t\t\t\th[k] = n[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn h;\n\t}\n\t/*\n\t * valType\n\t * 功能：判断变量类型\n\t*/\n\tfunction valType(val) {\n\t\tif(typeof val==='undefined') return 'undefined';\n\t\tvar str=Object.prototype.toString.call(val).split(' ')[1].replace(']','').toLowerCase();\n\t\tif(str.substr(0,4)=='html' && (str.substr(-7)=='element' || str.substr(-8)=='document' || str=='window')){\n\t\t\tstr='htmlobject';\n\t\t}\n\t\tif(str=='htmlcollection' || str=='nodelist'){\n\t\t\tstr='htmlarray';\n\t\t}\n\t\treturn str;\n\t}\n\t/*\n\t * isUndefined\n\t * 功能：判断变量是否存在或值是否为undefined\n\t*/\n\tfunction isUndefined(val) {\n\t\ttry {\n\t\t\treturn valType(val)==='undefined' || val === undefined || val === null || (valType(val)==='number' && isNaN(val));\n\t\t} catch (event) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\t/*\n\t * prev\n\t * 功能：获取指定节点前一个同胞节点\n\t * @ele：要获取的节点\n\t*/\n\tfunction prev(ele) {\n\t\tvar e = ele.previousSibling;\n\t\tif (e == null) { //测试同胞节点是否存在，否则返回空\n\t\t\treturn null;\n\t\t}\n\t\tif (e.nodeType == 3) { //如果同胞节点为文本节点\n\t\t\tvar t = prev(e);\n\t\t\tif (t && t.nodeType == 1) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t} else {\n\t\t\tif (e.nodeType == 1) { //确认节点为节点节点才返回\n\t\t\t\treturn e;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t/*\n\t * next\n\t * 功能：获取指定节点下一个同胞节点\n\t * @ele：要获取的节点\n\t*/\n\tfunction next(ele) {\n\t\tvar e = ele.nextSibling;\n\t\tif (e == null) { //测试同胞节点是否存在，否则返回空\n\t\t\treturn null;\n\t\t}\n\t\tif (e.nodeType == 3) { //如果同胞节点为文本节点\n\t\t\tvar t = next(e);\n\t\t\tif (t && t.nodeType == 1) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t} else {\n\t\t\tif (e.nodeType == 1) { //确认节点为节点才返回\n\t\t\t\treturn e;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t/*\n\t * addListener\n\t * 功能：事件监听\n\t * @ele：监听对象，@e：事件名称，@f：返回事件函数\n\t*/\n\tfunction addListener(ele, e, f, t) {\n\t\tif (isUndefined(t)) {\n\t\t\tt = false;\n\t\t}\n\t\tif (ele.addEventListener) {\n\t\t\ttry {\n\t\t\t\tele.addEventListener(e, f, t);\n\t\t\t} catch (event) {}\n\t\t} else if (ele.attachEvent) {\n\t\t\ttry {\n\t\t\t\tele.attachEvent('on' + e, f);\n\t\t\t} catch (event) {}\n\t\t} else {\n\t\t\tele['on' + e] = f;\n\t\t}\n\t\tif(isUndefined(ele.listenerList)){\n\t\t\tele.listenerList=[];\n\t\t}\n\t\tele.listenerList.push([e,f]);\n\t\treturn ele;\n\t};\n\t/*\n\t * removeListener\n\t * 功能：删除事件监听\n\t * @ele：监听对象，@e：事件名称，@f：返回事件函数\n\t*/\n\tfunction removeListener(ele, e, f, t) {\n\t\tif (isUndefined(t)) {\n\t\t\tt = false;\n\t\t}\n\t\tif (ele.removeEventListener) {\n\t\t\ttry {\n\t\t\t\tele.removeEventListener(e, f, t);\n\t\t\t} catch (e) {}\n\t\t} else if (ele.detachEvent) {\n\t\t\ttry {\n\t\t\t\tele.detachEvent('on' + e, f);\n\t\t\t} catch (e) {}\n\t\t} else {\n\t\t\tele['on' + e] = null;\n\t\t}\n\t\tif(!isUndefined(ele.listenerList)){\n\t\t\tvar temp=[];\n\t\t\tfor(var i=0;i<ele.listenerList.length;i++){\n\t\t\t\tif(ele.listenerList[i][0]!=e || ele.listenerList[i][1]!=f){\n\t\t\t\t\ttemp.push(ele.listenerList[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tele.listenerList=temp;\n\t\t}\n\t\treturn ele;\n\t}\n\t/*\n\t * formatSeconds\n\t * 功能：將秒转化成时分秒\n\t*/\n\tfunction formatSeconds(val) {\n\t\tif(isUndefined(val)) val=0;\n\t\tvar result = parseInt(val);\n\t\tif(isUndefined(result)) result=0;\n\t\tif(result<0) result=0;\n\t\tvar h = Math.floor(result / 3600) < 10 ? '0' + Math.floor(result / 3600) : Math.floor(result / 3600),\n\t\tm = Math.floor((result / 60 % 60)) < 10 ? '0' + Math.floor((result / 60 % 60)) : Math.floor((result / 60 % 60)),\n\t\ts = Math.floor((result % 60)) < 10 ? '0' + Math.floor((result % 60)) : Math.floor((result % 60)),\n\t\tres = '';\n\t\tif(h !== '00') res += h+':';\n\t\tres += m+':'+s;\n\t\treturn res;\n\t}\n\t/*\n\t * date\n\t * 功能：格式化的时间字符串\n\t*/\n\tfunction date(format, timestamp) {\n\t\tif(isUndefined(timestamp)){\n\t\t\ttimestamp=new Date();\n\t\t}\n\t\tif(timestamp.toString().length<13) timestamp=timestamp*1000;\n\t\tvar a, jsdate = ((timestamp) ? new Date(timestamp) : new Date());\n\t\tvar pad = function(n, c) {\n\t\t\tif((n = n + '').length < c) {\n\t\t\t\treturn new Array(++c - n.length).join('0') + n;\n\t\t\t} else {\n\t\t\t\treturn n;\n\t\t\t}\n\t\t};\n\t\tvar txt_weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\t\tvar txt_ordin = {\n\t\t\t1: 'st',\n\t\t\t2: 'nd',\n\t\t\t3: 'rd',\n\t\t\t21: 'st',\n\t\t\t22: 'nd',\n\t\t\t23: 'rd',\n\t\t\t31: 'st'\n\t\t};\n\t\tvar txt_months = ['', 'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\t\tvar f = {\n\t\t\t// Day \n\t\t\td: function() {\n\t\t\t\treturn pad(f.j(), 2)\n\t\t\t},\n\t\t\tD: function() {\n\t\t\t\treturn f.l().substr(0, 3)\n\t\t\t},\n\t\t\tj: function() {\n\t\t\t\treturn jsdate.getDate()\n\t\t\t},\n\t\t\tl: function() {\n\t\t\t\treturn txt_weekdays[f.w()]\n\t\t\t},\n\t\t\tN: function() {\n\t\t\t\treturn f.w() + 1\n\t\t\t},\n\t\t\tS: function() {\n\t\t\t\treturn txt_ordin[f.j()] ? txt_ordin[f.j()] : 'th'\n\t\t\t},\n\t\t\tw: function() {\n\t\t\t\treturn jsdate.getDay()\n\t\t\t},\n\t\t\tz: function() {\n\t\t\t\treturn(jsdate - new Date(jsdate.getFullYear() + '/1/1')) / 864e5 >> 0\n\t\t\t},\n\t\n\t\t\t// Week \n\t\t\tW: function() {\n\t\t\t\tvar a = f.z(),\n\t\t\t\t\tb = 364 + f.L() - a;\n\t\t\t\tvar nd2, nd = (new Date(jsdate.getFullYear() + '/1/1').getDay() || 7) - 1;\n\t\t\t\tif(b <= 2 && ((jsdate.getDay() || 7) - 1) <= 2 - b) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else {\n\t\t\t\t\tif(a <= 2 && nd >= 4 && a >= (6 - nd)) {\n\t\t\t\t\t\tnd2 = new Date(jsdate.getFullYear() - 1 + '/12/31');\n\t\t\t\t\t\treturn date('W', Math.round(nd2.getTime() / 1000));\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn(1 + (nd <= 3 ? ((a + nd) / 7) : (a - (7 - nd)) / 7) >> 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t// Month \n\t\t\tF: function() {\n\t\t\t\treturn txt_months[f.n()]\n\t\t\t},\n\t\t\tm: function() {\n\t\t\t\treturn pad(f.n(), 2)\n\t\t\t},\n\t\t\tM: function() {\n\t\t\t\treturn f.F().substr(0, 3)\n\t\t\t},\n\t\t\tn: function() {\n\t\t\t\treturn jsdate.getMonth() + 1\n\t\t\t},\n\t\t\tt: function() {\n\t\t\t\tvar n;\n\t\t\t\tif((n = jsdate.getMonth() + 1) == 2) {\n\t\t\t\t\treturn 28 + f.L();\n\t\t\t\t} else {\n\t\t\t\t\tif(n & 1 && n < 8 || !(n & 1) && n > 7) {\n\t\t\t\t\t\treturn 31;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 30;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t// Year \n\t\t\tL: function() {\n\t\t\t\tvar y = f.Y();\n\t\t\t\treturn(!(y & 3) && (y % 1e2 || !(y % 4e2))) ? 1 : 0\n\t\t\t},\n\t\t\t//o not supported yet \n\t\t\tY: function() {\n\t\t\t\treturn jsdate.getFullYear()\n\t\t\t},\n\t\t\ty: function() {\n\t\t\t\treturn(jsdate.getFullYear() + '').slice(2)\n\t\t\t},\n\t\n\t\t\t// Time \n\t\t\ta: function() {\n\t\t\t\treturn jsdate.getHours() > 11 ? 'pm' : 'am'\n\t\t\t},\n\t\t\tA: function() {\n\t\t\t\treturn f.a().toUpperCase()\n\t\t\t},\n\t\t\tB: function() {\n\t\t\t\t// peter paul koch: \n\t\t\t\tvar off = (jsdate.getTimezoneOffset() + 60) * 60;\n\t\t\t\tvar theSeconds = (jsdate.getHours() * 3600) + (jsdate.getMinutes() * 60) + jsdate.getSeconds() + off;\n\t\t\t\tvar beat = Math.floor(theSeconds / 86.4);\n\t\t\t\tif(beat > 1000) beat -= 1000;\n\t\t\t\tif(beat < 0) beat += 1000;\n\t\t\t\tif((String(beat)).length == 1) beat = '00' + beat;\n\t\t\t\tif((String(beat)).length == 2) beat = '0' + beat;\n\t\t\t\treturn beat;\n\t\t\t},\n\t\t\tg: function() {\n\t\t\t\treturn jsdate.getHours() % 12 || 12\n\t\t\t},\n\t\t\tG: function() {\n\t\t\t\treturn jsdate.getHours()\n\t\t\t},\n\t\t\th: function() {\n\t\t\t\treturn pad(f.g(), 2)\n\t\t\t},\n\t\t\tH: function() {\n\t\t\t\treturn pad(jsdate.getHours(), 2)\n\t\t\t},\n\t\t\ti: function() {\n\t\t\t\treturn pad(jsdate.getMinutes(), 2)\n\t\t\t},\n\t\t\ts: function() {\n\t\t\t\treturn pad(jsdate.getSeconds(), 2)\n\t\t\t},\n\t\t\t//u not supported yet \n\t\n\t\t\t// Timezone \n\t\t\t//e not supported yet \n\t\t\t//I not supported yet \n\t\t\tO: function() {\n\t\t\t\tvar t = pad(Math.abs(jsdate.getTimezoneOffset() / 60 * 100), 4);\n\t\t\t\tif(jsdate.getTimezoneOffset() > 0) t = '-' + t;\n\t\t\t\telse t = '+' + t;\n\t\t\t\treturn t;\n\t\t\t},\n\t\t\tP: function() {\n\t\t\t\tvar O = f.O();\n\t\t\t\treturn(O.substr(0, 3) + ':' + O.substr(3, 2))\n\t\t\t},\n\t\t\t//T not supported yet \n\t\t\t//Z not supported yet \n\t\n\t\t\t// Full Date/Time \n\t\t\tc: function() {\n\t\t\t\treturn f.Y() + '-' + f.m() + '-' + f.d() + 'T' + f.h() + ':' + f.i() + ':' + f.s() + f.P()\n\t\t\t},\n\t\t\t//r not supported yet \n\t\t\tU: function() {\n\t\t\t\treturn Math.round(jsdate.getTime() / 1000)\n\t\t\t}\n\t\t};\n\t\n\t\treturn format.replace(/([a-zA-Z])/g,function(t, s) {\n\t\t\tvar ret='';\n\t\t\tif(t != s) {\n\t\t\t\t// escaped \n\t\t\t\tret = s;\n\t\t\t} else if(f[s]) {\n\t\t\t\t// a date function exists \n\t\t\t\tret = f[s]();\n\t\t\t} else {\n\t\t\t\t// nothing special \n\t\t\t\tret = s;\n\t\t\t}\n\t\t\treturn ret;\n\t\t});\n\t}\n\t/*\n\t * dataURLtoBlob\n\t * 功能，base64转blob\n\t */\n\tfunction dataURLtoBlob(dataurl) {\n\t\tvar arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\n\t\twhile (n--) {\n\t\t\tu8arr[n] = bstr.charCodeAt(n);\n\t\t}\n\t\treturn new Blob([u8arr], { type: mime });\n\t}\n\t/*\n\t * decodeURIString\n\t * 功能，解码中文\n\t */\n\tfunction decodeURIString(obj){\n\t\tfor(var k in obj){\n\t\t\tif(valType(obj[k])=='string' && obj[k]){\n\t\t\t\ttry{\n\t\t\t\t\tobj[k]=decodeURI(obj[k]);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t}\n\t\t\tif(valType(obj[k])=='object'){\n\t\t\t\tobj[k]=decodeURIString(obj[k]);\n\t\t\t}\n\t\t}\n\t\treturn obj;\n\t}\n\t/*\n\t * getApp\n\t * 功能，获取平台类型是否是iphone\n\t */\n\tfunction getApp(){\n\t\tvar u = navigator.userAgent.toLowerCase();\n\t\tif(u.indexOf('iphone')>-1){\n\t\t\treturn 'iphone';\n\t\t}\n\t}\n\t/*\n\t * cookie\n\t * 功能，操作cookie\n\t */\n\tfunction cookie(name,value,domain,path){\n\t\tif(isUndefined(domain)){\n\t\t\tdomain='';\n\t\t}\n\t\tif(isUndefined(path)){\n\t\t\tpath='/';\n\t\t}\n\t\tvar ckStr=';domain='+domain+';path='+path;\n\t\tif(location.protocol=='https'){\n\t\t\tckStr+=';SameSite=None;Secure=true';\n\t\t}\n\t\tvar set=function(name,value){\n\t\t\tvar time = 360*24*60*60*1000;\n\t\t\tvar exp = new Date();\n\t\t\texp.setTime(exp.getTime() + time);\n\t\t\ttry{\n\t\t\t\tdocument.cookie = name + '='+ escape (value) + ';expires=' + exp.toGMTString()+ckStr;\n\t\t\t}\n\t\t\tcatch(event){console.error(event)}\n\t\t},\n\t\tget=function(name){\n\t\t\tvar arr,reg=new RegExp('(^| )'+name+'=([^;]*)(;|$)');\n\t\t\tif(arr=document.cookie.match(reg)){\n\t\t\t\treturn unescape(arr[2]);\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tdel=function(name){\n\t\t\tvar exp = new Date();\n\t\t\texp.setTime(exp.getTime() - 1);\n\t\t\tvar cval=get(name);\n\t\t\tif(cval!=null){\n\t\t\t\tdocument.cookie= name + '='+cval+';expires='+exp.toGMTString()+ckStr;\n\t\t\t}\n\t\t};\n\t\tif(!isUndefined(name) && !isUndefined(value)){\n\t\t\tif(value=='delete'){\n\t\t\t\tdel(name);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tset(name,value);\n\t\t\t\treturn get(name);\n\t\t\t}\n\t\t\t\n\t\t}\n\t\telse if(!isUndefined(name) && isUndefined(value)){\n\t\t\treturn get(name);\n\t\t}\n\t\telse if(!isUndefined(name)){\n\t\t\t\n\t\t}\n\t}\n\t/*\n\t * arrayToString\n\t * 功能，二维数组传化成字符串\n\t */\n\tfunction arrayToString(arr) {\n\t\tvar str='';\n\t\tif(!isUndefined(arr)){\n\t\t\tfor(var i=0;i<arr.length;i++){\n\t\t\t\tvar temp=arr[i];\n\t\t\t\tif(i>0){\n\t\t\t\t\tstr+=',';\n\t\t\t\t}\n\t\t\t\tfor(var y=0;y<temp.length;y++){\n\t\t\t\t\tif(y>0){\n\t\t\t\t\t\tstr+=';';\n\t\t\t\t\t}\n\t\t\t\t\tif(valType(temp[y])=='number'){\n\t\t\t\t\t\tstr+=parseInt(temp[y]*100);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tstr+=temp[y];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn str;\n\t}\n\t/*\n\t * stringToArray\n\t * 功能，字符串转化成二维数组\n\t */\n\tfunction stringToArray(str) {\n\t\tvar newArr=[];\n\t\tif(!isUndefined(str)){\n\t\t\tvar arr=str.split(',');\n\t\t\tfor(var i=0;i<arr.length;i++){\n\t\t\t\tvar temp=arr[i].split(';');\n\t\t\t\ttemp[1]=parseInt(temp[1])*0.01;\n\t\t\t\ttemp[2]=parseInt(temp[2])*0.01;\n\t\t\t\tnewArr.push(temp);\n\t\t\t}\n\t\t}\n\t\treturn newArr;\n\t}\n\t/*\n\t * documentHidden\n\t * 功能，监听页面切换到其它标签，执行fn函数\n\t */\n\tfunction documentHidden(fn){\n\t\tif(!isUndefined(document.visibilityState)){\n\t\t\tfn(document.visibilityState === 'visible'?'show':'hidden');\n\t\t\taddListener(document,'visibilitychange',function(){\n\t\t\t\tfn(document.visibilityState === 'visible'?'show':'hidden');\n\t\t\t});\n\t\t}\n\t}\n\treturn ckplayerEmbed;\n}));","count_time":{"symbolsCount":"94k","symbolsTime":"1:26"},"toc":""}